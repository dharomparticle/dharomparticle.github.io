!function(){function e(e){return function(t){return _.result(t,e)}}var t=Array.prototype.map;Array.prototype.map=function(i,s){if(s=s||this,!_.isString(i))return t.call(this,i,s);var n=i.replace(/^&/,"");return t.call(this,e(n),s)},_.map=function(i,s,n){if(!_.isString(s))return t.call(i,s,arguments);var o=s.replace(/^&/,"");return t.call(i,e(o),n)}}(),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.humanize=function(){return this.replace(/([A-Z])/g," $1").replace(/-|_/g," ").replace(/^\s?/,"")},String.prototype.hyphenate=function(){return this.replace(/([A-Z])/g," $1").toLowerCase().replace(/\s|_/g,"-").toLowerCase()},String.prototype.isBlank=function(){return 0===this.length},String.prototype.isPresent=function(){return this.length>0},String.prototype.titleCase=function(){return this.replace(/([A-Z])/g," $1").replace(/_|-/g," ").split(/\s/).map(function(e){return e.capitalize()}).join(" ")},String.prototype.toNumber=function(){return parseInt(this,10)},String.prototype.truncate=function(e){return this.length>e?this.substring(0,e)+"...":this},String.prototype.camelize=function(){return this.split(/_|-|\s/g).map(function(e,t){return t>0?e.capitalize():e.toLowerCase()}).join("")},String.prototype.constantize=function(){return this.camelize().capitalize()},String.prototype.underscore=function(){return this.replace(/([A-Z])/g," $1").replace(/^\s?/,"").replace(/-|\s/g,"_").toLowerCase()};var App={Models:{},Collections:{},BlackFriday:{Controllers:{},Views:{},Models:{},Collections:{}},Views:{User:{Preferences:{}},Subscription:{}},Controllers:{},Mixins:{},Lib:{},Data:{currentUrlParameters:function(){return App.Data.__currentUrlParameters?App.Data.__currentUrlParameters:(App.Data.__currentUrlParameters=App.ViewHelpers.hashFromQueryString(window.location.search),App.Data.__currentUrlParameters)},PageItems:{}},Dispatcher:_.clone(Backbone.Events),initialize:function(){this.registerEvents(),this.handleHashChange()},registerEvents:function(){$(window).on("hashchange",this.handleHashChange)},handleHashChange:function(){var e=location.hash.replace(/^#/,"");e.length<1||(this.Dispatcher.trigger("hashChange",e),this.Dispatcher.trigger("hashChange:"+e,e))}};_.bindAll(App,"handleHashChange","initialize"),$(App.initialize),sst={},sst.init=function(e){return e&&e.request_data&&(sst.config.request_data=_.defaults(e.request_data,sst.config.request_data)),sst.id.init()},sst.config={},sst.config.request_data={http_referer:""==document.referrer?null:document.referrer,current_page:window.location.href,query_string:window.location.search,user_agent:navigator.userAgent,channel:"web",location:$("html").attr("data-loc")||"unknown"},sst.config.constants={www_channel_id:25,session_params_hash:-967143883},sst.config.settings={urls:{id:"",el:""},params:{session:{campaign_name:["utm_campaign"],campaign_medium:["utm_medium"],campaign_source:["utm_source"],campaign_term:["utm_term"],campaign_content:["utm_content"],channel_id:["c_id"],affiliate_id:["a_id"],affiliate_sid:["a_sid"],x_tid:["tid","TID","Tid",!1],x_source:["s",!1]}},data:{session:{http_referer:sst.config.request_data.http_referer,landing_page:sst.config.request_data.current_page},device:{user_agent:sst.config.request_data.user_agent}}},sst.ajax={},sst.ajax.post=function(e){var t={url:e.url,cache:!1,dataType:"json",contentType:"text/plain; charset=UTF-8",type:"POST",data:JSON.stringify(e.data),success:e.success,error:e.error,complete:e.complete};return jQuery.support.cors||(t.dataType="jsonp",t.type="GET",t.data={_method:"POST",data:t.data}),jQuery.ajax(t)},sst.util={},sst.util.pad=function(e,t,i){var s=String(e);if(s.length<t)for(var n=t-s.length,o=0;o<n;o++)s=i.charAt(0)+s;return s},sst.util.dateToISOString=function(e){return e.toISOString?e.toISOString():sst.util.shivDateToISOString(e)},sst.util.shivDateToISOString=function(e){var t=String(e.getUTCFullYear()),i=sst.util.pad(e.getUTCMonth()+1,2,"0"),s=sst.util.pad(e.getUTCDate(),2,"0"),n=sst.util.pad(e.getUTCHours(),2,"0"),o=sst.util.pad(e.getUTCMinutes(),2,"0"),a=sst.util.pad(e.getUTCSeconds(),2,"0");return t+"-"+i+"-"+s+"T"+n+":"+o+":"+(a+="."+sst.util.pad(e.getUTCMilliseconds(),3,"0"))+"Z"},sst.util.getCookie=function(e){var t,i,s,n=document.cookie.split(";");for(t=0;t<n.length;t++)if(i=n[t].substr(0,n[t].indexOf("=")),s=n[t].substr(n[t].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))==e)return unescape(s)},sst.util.setCookie=function(e,t,i){var s=new Date;s.setDate(s.getDate()+i);var n=escape(t);n+=null==i?"":"; expires="+s.toUTCString(),document.cookie=e+"="+n+"; path=/"},sst.util.parseQueryParams=function(e){var t={};return e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,i,s){t[i]=decodeURI(s)}),t},sst.util.stringToHashCode=function(e){var t,i,s=0;if(0==e.length)return s;for(t=0,i=e.length;t<i;t++)s=(s<<5)-s+e.charCodeAt(t),s|=0;return s},sst.util.emptyObject=function(e){var t=!0;for(var i in e)if(e.hasOwnProperty(i)){t=!1;break}return t},sst.util.mergeNonNullProperties=function(){for(var e={},t=0;t<arguments.length;t++)for(var i in arguments[t])null!=arguments[t][i]&&(e[i]=arguments[t][i]);return e},sst.util.Set=function(){var e={};this.add=function(t){e[t]=!0},this.each=function(t){for(var i in e)t.call(i)}},sst.id={},sst.id.init=function(){return jQuery.Deferred(function(e){sst.id.s_id=new sst.id.CookieCacher("s_id"),sst.id.s_hash=new sst.id.CookieCacher("s_hash");var t=730;sst.id.d_id=new sst.id.CookieCacher("d_id",t),sst.id.u_id=new sst.id.CookieCacher("u_id",t);var i=sst.id.s_id.get(),s=sst.id.s_hash.get(),n=sst.id.d_id.get(),o=(sst.id.u_id.get(),sst.id.parseSessionParams(sst.util.parseQueryParams(sst.config.request_data.query_string),sst.config.settings.params.session));o=sst.id.normalizeChannelId(o);var a=sst.id.generateSessionHash(o,sst.config.settings.params.session);null==n||null==i||a!=sst.config.constants.session_params_hash&&s!=a?sst.id.createSession(o,a,n).then(e.resolve):a!=sst.config.constants.session_params_hash?sst.id.update("session",o).then(e.resolve):e.resolve(),sst.id.d_id.touch()})},sst.id.createSession=function(e,t,i){var s={};null!=i?s.d_id=i:s.d_data=sst.util.mergeNonNullProperties(sst.config.settings.data.device,{prior_device_id:sst.id.d_id.get()});var n=sst.id.s_data.load();sst.util.emptyObject(n)||0==t||t==n.s_hash||(n=sst.id.s_data.clear()),s.s_data=sst.util.mergeNonNullProperties({prior_session_id:sst.id.s_id.get(),session_hash:t},sst.config.settings.data.session,n,e),sst.id.s_data.save(s.s_data);var o={url:sst.config.settings.urls.id+"/sessions",async:!1,data:s,success:function(e){sst.id.s_hash.set(s.s_data.session_hash),sst.id.s_id.set(e.s_id),sst.id.d_id.set(e.d_id),sst.id.s_data.clear()},error:function(i){i.responseText&&i.responseText.match("d_id not found")&&sst.id.createSession(e,t,null)}};return sst.ajax.post(o)},sst.id.update=function(e,t){var i="sessions",s=sst.id.s_id.get();if("device"==e&&(i="devices",s=sst.id.d_id.get()),s){var n={url:sst.config.settings.urls.id+"/"+i+"/"+s,async:!1,data:t};return sst.ajax.post(n)}},sst.id.parseSessionParams=function(e,t){var i={};for(var s in t)for(var n=t[s],o=0;o<n.length;o++)if((o!=n.length-1||!1!==n[n.length-1]&&!0!==n[n.length-1])&&e[n[o]]!==undefined){var a=e[n[o]];i[s]=a;break}var r=sst.id.parseTid(i.x_tid);return i=sst.id.mergeTidParams(i,r)},sst.id.mergeTidParams=function(e,t){return _.keys(t).length&&(t.channel_id&&!e.channel_id&&(e.channel_id=t.channel_id),t.affiliate_id&&!e.affiliate_id&&(e.affiliate_id=t.affiliate_id),t.affiliate_sid&&!e.affiliate_sid&&(e.affiliate_sid=t.affiliate_sid)),e},sst.id.parseTid=function(e){var t={};if(e){var i=e.split("-"),s=i[0].replace(/C5B1L3BR2S/i,""),n=s/1369,o=i[8],a=i[9];isNaN(s)||s%1369!=0||(t.channel_id=n),o&&(t.affiliate_id=o),a&&(t.affiliate_sid=a)}return t},sst.id.generateSessionHash=function(e,t){var i={},s=[],n="";for(var o in e)if(o in t){var a=t[o],r=!0;a.length>1&&!1===a[a.length-1]&&(r=!1),r&&(i[o]=e[o],s.push(o))}s.sort();for(var l=0;l<s.length;l++)n=n+s[l]+":"+i[s[l]]+";";return sst.util.stringToHashCode(n)},sst.id.CookieCacher=function(e,t){var i=null;e=e,t=t;this.get=function(){return null==i&&(i=sst.util.getCookie(e)),i},this.set=function(s){null==s?(i=null,sst.util.setCookie(e,"",-1)):(i=s,sst.util.setCookie(e,i,t))},this.clear=function(){this.set(null)},this.touch=function(){this.set(this.get())}},sst.id.s_data=new function(){var e="s_data";this.save=function(t){sst.util.setCookie(e,JSON.stringify(t))},this.load=function(){var t={},i=sst.util.getCookie(e);return i!=undefined&&(t=JSON.parse(i)),t},this.clear=function(){return sst.util.setCookie(e,"",-1),{}}},sst.id.normalizeChannelId=function(e){if("channel_id"in e){var t=e.channel_id;e.channel_id=t>0?Number(t):sst.config.constants.default_www_channel_id}else e.channel_id=sst.config.constants.www_channel_id;return e},sst.el={},sst.el.changeLocation=function(e){var t={event:"pageview"};sst.config.request_data.location=e.loc,sst.config.request_data.current_page=window.location.href,e.variant&&(t.variant=e.variant),sst.el.sendTrackEvent(t)},sst.el.sendTrackEvent=function(e,t){t===undefined&&!1!==t&&(t=!0),e.d_id=sst.id.d_id.get(),e.s_id=sst.id.s_id.get(),e.u_id=sst.id.u_id.get(),e.url=sst.config.request_data.current_page,e.channel=sst.config.request_data.channel,e.location=sst.config.request_data.location,e.cookies=document.cookie,null!==sst.config.request_data.http_referer&&(e.http_referer=sst.config.request_data.http_referer);var i={url:sst.config.settings.urls.el+"/events",async:t,data:e};sst.ajax.post(i)},App.UId={trackUser:function(e){this.updateUIdCookie(e),this.updateUIdTrackers(),this.notifyEventLogger(e)},updateUIdCookie:function(e){e=e||{};var t=App.Data.currentUrlParameters(),i=e.id||t.u_id||t.emailid,s=parseInt(i);i==s&&sst.id.u_id.set(s)},updateUIdTrackers:function(){var e=parseInt(sst.id.u_id.get())||null;App.Dispatcher.trigger("UIdReady",e),e&&this.updateIdService(e)},updateIdService:function(e){var t=sst.id.s_id.get(),i=$.cookie("u_hash",JSON.parse),s=i&&i[e],n={s_data:{user_id:e}},o={d_data:{user_id:e}},a=function(e,t){sst.id.update(e,t)};s?s!=t&&a("session",n):(a("session",n),a("device",o)),(i={})[e]=t,$.cookie("u_hash",JSON.stringify(i))},notifyEventLogger:function(e){var t=[];(e=e||{}).created&&t.push({event:"subscribe"}),e.user_profile_created&&t.push({event:"signup"}),t.length&&sst.el.sendTrackEvent({events:t})}},function(){var e,t,i,s,n,o,a={}.hasOwnProperty,r=[].slice;o="undefined"!=typeof exports&&null!==exports?exports:this,(i=function(e){this.message=e}).prototype=new Error,t={GROUP:1,CAT:2,SYMBOL:3,OR:4,STAR:5,LITERAL:6,SLASH:7,DOT:8},e=!1,s=["anchor","trailing_slash","subdomain","host","port","protocol"],n={configuration:{prefix:"",default_url_options:{},special_options_key:"_options",serializer:null},default_serializer:function(e,t){var i,s,n,o,r,l,p;if(null==t&&(t=null),null==e)return"";if(!t&&"object"!==this.get_object_type(e))throw new Error("Url parameters should be a javascript hash");switch(p=[],this.get_object_type(e)){case"array":for(s=n=0,r=e.length;n<r;s=++n)i=e[s],p.push(this.default_serializer(i,t+"[]"));break;case"object":for(o in e)a.call(e,o)&&(null==(l=e[o])&&null!=t&&(l=""),null!=l&&(null!=t&&(o=t+"["+o+"]"),p.push(this.default_serializer(l,o))));break;default:null!=e&&p.push(encodeURIComponent(t.toString())+"="+encodeURIComponent(e.toString()))}return p.length?p.join("&"):""},serialize:function(e){var t;return null!=(t=this.configuration.serializer)&&"function"===this.get_object_type(t)?t(e):this.default_serializer(e)},clean_path:function(e){var t;return(e=e.split("://"))[t=e.length-1]=e[t].replace(/\/+/g,"/"),e.join("://")},extract_options:function(e,t){var i,s;return i=t[t.length-1],t.length>e&&void 0===i||null!=i&&"object"===this.get_object_type(i)&&!this.looks_like_serialized_model(i)?(delete(s=t.pop()||{})[this.configuration.special_options_key],s):{}},looks_like_serialized_model:function(e){return!e[this.configuration.special_options_key]&&("id"in e||"to_param"in e)},path_identifier:function(e){var t;if(0===e)return"0";if(!e)return"";if(t=e,"object"===this.get_object_type(e)){if("to_param"in e){if(null==e.to_param)throw new i("Route parameter missing: to_param");t=e.to_param}else if("id"in e){if(null==e.id)throw new i("Route parameter missing: id");t=e.id}else t=e;"function"===this.get_object_type(t)&&(t=t.call(e))}return t.toString()},clone:function(e){var t,i,s;if(null==e||"object"!==this.get_object_type(e))return e;for(s in i=e.constructor(),e)a.call(e,s)&&(t=e[s],i[s]=t);return i},merge:function(){var e,t;if(e=function(e,t){return t(e),e},(null!=(t=1<=arguments.length?r.call(arguments,0):[])?t.length:void 0)>0)return e({},function(e){var i,s,n,o,a,r;for(o=[],i=0,n=t.length;i<n;i++)r=t[i],o.push(function(){var t;for(s in t=[],r)a=r[s],t.push(e[s]=a);return t}());return o})},normalize_options:function(t,i,n,o){var r,l,p,c,d,h,u,m,f,g,_,w;if(d=this.extract_options(t.length,o),o.length>t.length)throw new Error("Too many parameters provided for path");for(p in _=e||o.length>i.length,u={},d)a.call(d,p)&&(_=!0,this.indexOf(t,p)>=0&&(u[p]=w));for(p in d=this.merge(this.configuration.default_url_options,n,d),g={},(m={}).url_parameters=g,d)a.call(d,p)&&(w=d[p],this.indexOf(s,p)>=0?m[p]=w:g[p]=w);for(r=0,l=0,c=(f=_?t:i).length;l<c;l++)h=f[l],r<o.length&&(u.hasOwnProperty(h)||(g[h]=o[r],++r));return m},build_route:function(e,t,i,s,o,a){var r,l,p,c,d;return a=Array.prototype.slice.call(a),l=(r=this.normalize_options(e,t,i,a)).url_parameters,p=""+this.get_prefix()+this.visit(s,l),c=n.clean_path(p),!0===r.trailing_slash&&(c=c.replace(/(.*?)[\/]?$/,"$1/")),(d=this.serialize(l)).length&&(c+="?"+d),c+=r.anchor?"#"+r.anchor:"",o&&(c=this.route_url(r)+c),c},visit:function(e,s,n){var o,a,r,l,p,c;switch(null==n&&(n=!1),p=e[0],o=e[1],r=e[2],p){case t.GROUP:return this.visit(o,s,!0);case t.STAR:return this.visit_globbing(o,s,!0);case t.LITERAL:case t.SLASH:case t.DOT:return o;case t.CAT:return a=this.visit(o,s,n),l=this.visit(r,s,n),n&&(this.is_optional_node(o[0])&&!a||this.is_optional_node(r[0])&&!l)?"":""+a+l;case t.SYMBOL:if(null!=(c=s[o]))return delete s[o],this.path_identifier(c);if(n)return"";throw new i("Route parameter missing: "+o);default:throw new Error("Unknown Rails node type")}},is_optional_node:function(e){return this.indexOf([t.STAR,t.SYMBOL,t.CAT],e)>=0},build_path_spec:function(e,i){var s,n,o;switch(null==i&&(i=!1),o=e[0],s=e[1],n=e[2],o){case t.GROUP:return"("+this.build_path_spec(s)+")";case t.CAT:return""+this.build_path_spec(s)+this.build_path_spec(n);case t.STAR:return this.build_path_spec(s,!0);case t.SYMBOL:return!0===i?("*"===s[0]?"":"*")+s:":"+s;case t.SLASH:case t.DOT:case t.LITERAL:return s;default:throw new Error("Unknown Rails node type")}},visit_globbing:function(e,t,i){var s,n;return e[0],s=e[1],e[2],s.replace(/^\*/i,"")!==s&&(e[1]=s=s.replace(/^\*/i,"")),null==(n=t[s])?this.visit(e,t,i):(t[s]=function(){switch(this.get_object_type(n)){case"array":return n.join("/");default:return n}}.call(this),this.visit(e,t,i))},get_prefix:function(){var e;return""!==(e=this.configuration.prefix)&&(e=e.match("/$")?e:e+"/"),e},route:function(e,t,i,s){var o,a,r,l,p,c,d,h;for(h=[],l=[],o=0,a=e.length;o<a;o++)r=(c=e[o])[0],d=c[1],l.push(r),d&&h.push(r);return(p=function(){return n.build_route(l,h,t,i,s,arguments)}).required_params=h,p.toString=function(){return n.build_path_spec(i)},p},route_url:function(e){var t,i,s;return"string"==typeof e?e:(t=e.host||n.current_host())?(s=e.subdomain?e.subdomain+".":"",(e.protocol||n.current_protocol())+"://"+s+t+(i=(i=e.port||(e.host?void 0:n.current_port()))?":"+i:"")):""},has_location:function(){return null!=("undefined"!=typeof window&&null!==window?window.location:void 0)},current_host:function(){return this.has_location()?window.location.hostname:null},current_protocol:function(){return this.has_location()&&""!==window.location.protocol?window.location.protocol.replace(/:$/,""):"http"},current_port:function(){return this.has_location()&&""!==window.location.port?window.location.port:""},_classToTypeCache:null,_classToType:function(){var e,t,i,s;if(null!=this._classToTypeCache)return this._classToTypeCache;for(this._classToTypeCache={},e=0,t=(s="Boolean Number String Function Array Date RegExp Object Error".split(" ")).length;e<t;e++)i=s[e],this._classToTypeCache["[object "+i+"]"]=i.toLowerCase();return this._classToTypeCache},get_object_type:function(e){return o.jQuery&&null!=o.jQuery.type?o.jQuery.type(e):null==e?""+e:"object"==typeof e||"function"==typeof e?this._classToType()[Object.prototype.toString.call(e)]||"object":typeof e},indexOf:function(e,t){return Array.prototype.indexOf?e.indexOf(t):this.indexOfImplementation(e,t)},indexOfImplementation:function(e,t){var i,s,n,o;for(o=-1,i=s=0,n=e.length;s<n;i=++s)e[i]===t&&(o=i);return o},namespace:function(e,t,i){var s,n,o,a,r;if(0===(r=t.split(".")).length)return i;for(s=n=0,o=r.length;n<o;s=++n){if(a=r[s],!(s<r.length-1))return e[a]=i;e=e[a]||(e[a]={})}},configure:function(e){return this.configuration=this.merge(this.configuration,e)},config:function(){return this.clone(this.configuration)},make:function(){var e;return(e={acquisitions_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),acquisitions_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),acquisitions_deal_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing",!1],[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),acquisitions_deal_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing",!1],[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),ad_choices_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"ad-choices",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),ad_choices_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"ad-choices",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),alexa_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"oauth",!1],[2,[7,"/",!1],[2,[6,"alexa",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),alexa_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"oauth",!1],[2,[7,"/",!1],[2,[6,"alexa",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),all_merchants_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[6,"all",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),all_merchants_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[6,"all",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),api_interests_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"interests",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),api_interests_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"interests",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),api_my_deals_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"my-deals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),api_my_deals_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"api",!1],[2,[7,"/",!1],[2,[6,"my-deals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),app_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"app",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),app_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"app",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),appboy_unsubscribe_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"appboy",!1],[2,[7,"/",!1],[2,[6,"unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),appboy_unsubscribe_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"appboy",!1],[2,[7,"/",!1],[2,[6,"unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),apple_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"apple",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),apple_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"apple",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),authorize_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"oauth",!1],[2,[7,"/",!1],[2,[6,"authorize",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),authorize_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"oauth",!1],[2,[7,"/",!1],[2,[6,"authorize",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),black_friday_path:n.route([["merchant",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"black-friday",!1],[2,[7,"/",!1],[2,[3,"merchant",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),black_friday_url:n.route([["merchant",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"black-friday",!1],[2,[7,"/",!1],[2,[3,"merchant",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),black_friday_index_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"black-friday",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),black_friday_index_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"black-friday",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),blog_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"blog",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),blog_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"blog",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),blog_category_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"blog",!1],[2,[7,"/",!1],[2,[6,"category",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),blog_category_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"blog",!1],[2,[7,"/",!1],[2,[6,"category",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),blogs_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"blog",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),blogs_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"blog",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),cares_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"cares",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),cares_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"cares",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),categories_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),categories_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),category_path:n.route([["category_slug",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[5,[3,"*category_slug",!1],!1],[2,[7,"/",!1],[2,[3,"item_type",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),category_url:n.route([["category_slug",!0],["item_type",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[5,[3,"*category_slug",!1],!1],[2,[7,"/",!1],[2,[3,"item_type",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),category_feed_path:n.route([["category_slug",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[3,"category_slug",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),category_feed_url:n.route([["category_slug",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[3,"category_slug",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),collection_path:n.route([["slug",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"collections",!1],[2,[7,"/",!1],[2,[3,"slug",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),collection_url:n.route([["slug",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"collections",!1],[2,[7,"/",!1],[2,[3,"slug",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),comment_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),comment_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"comments",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),comment_policy_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"comment-policy",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),comment_policy_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"comment-policy",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),comments_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),comments_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"comments",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),contact_us_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"contact-us",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),contact_us_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"contact-us",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),contact_us_notify_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"contact_us",!1],[2,[7,"/",!1],[2,[6,"notify",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),contact_us_notify_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"contact_us",!1],[2,[7,"/",!1],[2,[6,"notify",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),contest_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"contest",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),contest_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"contest",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),contest_index_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"contest",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),contest_index_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"contest",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),coupon_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"coupons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),coupon_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"coupons",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),coupons_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"coupons",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),coupons_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"coupons",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),coupons_merchant_path:n.route([["merchant_id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"coupons",!1],[2,[7,"/",!1],[2,[3,"merchant_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),coupons_merchant_url:n.route([["merchant_id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"coupons",!1],[2,[7,"/",!1],[2,[3,"merchant_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),credit_card_path:n.route([["slug",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"credit-cards",!1],[2,[7,"/",!1],[2,[3,"slug",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),credit_card_url:n.route([["slug",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"credit-cards",!1],[2,[7,"/",!1],[2,[3,"slug",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),credit_cards_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"credit-cards",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),credit_cards_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"credit-cards",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),cvs_terms_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"cvs-terms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),cvs_terms_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"cvs-terms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),cyber_monday_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"cyber-monday",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),cyber_monday_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"cyber-monday",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),deal_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),deal_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),deal_alerts_landing_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"deal-alerts",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),deal_alerts_landing_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"deal-alerts",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),deals_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),deals_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),deals_count_deals_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[6,"count",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),deals_count_deals_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[6,"count",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),email_preferences_user_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email-preferences",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),email_preferences_user_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email-preferences",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),engagement_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"engagements",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),engagement_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"engagements",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),engagements_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"engagements",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),engagements_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"engagements",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),engagements_users_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"engagements",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),engagements_users_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"engagements",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),entries_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"entries",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),entries_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"entries",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),event_path:n.route([["slug",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"events",!1],[2,[7,"/",!1],[2,[3,"slug",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),event_url:n.route([["slug",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"events",!1],[2,[7,"/",!1],[2,[3,"slug",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),exclusive_deals_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"exclusives",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),exclusive_deals_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"exclusives",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),faq_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"faq",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),faq_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"faq",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),feed_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"feeds",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),feed_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"feeds",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),google_index_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"google",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),google_index_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"google",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),guide_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"guides",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),guide_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"guides",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),guides_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"guides",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),guides_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"guides",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),healthcheck_index_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"healthcheck",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),healthcheck_index_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"healthcheck",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),help_center_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"help-center",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),help_center_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"help-center",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),help_center_notify_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"help_center",!1],[2,[7,"/",!1],[2,[6,"notify",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),
help_center_notify_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"help_center",!1],[2,[7,"/",!1],[2,[6,"notify",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),how_we_work_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"how-we-work",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),how_we_work_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"how-we-work",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),kohls_merchant_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[6,"kohls",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),kohls_merchant_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[6,"kohls",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),kohls_single_use_terms_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"kohls-single-use-terms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),kohls_single_use_terms_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"kohls-single-use-terms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),landing_v2_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing-v2",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),landing_v2_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing-v2",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),merchant_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),merchant_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),merchants_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),merchants_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),merchants_by_character_path:n.route([["character",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[6,"all",!1],[2,[7,"/",!1],[2,[3,"character",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),merchants_by_character_url:n.route([["character",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[6,"all",!1],[2,[7,"/",!1],[2,[3,"character",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),mobile_acquisitions_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing",!1],[2,[7,"/",!1],[2,[6,"mobile",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),mobile_acquisitions_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing",!1],[2,[7,"/",!1],[2,[6,"mobile",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),native_app_acquisitions_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing",!1],[2,[7,"/",!1],[2,[6,"native-app",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),native_app_acquisitions_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"landing",!1],[2,[7,"/",!1],[2,[6,"native-app",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),new_password_user_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"password-reset",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),new_password_user_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"password-reset",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),newest_deals_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"newest-deals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),newest_deals_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"newest-deals",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),pandora_single_use_terms_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"pandora-single-use-terms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),pandora_single_use_terms_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"pandora-single-use-terms",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),pattern_library_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"pattern-library",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),pattern_library_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"pattern-library",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),pause_subscription_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"pause",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),pause_subscription_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"pause",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),placement_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"placements",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),placement_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"placements",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),popular_merchants_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[6,"popular_merchants",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),popular_merchants_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"stores",!1],[2,[7,"/",!1],[2,[6,"popular_merchants",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),privacy_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"privacy",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),privacy_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"privacy",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),recommended_deal_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"recommended",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),recommended_deal_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"recommended",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),related_deal_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"related",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),related_deal_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"deals",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"related",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),request_reset_user_passwords_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"password",!1],[2,[7,"/",!1],[2,[6,"request-reset",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),request_reset_user_passwords_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"password",!1],[2,[7,"/",!1],[2,[6,"request-reset",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),root_path:n.route([],{},[7,"/",!1]),root_url:n.route([],{},[7,"/",!1],!0),rules_contest_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"contest",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"rules",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),rules_contest_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"contest",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"rules",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),saved_items_user_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"saved-items",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),saved_items_user_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"saved-items",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),searches_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"search",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),searches_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"search",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),send_request_reset_user_passwords_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"password",!1],[2,[7,"/",!1],[2,[6,"request-reset",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),send_request_reset_user_passwords_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"password",!1],[2,[7,"/",!1],[2,[6,"request-reset",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),sessions_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"sessions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),sessions_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"sessions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),share_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[6,"share",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),share_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[6,"share",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),subscription_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),subscription_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),subscriptions_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),subscriptions_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),subscriptions_users_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"subscriptions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),subscriptions_users_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[2,[7,"/",!1],[2,[6,"subscriptions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),terms_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"terms-of-use",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),terms_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"terms-of-use",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),the_north_face_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"the-north-face",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),the_north_face_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"the-north-face",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),topics_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"topics",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),topics_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"topics",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),travel_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"travel",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),travel_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"travel",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),travel_category_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"travel",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),travel_category_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"travel",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),unsubscribe_subscription_path:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),unsubscribe_subscription_url:n.route([["id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[2,[7,"/",!1],[2,[3,"id",!1],[2,[7,"/",!1],[2,[6,"unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),unsubscribe_subscriptions_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[2,[7,"/",!1],[2,[6,"unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),unsubscribe_subscriptions_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"subscriptions",!1],[2,[7,"/",!1],[2,[6,"unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),unsubscribe_user_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),unsubscribe_user_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"unsubscribe",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),user_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),user_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),user_email_confirm_path:n.route([["md5",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[3,"md5",!1],[2,[7,"/",!1],[2,[6,"confirm",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),user_email_confirm_url:n.route([["md5",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[3,"md5",!1],[2,[7,"/",!1],[2,[6,"confirm",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],!0),user_email_preferences_path:n.route([["md5",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[3,"md5",!1],[2,[7,"/",!1],[2,[6,"preferences",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),user_email_preferences_url:n.route([["md5",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[3,"md5",!1],[2,[7,"/",!1],[2,[6,"preferences",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],!0),user_email_resend_confirm_path:n.route([["md5",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[3,"md5",!1],[2,[7,"/",!1],[2,[6,"resend_confirm",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),user_email_resend_confirm_url:n.route([["md5",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[3,"md5",!1],[2,[7,"/",!1],[2,[6,"resend_confirm",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],!0),user_email_subscriptions_path:n.route([["md5",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[3,"md5",!1],[2,[7,"/",!1],[2,[6,"subscriptions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]]),user_email_subscriptions_url:n.route([["md5",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"email",!1],[2,[7,"/",!1],[2,[3,"md5",!1],[2,[7,"/",!1],[2,[6,"subscriptions",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]]],!0),user_passwords_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"password",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),user_passwords_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"me",!1],[2,[7,"/",!1],[2,[6,"password",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]],!0),user_profiles_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"user_profiles",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),user_profiles_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"user_profiles",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),users_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),users_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"users",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0),video_games_category_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"electronics",!1],[2,[7,"/",!1],[2,[6,"video-games",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]]),video_games_category_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"categories",!1],[2,[7,"/",!1],[2,[6,"electronics",!1],[2,[7,"/",!1],[2,[6,"video-games",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]],!0),vip_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"vip",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),vip_url:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"vip",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]],!0)}).configure=function(e){return n.configure(e)},e.config=function(){return n.config()},Object.defineProperty(e,"defaults",{get:function(){throw new Error("App.Routes.defaults is removed. Use App.Routes.configure() instead.")},set:function(){}}),e.default_serializer=function(e,t){return n.default_serializer(e,t)},n.namespace(o,"App.Routes",e)}},"function"==typeof define&&define.amd?define([],function(){return n.make()}):n.make()}.call(this),App.Assets={images:{"brad-signature-30px.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/brad-signature-30px-a65d2a1ee22881c3520d4301e78b2f38968aecc228e4ec57075cb873a013418d.png","bradsdeals-logo-b-color.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/bradsdeals-logo-b-color-2afc6214f444d8293ad413f22ee675cf95664d068082acc2411a58578907bbe4.png","users/avatar-anon@2x.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/users/avatar-anon@2x-c2ac149b6af3a336eb0e6335f68ced9322f2a21f8b841f4513e68502620257b6.png","sad-face.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/sad-face-3dffcff91b139703f29a03c9159824044d1bcc92e58b5006a569f466904f7407.png","close-button.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/close-button-560f84a4e9d2506aa4c55d1e44ba44ad94400a02680644bcddc1aa730e6441eb.png","logos/bd-seal-with-tag@2x.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/logos/bd-seal-with-tag@2x-3b829303056f508a7adf6b2e80aca3340d5c44cfe3e436ddfc62a1e908cbe842.png","logos/bd-2tone-logo.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/logos/bd-2tone-logo-13c956bbdb43d46c79a350913c9b3beb077b49ae596889284fc27e04abe516f3.png","svgs/btn_email_icon.svg":"https://d1qtg2nt5n73li.cloudfront.net/assets/svgs/btn_email_icon-a62564796c583e6c0659a65b03dba101755c74e24e51258686deec31a3443841.svg","svgs/btn_facebook_icon.svg":"https://d1qtg2nt5n73li.cloudfront.net/assets/svgs/btn_facebook_icon-050e2feb0394585bbfdd8516c2d2f2a20eaabcace88ee1e348556a21ba17650c.svg","svgs/official_facebook_color.svg":"https://d1qtg2nt5n73li.cloudfront.net/assets/svgs/official_facebook_color-50cf45801fb1c7154a0ad712959ce596ad7727763cdd52c34fd8d6351b2926ce.svg","svgs/official_facebook_black.svg":"https://d1qtg2nt5n73li.cloudfront.net/assets/svgs/official_facebook_black-95c1cfe6a77f4e2232ad96512987b087817b24520db041eab408376ea6e4a170.svg","svgs/official_facebook_white.svg":"https://d1qtg2nt5n73li.cloudfront.net/assets/svgs/official_facebook_white-f933e97281938b905f51031297fe73ca4036d8e9aeb9848db1f7e5500484c857.svg","svgs/btn_google_icon.svg":"https://d1qtg2nt5n73li.cloudfront.net/assets/svgs/btn_google_icon-67add1489e71915a3bb8e4508174b1ffe4d865427efec02f56b1722dea2dcee2.svg","default-acq-img.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/default-acq-img-609daf06f378d78879d6b7fad15d1aedc51ffb1eb064a97d5e2e27fbd6f0db19.png","dd-acq-slide-1.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/dd-acq-slide-1-e445ab478e4469a9a905a39409fe8405cb854fbaa8f76d8752cbd6a8c2873f35.png","dd-acq-slide-2.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/dd-acq-slide-2-da514a5e110a3b3db1a1993f6d7b5c98b94637166bd660c0e350450cefadea0a.png","dd-acq-slide-3.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/dd-acq-slide-3-2c6d58f37518bc8e3edf5ea89d8a32b3aa5a1959fc915ce5876621a0b591b27d.png","credit-card-placeholder.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/credit-card-placeholder-b006ed2266b08a801233e857f5fc2f8e667e6fa135b340647c8386bb2e6ce216.png","empty_screens/no_search_results/no_deals.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/empty_screens/no_search_results/no_deals-676fb7c5b162673a46b79af987f6d4802a6cfa21d037d29fff504c763ff94844.png","empty_screens/no_search_results/no_coupons.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/empty_screens/no_search_results/no_coupons-1fde5d8fc387b83cfc5d0d4e1efd03954377fa7ec9d4e11673daa7cc06c5923b.png","empty_screens/empty_search.png":"https://d1qtg2nt5n73li.cloudfront.net/assets/empty_screens/empty_search-10dfa6560c2e3368726414adbdd59adcc6d242f9ee25d3cbedbe00e6db0c7ec7.png","deal_alerts/60_days.jpg":"https://d1qtg2nt5n73li.cloudfront.net/assets/deal_alerts/60_days-06048e31e862d7a84eb67edf5e232dbe4d93d08afc4dc611adff69b3fd989a92.jpg","deal_alerts/video_games.jpg":"https://d1qtg2nt5n73li.cloudfront.net/assets/deal_alerts/video_games-2486f1b8b76d29e4e7add4a0f56cb89f6d7c811d8ef58f059dd8d71b9e1cedb2.jpg","deal_alerts/winter_wear_markdowns.jpg":"https://d1qtg2nt5n73li.cloudfront.net/assets/deal_alerts/winter_wear_markdowns-8fd9b9e9a39ec0c0982326a256f6eef90431eb23e4f98dcac651952a5c187ae9.jpg"},imagePath:function(e){return App.Assets.images[e]}},function(){this.JST||(this.JST={}),this.JST["templates/contests/confirmation"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="wrapper">\n  <div class="row">\n    <h2 class="clean-header">',headline,'</h2>\n  </div>\n  <div class="row">\n    <div class="col large-8 large-push-2 medium-8 medium-push-2 small-12">\n      ',body,"\n    </div>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/contests/email_entry"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row">\n  <div class="col large-6 large-push-3 medium-6 medium-push-3 small-12">\n    <span class="btn facebook-login-button icon facebook signup">\n      With Facebook\n    </span>\n  </div>\n</div>\n<div class="row">\n  <div class="col large-12 medium-12 small-12 tight">\n    <h3 class="clean-header">or</h3>\n  </div>\n</div>\n<div class="form-block">\n  <form method="post" action="',App.Routes.users_path(),'" class="sign-up-form" data-remote="true" data-type="json" novalidate="novalidate">\n    <ul class="input-list reset clearfix">\n      <li class="bullet icon">\n        <div class="row">\n          <div class="col large-12 medium-12 small-12">\n            <p>With your email address.</p>\n          </div>\n        </div>\n      </li>\n      <li class="bullet icon error-message">\n        <div class="row">\n          <div class="col large-12 medium-12 small-12">\n            <label for="email">\n              <span class="error"></span>\n            </label>\n          </div>\n        </div>\n      </li>\n      <li class="bullet icon email">\n        <div class="row">\n          <div class="col large-12 medium-12 small-12">\n            <input id="email" name="email" type="email" tabindex="1" value="',this.user.get("email"),'">\n          </div>\n        </div>\n      </li>\n    </ul>\n    <input type="submit" class="btn-pressable teal" value="',this.model.get("button_text"),'" data-disable-with="',this.model.get("button_text"),'"></input>\n  </form>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/contests/entry"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="wrapper row">\n  <div class="col large-8 large-push-2 medium-10 medium-push-1 small-12">\n    <div class="row">\n      <div class="col large-12 medium-12 small-12">\n        <h2 class="clean-header">Enter to Win</h2>\n      </div>\n    </div>\n    <div id="entry-form-area"></div>\n  </div>\n  <div class="col rules large-12 medium-12 small-12">\n    <h2 class="clean-header">The Rules</h2>\n    <div class="col large-12 medium-12 small-12">\n      ',this.model.get("disclaimer"),"\n    </div>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/contests/full_user_entry"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),this.moreInformationNeeded()?(__p.push('\n  <div class="row">\n    <div class="col large-12 medium-12 small-12">\n      <p>Hi, ',this.user.firstNameLastInitial(),"</p>\n      <p>",this.fullUserEntryTitle(),'</p>\n    </div>\n  </div>\n  <div class="form-block">\n    <form method="patch" action="',App.Routes.user_profiles_path(),'" class="update-profile-form" data-remote="true" data-type="json" novalidate="novalidate">\n      <ul class="input-list clearfix reset">\n        '),this.model.requiresLocation()&&!this.user.location()&&__p.push('\n          <li class="bullet icon">\n            <div class="row">\n              <label for="location" class="col large-12 medium-12 small-12 ">\n                <span class="default">City, State</span>\n                <span class="error"></span>\n              </label>\n            </div>\n          </li>\n          <li class="icon bullet location">\n            <div class="row">\n              <div class="col large-12 medium-12 small-12">\n                <input id="location" name=\'location\' class="icon" type="text" tabindex="5" />\n              </div>\n            </div>\n          </li>\n        '),__p.push("\n        "),this.model.requiresBirthday()&&!this.user.birthday()&&__p.push('\n          <li class="bullet icon">\n            <div class="row">\n              <label for=\'month\' class="col large-12 medium-12 small-12">\n                <span class="default">Your Birthday</span>\n                <span class="error"></span>\n              </label>\n            </div>\n          </li>\n          <li class="icon bullet gift">\n            <div class="row">\n              <ul class="reset horizontal date-picker col large-12 medium-12 small-12 flush-3">\n                <li class="col large-5 medium-5">\n                  <select id=\'month\' name="month" tabindex="6" >\n                    <option selected disabled>month</option>\n                    ',this.birthdayOptions.months(),'\n                  </select>\n                </li>\n                <li class="col large-3 medium-3">\n                  <select id="day" name="day"  tabindex="7" >\n                    <option selected disabled>day</option>\n                    ',this.birthdayOptions.days(),'\n                  </select>\n                </li>\n                <li class="col large-4 medium-4">\n                  <select id="year" name="year"  tabindex="8" >\n                    <option selected disabled>year</option>\n                    ',this.birthdayOptions.years(),'\n                  </select>\n                </li>\n              </ul>\n            </div>\n            <input name="birthday" type="hidden" value="">\n          </li>\n        '),__p.push('\n      </ul>\n      <div class="row">\n        <p>Not ',this.user.get("email"),'? <span class="link reset-link">Enter with a different email address.</span></p>\n      </div>\n      <div class="row">\n        <div class="col large-6 large-push-3 medium-6 medium-push-3 small-12">\n          <input type="submit" class="btn-pressable" value="',this.model.get("button_text"),'" data-disable-with="',this.model.get("button_text"),'"></input>\n        </div>\n      </div>\n    </form>\n  </div>\n')):__p.push('\n  <div class="row">\n    <div class="col large-12 medium-12 small-12">\n      <p>Hi, ',this.user.firstNameLastInitial(),"</p>\n      <p>Complete your entry as ",this.user.get("email"),'.</p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col large-6 large-push-3 medium-6 medium-push-3 small-12">\n      <span id="enter-contest" class="btn-pressable">',this.model.get("button_text"),'</span>\n    </div>\n    <div class="col large-12 medium-12 small-12">\n      <p>Not ',this.user.firstNameLastInitial(),'? <span class="link reset-link">Click here to enter.</span></p>\n    </div>\n  </div>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/contests/password"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row">\n  <div class="col large-6 large-push-3 medium-6 medium-push-3 small-12">\n    <span class="btn facebook-login-button icon facebook signup">\n      With Facebook\n    </span>\n  </div>\n</div>\n<div class="row">\n  <div class="col large-12 medium-12 small-12 tight">\n    <h3 class="clean-header">or</h3>\n  </div>\n</div>\n<div class="row">\n  <div class="col large-12 medium-12 small-12">\n    ',email,' is already registered. Please log in to enter.\n  </div>\n</div>\n<div class="form-block">\n  <form method="post" action="',App.Routes.sessions_path(),'" class="login-form" data-remote="true" data-type="json" novalidate="novalidate">\n    <ul class="input-list reset clearfix">\n      <li class="bullet icon">\n        <div class="row">\n          <div class="col large-12 medium-12 small-12 ">\n            <label for="password">\n              <span class="default">\n                <p>Provide your password.</p>\n              </span>\n              <span class="error"></span>\n            </label>\n          </div>\n        </div>\n      </li>\n      <li class="bullet icon lock">\n        <div class="row">\n          <div class="col large-12 medium-12 small-12 ">\n            <input id="password" name="password" type="password" tabindex="3">\n            <input name="email" type="hidden" value="',email,'">\n          </div>\n          <div class="col large-12 medium-12 small-12">\n            <span class="link modal-link forgot-password" data-modal="reset_password">\n              Forgot password?\n            </span>\n          </div>\n        </div>\n      </li>\n    </ul>\n    <div class="row">\n      <div class="col large-6 large-push-3 medium-6 medium-push-3 small-12">\n        <input type="submit" class="btn-pressable" value="',this.model.get("button_text"),'" data-disable-with="',this.model.get("button_text"),'"></input>\n      </div>\n    </div>\n  </form>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/contests/profile_entry"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row">\n  <div class="col large-6 large-push-3 medium-6 medium-push-3 small-12">\n    <span class="btn facebook-login-button icon facebook signup">\n      With Facebook\n    </span>\n  </div>\n</div>\n<div class="row">\n  <div class="col large-12 medium-12 small-12">\n    <h3 class="clean-header">or</h3>\n  </div>\n</div>\n<div class="form-block">\n  <form method="post" action="',App.Routes.user_profiles_path(),'" class="create-profile-form" data-remote="true" data-type="json" novalidate="novalidate">\n    <div class="row">\n      <div class="col large-12 medium-12 small-12">\n        <p>Complete the information below for ',this.user.get("email"),'.</p>\n      </div>\n    </div>\n    <ul class="input-list clearfix reset">\n      <li class="bullet icon">\n        <div class="row">\n          <div class="col large-12 medium-12 small-12 ">\n            <label for="first_name">\n              <span class="default">Your Name</span>\n              <span class="error"></span>\n            </label>\n          </div>\n        </div>\n      </li>\n      <li class="bullet icon">\n        <div class="row">\n          <div class="col large-6 medium-6 small-12 ">\n            <input id="first_name" name="first_name" type="text" tabindex="1" placeholder="First Name">\n          </div>\n          <div class="col large-6 medium-6 small-12 ">\n            <input id="last_name" name="last_name" type="text" tabindex="2" placeholder="Last Name">\n          </div>\n        </div>\n      </li>\n      <li class="bullet icon">\n        <div class="row">\n          <div class="col large-12 medium-12 small-12 ">\n            <label for="password">\n              <span class="default">\n                Choose a password\n                <i> (at least 8 characters)</i>\n              </span>\n              <span class="error"></span>\n            </label>\n          </div>\n        </div>\n      </li>\n      <li class="bullet icon lock">\n        <div class="row">\n          <div class="col large-12 medium-12 small-12 ">\n            <input id="password" name="password" type="password" tabindex="3">\n          </div>\n          <div class="col large-12 medium-12 hide-for-small ">\n            <span class="toggle-password clearfix">\n              <input type="checkbox" id="show_password" tabindex="4" >\n              <label for="show_password">Show Password</label>\n            </span>\n          </div>\n        </div>\n      </li>\n      '),this.model.requiresLocation()&&__p.push('\n        <li class="bullet icon">\n          <div class="row">\n            <label for="location" class="col large-12 medium-12 small-12 ">\n              <span class="default">City, State</span>\n              <span class="error"></span>\n            </label>\n          </div>\n        </li>\n        <li class="icon bullet location">\n          <div class="row">\n            <div class="col large-12 medium-12 small-12">\n              <input id="location" name=\'location\' class="icon" type="text" tabindex="5" />\n            </div>\n          </div>\n        </li>\n      '),__p.push("\n      "),
this.model.requiresBirthday()&&__p.push('\n        <li class="bullet icon">\n          <div class="row">\n            <label for=\'month\' class="col large-12 medium-12 small-12">\n              <span class="default">Your Birthday</span>\n              <span class="error"></span>\n            </label>\n          </div>\n        </li>\n        <li class="icon bullet gift">\n          <div class="row">\n            <ul class="reset horizontal date-picker col large-12 medium-12 small-12 flush-3">\n              <li class="col large-5 medium-5">\n                <select id=\'month\' name="month"  tabindex="6" >\n                  <option selected disabled>month</option>\n                  ',this.birthdayOptions.months(),'\n                </select>\n              </li>\n              <li class="col large-3 medium-3">\n                <select id="day" name="day"  tabindex="7" >\n                  <option selected disabled>day</option>\n                  ',this.birthdayOptions.days(),'\n                </select>\n              </li>\n              <li class="col large-4 medium-4">\n                <select id="year" name="year"  tabindex="8" >\n                  <option selected disabled>year</option>\n                  ',this.birthdayOptions.years(),'\n                </select>\n              </li>\n            </ul>\n          </div>\n          <input name="birthday" type="hidden" value="">\n        </li>\n      '),__p.push('\n    </ul>\n    <div class="row">\n      <p>Not ',this.user.get("email"),'? <span class="link reset-link">Enter with a different email address.</span></p>\n    </div>\n    <div class="row">\n      <div class="col large-6 large-push-3 medium-6 medium-push-3 small-12">\n        <input type="submit" class="btn-pressable" value="',this.model.get("button_text"),'" data-disable-with="',this.model.get("button_text"),'"></input>\n      </div>\n    </div>\n  </form>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/coupons/coupon_author_info"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('Expires <span class="',this.expiringSoonClass(),'">',this.formattedExpiration(),"</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/coupons/coupon_go_link"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),this.model.isExpired()?__p.push('\n  <div class="golink-split-wrapper">\n'):__p.push('\n  <a target="_blank" href="',this.model.goLink(),'" class="golink-split-wrapper ',this.wrapperClass(),'">\n'),__p.push('\n    <svg version="1.1" class="golink-split-svg golink-split left with-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       viewBox="0 0 90.4 76.8" enable-background="new 0 0 90.4 76.8" xml:space="preserve">\n      <g>\n        <polygon fill="#338296" points="90.3,0 0,0 16.1,38.4 0,76.8 90.4,76.8   "/>\n        <path fill="#AECDD8" d="M73.7,53.5l-9.9-8.6c-1-1-2.1-1.3-3.1-1.3c2.3-2.9,3.9-6.2,3.9-10.1c0-8.6-7-15.8-15.8-15.8\n          S33,24.7,33,33.5s7,15.8,15.8,15.8c3.9,0,7.5-1.3,10.1-3.6c0,0.8,0.3,2.1,1.3,3.1l8.6,9.9c1.6,1.6,3.9,1.8,5.2,0.3\n          C75.5,57.1,75.3,54.8,73.7,53.5z M48.8,43.9c-5.7,0-10.4-4.7-10.4-10.4s4.7-10.4,10.4-10.4s10.4,4.7,10.4,10.4\n          C59.4,39.2,54.5,43.9,48.8,43.9z"/>\n      </g>\n    </svg>\n    <div class="golink-split golink-split-center">\n      ',this.model.linkText(),'\n    </div>\n    <svg version="1.1" class="golink-split-svg golink-split right" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       viewBox="0 0 15.8 75.5" enable-background="new 0 0 15.8 75.5" xml:space="preserve">\n      <polygon fill="#338296" points="0,75.5 15.8,37.7 0,0 "/>\n    </svg>\n'),this.model.isExpired()?__p.push("\n  </div>\n"):(__p.push("\n  </a>\n  "),this.model.get("code")&&__p.push('\n    <span class="coupon-code" data-href="',this.model.goLink(),'">',this.model.get("code"),"</span>\n  "),__p.push("\n")),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/coupons/coupon_tile"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="coupon-flex-content">\n  <h5 class="text-stripe expiration-date"></h5>\n  <div class="discount-module">\n    <h3 class="clean-header ',this.headerClass(),'">\n      ',this.model.get("title"),'\n      <span class="advertiser-disclosure-link" hidden>*</span>\n    </h3>\n    <div class="coupon-description details">\n      <p>\n        ',this.model.get("description"),"\n        ",this.model.get("instructions"),'\n      </p>\n    </div>\n  </div>\n   <a href="',this.model.goLink(),'" class="btn-pressable bottom-btn">Go To Sale</a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/coupons/coupons_page_item_v2"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="block coupon">\n  <header class="row">\n    <a href="',coupon.shareURL(),'" class="card large-3 medium-3 small-5">\n      <img src="',coupon.get("merchant").logo.large,'" class="merchant-logo large-11 medium-11 small-11" alt="">\n    </a>\n    <a href="',coupon.storesURL(),'" class="merchant-deals-link">View ',coupon.get("merchant").name,' Deals</a>\n  </header>\n  <div class="drawer-container">\n    <div class="title slide-left">\n      <div class="information">\n        <meta item-prop="category" content="Coupon">\n        <h3>\n          <a href="',coupon.goLink(),'" class="go-link title" target="_blank">\n            ',coupon.get("name"),'\n          </a>\n        </h3>\n        <div class="advertiser-disclosure-link" hidden=true>\n          <a href="#disclosure">Advertiser Disclosure</a>\n        </div>\n        '),coupon.isExpired()||(__p.push('\n          <div class="coupon-go-link flexbox">\n            '),coupon.hasCode()&&__p.push('\n              <span class="btn-pressable-coupon-blurred" data-href="',coupon.goLink(),'">\n                ',coupon.get("code"),'\n              </span>\n              <input type="submit" class="btn-2d teal hide copy-and-go" value="Copy Code" data-clipboard-text="',coupon.get("code"),'">\n              <p class="clipboard-message success hide">Code has been copied to clipboard</p>\n              <p class="clipboard-message error hide">Something went wrong, try again.</p>\n            '),__p.push('\n            <a href="',coupon.goLink(),'" class="btn-2d teal ',coupon.hasCode()?"coupon-code-link":"coupon-link",'" target="_blank">\n              '),coupon.hasCode(),__p.push("\n                ",coupon.get("link_text"),"\n              "),__p.push("\n            </a>\n          </div>\n        ")),__p.push('\n      </div>\n    </div>\n    <div class="details slide-right">\n      ',coupon.third_party_tracking_pixel,'\n      <p class="coupon-new-description">\n        '),coupon.isExpiringSoon()&&__p.push('\n          <span class="expiring-soon">Expiring Soon</span>\n        '),__p.push("\n        ",coupon.get("description"),"\n        ",coupon.get("instructions"),'\n      </p>\n    </div>\n  </div>\n  <div class="drawer-container bottom">\n    <div class="expiration-info slide-left">\n      <span class="'),coupon.get("expiring_soon"),__p.push('">Expires ',coupon.get("expiration"),"</span>\n      "),coupon.get("redepmtion_count")&&__p.push('\n        <span class="redemptions">',coupon.get("redemption_text"),"</span>\n      "),__p.push('\n      <span class="details-link hide-for-large hide-for-medium">Details &raquo;</span>\n    </div>\n    <div class="new-engagement-module slide-right">\n      <div class="facebook-share icon">\n        <img src="',App.Assets.imagePath("svgs/official_facebook_black.svg"),'">\n      </div>\n      <div class="email-share icon">',JST["templates/svgs/hollow_email_icon"](),"</div>\n    </div>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/deals/deal_author_info"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<section>\n  <div class="author-avatar">\n    <img src="',this.authorAvatar(),'">\n  </div>\n  <ul class="reset post-information">\n    <li class="author-name">\n      ',item.get("author_text"),"\n      "),item.get("by_editor")&&__p.push("\n        <span class='editor-text'> - Editor at Brad's Deals</span>\n      "),__p.push("\n    </li>\n    "),item.get("starts_at")&&__p.push('\n      <li class="posted-time" data-created-at="',item.get("starts_at"),'"></li>\n    '),__p.push("\n  </ul>\n</section>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/deals/tile"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a href="',App.Routes.deal_path(this.model.get("param")),'" class="tile">\n  ',this.model.get("image"),"\n  ",this.model.get("third_party_tracking_pixel"),'\n  <span class="deal-title">\n    ',this.model.get("title"),'\n    <span class="advertiser-disclosure-link" hidden>*</span>\n  </span>\n</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/engagements/comment_link_module"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a href="',this.discussionPath()+"#comments",'" class="icon chat-box">\n  <span>',this.model.commentCount(),"</span>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/home_page_pro_pagination"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="homepage-pro-pagination">\n  <ul class="reset clearfix">\n    <li class="next">\n      <a href="',this.pathHelper({page:4}),'" class="icon arrow-right end-of-line">View more deals</a>\n    </li>\n  </ul>\n  <span class="page-count">\n    Pages 1, 2, 3 of ',this.maxPageNumber(),"\n  </span>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/home_page_welcome"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),this.user.isFullUser()?__p.push('\n  <h1 class="large-header">Welcome Back, ',this.user.firstName(),'</h1>\n  <h2 class="sub-header">',this.dealCountSubHeader(),"</h2>\n"):__p.push('\n  <h1 class="large-header">Welcome Back!</h1>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/tab_bar"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<ul class='reset row tab-bar'>\n  "),this.options.tabs.forEach(function(e){__p.push("\n    <li class='tab col tight ",gridClass," ",e.slug,"' data-slug='",e.slug,"'>\n      <a href='#",e.slug,"'>\n        ",e.title,"\n      </a>\n    </li>\n  ")}),__p.push("\n</ul>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/acquisition"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<img src='",App.Assets.imagePath("logos/bd-seal-with-tag@2x.png"),"' alt=\"Brad's Deals\" class='bd-logo' />\n<h2 class='modal-title'>",this.modalTitle(),"</h2>\n<h3 class='modal-subtitle'>",this.modalSubTitle(),"</h3>\n<form action='",App.Routes.users_path(),"' method='POST' data-remote='true' class='sign-up-form' data-type='json'>\n  "),this.hideEmail()||__p.push("\n    <label for='email'>Please enter your email address:</label>\n    <ul class=\"errors reset\"></ul>\n    <input type='text' id='email' name='email' placeholder='Email Address' />\n    <input type='submit' value='Submit' class='btn' style='",this.buttonStyling(),"' data-disable-with='Submitting...'>\n  "),__p.push("\n  "),this.hideFacebook()||__p.push('\n    <span class="btn facebook-login-button signup">\n      <img src="',App.Assets.imagePath("svgs/official_facebook_white.svg"),'">\n      Sign Up with Facebook\n    </span>\n  '),__p.push("\n</form>\n<p class=\"centered small\">\n  The Brad's Deals <a href='",App.Routes.privacy_path(),"'>Privacy Policy</a> is this:\n  <br />\n  We don't share your email address with anyone, and we never will.\n</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/acquisition_mobile"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("",JST["templates/svgs/bd_logotype_white"](),"\n<h1>",this.modalText().h1,"</h1>\n<h2 class='modal-subtitle'>",this.modalText().h2,"</h2>\n<h3 class='modal-subtitle'>",this.modalText().h3,"</h3>\n<form action='",App.Routes.users_path(),"' method='POST' data-remote='true' class='sign-up-form' data-type='json'>\n  "),this.hideEmail()||__p.push("\n    <ul class='errors reset'></ul>\n    <input type='text' id='email' name='email' placeholder='Enter Your Email Here' />\n    <input type='submit' value='Unlock the top deals' class='btn' style='",this.buttonStyling(),"'>\n  "),__p.push("\n  "),this.hideEmail()||this.hideFacebook()||__p.push("\n    <div class='between-buttons'>\n      <span>or</span>\n    </div>\n  "),__p.push("\n  "),this.hideFacebook()||__p.push('\n    <span class="btn facebook-login-button signup">\n      <img src="',App.Assets.imagePath("svgs/official_facebook_white.svg"),'">\n      Log In With Facebook\n    </span>\n  '),__p.push('\n</form>\n<a href="',this.closeModalPath(),'" class="cancel">No thanks, I\'m not interested in the best deals</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/create_profile"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<h2 class='modal-title'>",this.modalTitle(),'</h2>\n<div class="row replace-on-ajax-success">\n  <div class="col large-10 medium-10 small-12 large-push-1 medium-push-1 hide-for-small">\n    <p class="modal-description divider">\n      You\u2019re subscribed to Brad\u2019s Picks! If you\u2019d like to take advantage of additional personalization features on Brad\u2019s Deals, we\u2019ll need to know a bit more about you.\n    </p>\n  </div>\n  <div class="col large-8 medium-8 large-push-2 medium-push-2 small-12 small-push-1 form-block">\n    <form action=\'',App.Routes.user_profiles_path(),"' method='POST' data-remote='true' class='create-profile-form' data-type='json'>\n      <ul class=\"reset input-list clearfix\">\n        <li class=\"row bullet\">\n          <div class=\"col large-12 medium-12 small-12 tight\">\n            <label for='first_name'>\n              <span class='default'>Your Name</span>\n              <span class='error'></span>\n            </label>\n          </div>\n        </li>\n        <li class=\"row bullet flush-2\">\n          <div class=\"col large-6 medium-6 small-6\">\n            <input type='text' id='first_name' name='first_name' placeholder='First Name' value=''>\n          </div>\n          <div class=\"col large-6 medium-6 small-6\">\n            <input type='text' id='last_name' name='last_name' placeholder='Last Name' value=''>\n          </div>\n        </li>\n        <li class=\"row bullet\">\n          <div class=\"col large-12 medium-12 small-12 tight\">\n            <label for='password'>\n              <span class='default'>\n                Choose a password\n                <i> (at least 8 characters)</i>\n              </span>\n              <span class='error'></span>\n            </label>\n          </div>\n        </li>\n        <li class=\"row bullet icon lock\">\n          <div class=\"col large-12 medium-12 small-12 tight\">\n            <input type='password' id='password' name='password' />\n          </div>\n          <div class=\"col large-12 medium-12 small-12 tight hide-for-small\">\n            <span class=\"toggle-password clearfix\">\n              <input type='checkbox' id='show_password' name='show_password' />\n              <label for='show_password'>Show Password</label>\n            </span>\n          </div>\n        </li>\n      </ul>\n      <div class=\"col large-12 medium-12 small-12\">\n        <input type='submit' class='btn primary' value='Create Your Profile' />\n      </div>\n    </form>\n  </div>\n</div>\n<p class=\"centered\">\n  Not ",this.currentUserEmail(),"?\n  <br />\n  <a href='#' class='modal-link' data-modal='sign_up'>Sign up</a>\n  or\n  <a href='#' class='modal-link' data-modal='login'>Log In</a>\n  as a different user.\n</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/email_share"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="modal-title">Share this ',this.title(),' with a friend</h2>\n<form accept-charset="UTF-8" action="/email/share" class="email-share-form" data-remote="true" data-type="json" method="post" autocomplete="off">\n  <div style="margin:0;padding:0;display:inline">\n    <input name="utf8" type="hidden" value="\u2713">\n  </div>\n  <div class="row">\n    <div class="col large-7 medium-7 small-12">\n      <input id="share_item_description_" name="share[item_description]" type="hidden" value="',encodeURIComponent(this.description()),'"/>\n      <input id="share_item_headline_" name="share[item_headline]" type="hidden" value="',encodeURIComponent(this.headline()),'"/>\n      <input id="share_item_url_" name="share[item_url]" type="hidden" value="',this.shareUrl(),'" />\n      <input id="share_item_image_" name="share[item_image]" type="hidden" value="',this.model.get("item").shareImage(),'" />\n      <input id="share_item_type_" name="share[item_type]" type="hidden" value="',this.model.get("item").modelClass,'" />\n\n      <label for="share_name">Your name</label>\n      <input id="share_name" name="share[name]" type="text" value="',this.model.get("share").name,'" />\n\n      <label for="share_from">Your email</label>\n      <input id="share_from" name="share[from]" type="email" value="',this.model.get("share").from,'" />\n\n      <label for="share_to">Your friend\'s email</label>\n      <input id="share_to" name="share[to]" type="email" value="',this.model.get("share").to,'" />\n      <ul class="horizontal submit-list reset">\n        <li><input class="btn primary" name="commit" type="submit" value="SEND EMAIL"></li>\n      </ul>\n    </div>\n    <div class="col large-5 medium-5 small-12">\n      <label>Here\'s what you\'re sharing:</label>\n      <div class="message-preview-area"></div>\n    </div>\n  </div>\n</form>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/login"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<h2 class='modal-title'>",this.modalTitle(),"</h2>\n<div class='row'>\n  <div class='col large-8 medium-8 large-push-2 medium-push-2 small-12 small-push-1 form-block'>\n    <div class='replace-on-ajax-success'>\n      <form action='",App.Routes.sessions_path(),"' method='POST' data-remote='true' class='login-form' data-type='json' novalidate='novalidate'>\n        <ul class='reset input-list clearfix'>\n          <li class='clearfix'>\n            <div class='col large-12 medium-12 tight'>\n              <label for='email'>\n                <span class='default'>Email</span>\n                <span class='error'></span>\n              </label>\n            </div>\n            <div class='bullet icon email col large-12 medium-12 small-12 tight'>\n              <input type='email' id='email' name='email' />\n            </div>\n          </li>\n          <li class='clearfix'>\n            <div class='col large-12 medium-12 small-12 tight'>\n              <label for='password'>\n                <span class='default'>Password</span>\n                <span class='error'></span>\n              </label>\n            </div>\n            <div class='bullet icon lock col large-12 medium-12 small-12 tight'>\n              <input type='password' id='password' name='password' />\n            </div>\n          </li>\n          <li>\n            <span class='link modal-link forgot-password' data-modal='reset_password'>Forgot password?</span>\n          </li>\n        </ul>\n        <ul class='reset horizontal centered submit-list'>\n          <li>\n            <input type='submit' class='btn primary large-12 medium-12' value='Log In' />\n          </li>\n          <li>\n            <div class='btn large-12 medium-12 facebook-login-button signup'>\n              <img src=\"",App.Assets.imagePath("svgs/official_facebook_white.svg"),"\">\n              Log In With Facebook\n            </div>\n          </li>\n          <li>\n            <div class=\"btn large-12 medium-12 google-login-button icon google signup\">\n              Log In with Google\n            </div>\n          </li>\n        </ul>\n      </form>\n    </div>\n  </div>\n</div>\n<p class='centered small row'>\n  Don't have an account?\n  <span class='link modal-link' data-modal='sign_up'>\n    Sign up\n  </span>\n</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/remove_alert"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="col wide large-12 medium-12 small-12 remove-alert">\n  <h2 class="modal-title clean-header">Remove Alert</h2>\n  <p class="error hide">\n    Problem removing alert. Please try again.\n  </p>\n  <form>\n    <input type="submit" class="btn-inverted" value="Remove Alert" data-disable-with="Removing..." />\n    <span class="btn-pressable cancel-button">No, Don\'t Remove</span>\n  </form>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/reset_password"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="modal-title">Forgot your password?</h2>\n<div class="row">\n  <div class="col large-8 medium-8 small-10 large-push-2 medium-push-2 small-push-1">\n    <p class="modal-description">\n      No problem, enter your email address below and we will send you a link to reset your password.\n    </p>\n    <div id=\'reset-password\'></div>\n  </div>\n</div>\n<br/>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/sign_up"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<div class=\"view-container\">\n  <h2 class='modal-title'>",this.modalTitle(),'</h2>\n  <div class="row">\n    <div class="col large-8 medium-8 large-push-2 medium-push-2 small-12 small-push-1 form-block">\n      <form action=\'',App.Routes.users_path(),"' method='POST' data-remote='true' class='sign-up-form' data-type='json' novalidat='novalidate'>\n        "),this.hideEmail()||__p.push("\n          <ul class=\"reset input-list clearfix\">\n            <li class=\"clearfix\">\n              <div id=\"hinput\" class=\"col large-12 medium-12 small-12 tight\">\n                <input type='text' name='name' id='name' autocomplete='off'>\n              </div>\n              <div class=\"col large-12 medium-12 small-12 tight\">\n                <label for='email'>\n                  <span class='default-copy'>Email</span>\n                  <span class='error'></span>\n                </label>\n              </div>\n              <div class=\"bullet icon email col large-12 medium-12 small-12 tight\">\n                <input type='email' id='email' name='email' />\n              </div>\n            </li>\n            <li class=\"clearfix gender-field\">\n              <div class=\"col small-12 tight\">Send me deals for:</div>\n              <div class=\"col small-12\">\n                <input type='radio' name='gender' id='gender-male' value='m'>\n                <label for='gender-male'>Men</label>\n                <input type='radio' name='gender' id='gender-female' value='f'>\n                <label for='gender-female'>Women</label>\n              </div>\n              <div class=\"col small-12 tight\">\n                <span id='gender-tooltip'></span>\n              </div>\n            </li>\n          </ul>\n        "),__p.push('\n        <ul class="reset horizontal centered submit-list">\n          '),this.hideEmail()||__p.push("\n            <li>\n              <input type='submit' value='Sign Up' class='btn primary large-12 medium-12' data-disable-with=\"Sign Up\">\n            </li>\n          "),__p.push("\n          "),this.hideFacebook()||__p.push('\n            <li>\n              <div class="btn large-12 medium-12 facebook-login-button signup">\n                <img src="',App.Assets.imagePath("svgs/official_facebook_white.svg"),'">\n                Log In With Facebook\n              </div>\n            </li>\n          '),__p.push("\n          "),this.hideGoogle()||__p.push('\n            <li>\n              <div class="btn large-12 medium-12 google-login-button icon google signup">\n                Log In with Google\n              </div>\n            </li>\n          '),__p.push("\n        </ul>\n      </form>\n    </div>\n  </div>\n  <p class=\"centered\">\n    Already have an account?\n    <a href='#' class='modal-link' data-modal='login'>Log in</a>\n  </p>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/sign_up_alt"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="alt-acq">\n  <div class="row hide-for-large hide-for-medium">\n    <img class="small-4 acq-logo" alt="Brad\'s Deals logo" src="',App.Assets.imagePath("logos/bd-2tone-logo.png"),'">\n  </div>\n  <div class="row">\n    <div class="col large-5 medium-5 small-12 large-last medium-last small-first wide">\n      <img class="acq-deal-img" src="">\n    </div>\n    <div class="acq-signup col large-7 medium-7 small-12 wide">\n      <div class="icon-signup">\n        <h2>Sign up for Brad\'s Deals</h2>\n        <h3 class="miniature-capital-header">Sign Up With</h3>\n        <div class="btn-container">\n          <img class="acq-btn acq-facebook facebook-login-button signup" alt="Sign Up with Facebook" src="',App.Assets.imagePath("svgs/btn_facebook_icon.svg"),'" tabindex="1" role="button" aria-label="Sign Up with Facebook">\n          <img class="acq-btn acq-google google-login-button signup" alt="Sign Up with Google" src="',App.Assets.imagePath("svgs/btn_google_icon.svg"),'" tabindex="2" role="button" aria-label="Sign Up with Google">\n          <img class="acq-btn acq-email" alt="Sign Up with Email" src="',App.Assets.imagePath("svgs/btn_email_icon.svg"),'" tabindex="3" role="button" aria-label="Sign Up With Email">\n        </div>\n      </div>\n      <div class="form-signup" style="display:none;">\n        <h3 class="miniature-capital-header">Sign Up</h3>\n        <form action="',App.Routes.users_path(),'" method="POST" data-remote="true" class="sign-up-form" data-type="json" novalidate="novalidate">\n          <ul class="reset input-list clearfix">\n            <li class="clearfix">\n              <div id="hinput" class="col large-12 medium-12 small-12 tight">\n                <input type="text" name="name" id="name" autocomplete="off">\n              </div>\n              <div class="col large-12 medium-12 small-12 tight">\n                <label for="email">\n                  <span class=\'default-copy\'>Email</span>\n                  <span class="error"></span>\n                </label>\n              </div>\n              <div class="col large-12 medium-12 small-12 tight">\n                <input type="email" id="email" name="email" placeholder="Email" />\n              </div>\n            </li>\n          </ul>\n          <ul class="reset centered">\n            <li>\n              <input type="submit" value="Sign Up" class="btn-pressable teal large-12 medium-12 small-12" data-disable-with="Signing Up">\n            </li>\n          </ul>\n          <a href="#" class="acq-link cancel" tabindex="4">Cancel</a>\n      </div>\n    </div>\n  </div>\n  <div class="acq-footer">\n    <a href="#" class="acq-link acq-login modal-link small-last" data-modal="login" tabindex="5">Log In</a>\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/subscription_pause"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="col large-12 medium-12 small-12">\n  <h2 class="modal-title">\n    ',this.title(),"\n  </h2>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/subscription_unsubscribe"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="col large-12 medium-12 small-12">\n  <h2 class="modal-title">\n    ',this.title(),"\n  </h2>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modals/unsubscribe"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="col wide large-12 medium-12 small-12 unsubscribe">\n  <h2 class="modal-title clean-header">Unsubscribe</h2>\n  <form>\n    <label for="email">\n      Email\n      <span class="error"></span>\n    </label>\n    <input autofocus="true" id="email" name="email" required="required" type="email" value="',this.email(),'"></input>\n    <small>This will unsubscribe you from all Brad\'s Deals emails</small>\n    <h3 class="modal-title">We hate to see you go!</h3>\n    <p>\n      You can always make adjustments to the amount of emails we send you.\n    </p>\n    <input type="submit" class="btn-inverted" value="Unsubscribe" data-disable-with="Unsubscribing...">\n    <span class="btn-pressable cancel-button">Update my Preferences</span>\n  </form>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/notifications/error_notification"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="close-msg">\n  <span class="svg x">\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">\n      <path d="M80.8,75.8L76.6,80c-1.9,1.9-5.1,1.9-7.1,0L50,60.4L30.4,80c-1.9,1.9-5.1,1.9-7.1,0l-4.2-4.2c-1.9-1.9-1.9-5.1,0-7.1 l19.6-19.6L19.1,29.5c-1.9-1.9-1.9-5.1,0-7.1l4.2-4.2c1.9-1.9,5.1-1.9,7.1,0L50,37.8l19.6-19.6c1.9-1.9,5.1-1.9,7.1,0l4.2,4.2 c1.9,1.9,1.9,5.1,0,7.1L61.2,49.2l19.6,19.6C82.7,70.7,82.7,73.9,80.8,75.8z"/>\n    </svg>\n  </span>\n</span>\n<span class="flash-text">\n  ',msg,"\n</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/notifications/info_notification"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg exclamation-circled">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-33 35 32 32" style="enable-background:new -33 35 32 32;" xml:space="preserve">\n    <path d="M-17,66.9c-2.1,0-4.2-0.4-6.2-1.2c-1.9-0.8-3.6-1.9-5-3.4c-1.5-1.5-2.6-3.1-3.4-5c-0.8-2-1.2-4-1.2-6.2 s0.4-4.2,1.2-6.2c0.8-1.9,1.9-3.6,3.4-5c1.5-1.5,3.1-2.6,5-3.4c2-0.8,4-1.2,6.2-1.2s4.2,0.4,6.2,1.2c1.9,0.8,3.6,1.9,5,3.4 c1.5,1.5,2.6,3.1,3.4,5c0.8,2,1.2,4,1.2,6.2s-0.4,4.2-1.2,6.2c-0.8,1.9-1.9,3.6-3.4,5c-1.5,1.5-3.1,2.6-5,3.4 C-12.8,66.4-14.9,66.9-17,66.9z M-17,36.5c-8,0-14.5,6.5-14.5,14.5S-25,65.5-17,65.5S-2.5,59-2.5,51S-9,36.5-17,36.5z M-19.6,58.4 c0-0.4,0.1-0.7,0.2-1c0.1-0.3,0.3-0.6,0.5-0.8c0.2-0.2,0.5-0.4,0.8-0.5c0.3-0.1,0.7-0.2,1-0.2c0.4,0,0.7,0.1,1,0.2 c0.3,0.1,0.6,0.3,0.8,0.5c0.2,0.2,0.4,0.5,0.5,0.8c0.1,0.3,0.2,0.7,0.2,1c0,0.4-0.1,0.7-0.2,1c-0.1,0.3-0.3,0.6-0.5,0.8 c-0.2,0.2-0.5,0.4-0.8,0.5c-0.3,0.1-0.7,0.2-1,0.2c-0.4,0-0.7-0.1-1-0.2c-0.3-0.1-0.6-0.3-0.8-0.5c-0.2-0.2-0.4-0.5-0.5-0.8 C-19.5,59.1-19.6,58.8-19.6,58.4z M-14.9,54.3h-4.2V41h4.2V54.3z"/>\n  </svg>\n</span>\n<span class="flash-text">\n  ',msg,"\n</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/notifications/success_notification"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)}
;with(obj||{})__p.push('<span class="svg star-circled">\n  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-33 35 32 32" style="enable-background:new -33 35 32 32;" xml:space="preserve">\n    <path d="M-17.1,66.8c-2.1,0-4.2-0.4-6.2-1.2c-1.9-0.8-3.6-1.9-5-3.4c-1.5-1.5-2.6-3.1-3.4-5c-0.8-2-1.2-4-1.2-6.2 c0-2.2,0.4-4.2,1.2-6.2c0.8-1.9,1.9-3.6,3.4-5c1.5-1.5,3.1-2.6,5-3.4c2-0.8,4-1.2,6.2-1.2s4.2,0.4,6.2,1.2c1.9,0.8,3.6,1.9,5,3.4 c1.5,1.5,2.6,3.1,3.4,5c0.8,2,1.2,4,1.2,6.2c0,2.2-0.4,4.2-1.2,6.2c-0.8,1.9-1.9,3.6-3.4,5c-1.5,1.5-3.1,2.6-5,3.4 C-12.9,66.4-14.9,66.8-17.1,66.8z M-17.1,36.5c-8,0-14.4,6.5-14.4,14.5S-25,65.5-17,65.5S-2.6,59-2.6,51S-9.1,36.5-17.1,36.5z M-16.7,56.7l5.3,3.7c0.5,0.3,1.1-0.1,0.9-0.7l-1.9-6.2c-0.1-0.2,0-0.5,0.2-0.7l5.2-3.9c0.5-0.4,0.2-1.1-0.4-1.1l-6.5-0.1 c-0.3,0-0.5-0.2-0.6-0.4l-2.1-6.1c-0.2-0.6-1-0.6-1.2,0l-2.1,6.1c-0.1,0.2-0.3,0.4-0.6,0.4l-6.5,0.1c-0.6,0-0.8,0.8-0.4,1.1l5.2,3.9 c0.2,0.2,0.3,0.4,0.2,0.7l-1.9,6.2c-0.2,0.6,0.5,1,0.9,0.7l5.3-3.7C-17.2,56.5-16.9,56.5-16.7,56.7z"/>\n  </svg>\n</span>\n<span class="flash-text">\n  ',msg,"\n</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/accordant_media"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<script src="https://secure.adnxs.com/px?id=784354&seg=7020169&t=1" type="text/javascript"></script>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/all"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("",JST["templates/pixels/accordant_media"](),"\n",JST["templates/pixels/bing"](),"\n",JST["templates/pixels/flex_media"](),"\n",JST["templates/pixels/fluent"]({params:params}),"\n",JST["templates/pixels/google"](),"\n",JST["templates/pixels/power_inbox"](),"\n",JST["templates/pixels/steelhouse"](),"\n",JST["templates/pixels/yahoo"](),"\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/bing"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<script type="text/javascript"> if (!window.mstag) mstag = {loadTag : function(){},time : (new Date()).getTime()};</script> <script id="mstag_tops" type="text/javascript" src="//flex.msn.com/mstag/site/2237a4d2-dc9c-4be7-8621-a97a512dd6a3/mstag.js"></script> <script type="text/javascript"> mstag.loadTag("analytics", {dedup:"1",domainId:"1304190",type:"1",actionid:"101905"})</script> <noscript> <iframe src="//flex.msn.com/mstag/tag/2237a4d2-dc9c-4be7-8621-a97a512dd6a3/analytics.html?dedup=1&domainId=1304190&type=1&actionid=101905" frameborder="0" scrolling="no" width="1" height="1" style="visibility:hidden;display:none"> </iframe> </noscript>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/flex_media"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<img src="//www.bellcoat.com/rd/ipx.php?sid=13459&transid=[UNIQUE_TRANSACTION_ID]" style="display:none"/>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/fluent"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),params.s2&&__p.push('\n<img src="//t.afftrackr.com/p.ashx?o=209645&e=85&f=pb&r=',params.s2,'&t=" style="display:none"/>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/google"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<script type="text/javascript">\nvar google_conversion_id = 1071858369;\nvar google_conversion_language = "en";\nvar google_conversion_format = "3";\nvar google_conversion_color = "ffffff";\nvar google_conversion_label = "hAFWCMuS3AEQwYWN_wM";\nvar google_conversion_value = 1.00;\nvar google_remarketing_only = false;\n</script>\n\n<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">\n</script>\n\n<noscript>\n<div style="display:inline;">\n<img height="1" width="1" style="border-style:none;" alt="" src="//www.googleadservices.com/pagead/conversion/1071858369/?value=1.00&label=hAFWCMuS3AEQwYWN_wM&guid=ON&script=0"/>\n</div>\n</noscript>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/live_intent1"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<img src="//p.liadm.com/p?c=17330"/>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/live_intent2"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<img src="//p.liadm.com/p?c=17796"/>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/live_intent3"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<img src="//p.liadm.com/p?c=17796" />\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/power_inbox"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<script type=\"text/javascript\">\nwindow.pi_params = {};\npi_params.company_id = '1815';\npi_params.value = '4.00';\npi_params.currency = 'USD' ;\n(function() {\nvar pin = document.createElement('script');\npin.async = true;\npin.src = '//cdn.powerinboxedge.com/framework/pi-notify.js';\nvar ref = document.getElementsByTagName('script')[0];\nref.parentNode.insertBefore(pin, ref);\n})();\n</script>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/steelhouse"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<script type="text/javascript">\n(function(){var x=null,p,q,m,\no="10225",\nl="ORDER ID",\ni="TOTAL ORDER AMOUNT",\nc="",\nk="PRODUCT IDs",\ng="PRODUCT QUANTITIES",\nj="UNIT PRICES",\nu="",\nshadditional="";\ntry{p=top.document.referer!==""?encodeURIComponent(top.document.referrer.substring(0,512)):""}catch(n){p=document.referrer!==null?document.referrer.toString().substring(0,512):""}try{q=window&&window.top&&document.location&&window.top.location===document.location?document.location:window&&window.top&&window.top.location&&""!==window.top.location?window.top.location:document.location}catch(b){q=document.location}try{m=parent.location.href!==""?encodeURIComponent(parent.location.href.toString().substring(0,512)):""}catch(z){try{m=q!==null?encodeURIComponent(q.toString().substring(0,512)):""}catch(h){m=""}}var A,y=document.createElement("script"),w=null,v=document.getElementsByTagName("script"),t=Number(v.length)-1,r=document.getElementsByTagName("script")[t];if(typeof A==="undefined"){A=Math.floor(Math.random()*100000000000000000)}w="dx.steelhousemedia.com/spx?conv=1&shaid="+o+"&tdr="+p+"&plh="+m+"&cb="+A+"&shoid="+l+"&shoamt="+i+"&shocur="+c+"&shopid="+k+"&shoq="+g+"&shoup="+j+"&shpil="+u+shadditional;y.type="text/javascript";y.src=("https:"===document.location.protocol?"https://":"http://")+w;r.parentNode.insertBefore(y,r)}());\n</script>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pixels/yahoo"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{}){var pixelIDOrDefault;__p.push(""),__p.push("\n");try{__p.push("\n"),pixelIDOrDefault=pixelID,__p.push("\n")}catch(err){__p.push("\n"),pixelIDOrDefault="11215",__p.push("\n")}__p.push("\n<script type=\"text/javascript\">\n(function(w,d,t,r,u){w[u]=w[u]||[];w[u].push({'projectId':'10000','properties':{'pixelId':'",pixelIDOrDefault,'\'}});var s=d.createElement(t);s.src=r;s.async=true;s.onload=s.onreadystatechange=function(){var y,rs=this.readyState,c=w[u];if(rs&&rs!="complete"&&rs!="loaded"){return}try{y=YAHOO.ywa.I13N.fireBeacon;w[u]=[];w[u].push=function(p){y([p])};y(c)}catch(e){}};var scr=d.getElementsByTagName(t)[0],par=scr.parentNode;par.insertBefore(s,scr)})(window,document,"script","https://s.yimg.com/wi/ytc.js","dotq");\n</script>\n')}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/alert_bell"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg alert-bell">\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.914249 32.850498" xml:space="preserve" version="1.1" class="bell">\n    <g transform="matrix(1.25,0,0,-1.25,0,32.8505)">\n      <g transform="translate(21.7018,4.3606)">\n        <path class="bell-outer" d="m 0,0 c 0,0 -1.044,0.451 -0.109,2.893 0.876,2.289 5.196,10.197 -0.52,13.572 0.265,0.693 -0.121,1.468 -0.814,1.733 -0.693,0.266 -1.475,-0.058 -1.74,-0.751 -6.545,1.355 -8.594,-7.457 -9.472,-9.752 -0.935,-2.442 -2.008,-2.083 -2.008,-2.083 l -0.978,0.349 c -0.358,0.137 -0.763,-0.044 -0.9,-0.402 l -0.717,-1.871 c -0.137,-0.358 0.044,-0.763 0.402,-0.9 l 5.106,-1.954 c -0.662,-1.73 0.229,-3.539 1.959,-4.202 1.73,-0.662 3.643,0.074 4.306,1.804 l 5.227,-2.001 c 0.358,-0.137 0.763,0.044 0.9,0.402 l 0.716,1.871 c 0.137,0.358 -0.044,0.763 -0.402,0.9 L 0,0 Z" />\n      </g>\n      <g transform="translate(17.2448,19.6884)">\n        <path class="bell-inner" d="M 0,0 C -1.091,-0.212 -3.408,-1.185 -5.132,-5.536" />\n      </g>\n      <g transform="translate(0.75,16.8008)">\n        <path class="bell-sound-lines" d="M 0,0 4.144,-1.203" />\n      </g>\n      <g transform="translate(3.0241,21.5026)">\n        <path class="bell-sound-lines" d="M 0,0 3.546,-2.459" />\n      </g>\n      <g transform="translate(7.044,25.5304)">\n        <path class="bell-sound-lines" d="M 0,0 2.428,-3.567" />\n      </g>\n    </g>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/bd_logotype_white"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 151.3 58.5" enable-background="new 0 0 151.3 58.5" xml:space="preserve">\n  <path fill="#FFF" d="M141.6,38.6h-0.9V41c0,0.1-0.1,0.2-0.2,0.2c-0.1,0-0.2-0.1-0.2-0.2v-2.5h-0.9 c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0.1-0.2,0.2-0.2h2.2c0.1,0,0.2,0.1,0.2,0.2C141.8,38.5,141.8,38.6,141.6,38.6z"/>\n  <path fill="#FFF" d="M145.1,38.2c0-0.1,0.1-0.1,0.2-0.1c0.1,0,0.2,0.1,0.2,0.2V41c0,0.1-0.1,0.2-0.2,0.2 c-0.1,0-0.2-0.1-0.2-0.2v-1.9l-1,1.9c0,0.1-0.1,0.1-0.2,0.1c-0.1,0-0.2-0.1-0.2-0.1l-1-1.9V41c0,0.1-0.1,0.2-0.2,0.2 c-0.1,0-0.2-0.1-0.2-0.2v-2.7c0-0.1,0.1-0.2,0.2-0.2c0.1,0,0.2,0.1,0.2,0.1l1.2,2.4L145.1,38.2z"/>\n  <path fill="#FFF" d="M121.5,12.7c-0.3,2-1.7,8.7,1.2,5.3c4.4-5.1,4.4-9,1-8.4C122.3,9.9,121.5,12.7,121.5,12.7z"/>\n  <path fill="#FFF" d="M51.2,47.1c0,0-2.2,0-3,0c-0.8,0-2.8,0-3.1,0v1h1.1c0.6,0,0.9,0.2,0.9,0.8 c0.1,1,0.1,6.6,0,7.8c0,0.6-0.2,0.7-1,0.7h-1v1c0,0,2.3,0,3,0h3c3.4,0,6.2-1.5,6.1-5.7C57.3,48.8,55.4,47.1,51.2,47.1z M51,57.4 h-0.9c-0.4,0-0.8-0.2-0.8-0.8c0-1.1-0.1-6.8,0-8c0-0.4,0.2-0.7,0.8-0.7H51c3,0,4,1.2,4,4.7C55,56.4,53.8,57.4,51,57.4z"/>\n  <path fill="#FFF" d="M67,57.3h-2.5c-0.5,0-0.9-0.2-0.9-0.8c0-0.5-0.1-1.9-0.1-3.5h0.8c1.7,0,2.3,0.6,2.4,2 v0.2h0.9c-0.1-0.8-0.1-1.4-0.1-2.6c0-1.2,0-1.6,0.1-2.5h-1v0.2c0,1.5-0.7,1.9-2.3,1.9h-0.9c0-1.5,0-2.9,0.1-3.3 c0-0.4,0.2-0.8,0.8-0.8H67c2.1,0,2.7,0.6,2.7,3h1c0-1.2,0-2.9,0.1-4.1c-0.8,0.1-2.9,0.1-3.6,0.1c-2.5,0-4.4,0-4.7,0 c-0.3,0-2.8,0-3.1,0v1h1.1c0.6,0,0.9,0.2,0.9,0.8c0.1,1,0.1,6.6,0,7.5c-0.1,0.6-0.2,1-1,1h-1v1c0,0,2.2,0,3,0h5 c0.8,0,2.5,0,3.3,0.1c0-1.4,0-3.1,0.2-4.3h-1.1C69.8,56.2,69.2,57.3,67,57.3z"/>\n  <path fill="#FFF" d="M84.6,55.9c-0.5-1-3.1-7.1-3.8-9c0,0-0.6,0-1,0c-0.3,0-1,0-1,0c-0.7,1.9-3.2,8-3.6,8.9 c-0.4,1-0.8,1.3-1.8,1.3h-0.7v1c0,0,1.7,0,2.7,0c1,0,2.7,0,2.7,0l0-1h-0.8c-1.2,0-1.3-0.6-1-1.5c0.1-0.2,0.2-0.6,0.4-1 c1.3,0,3.7,0,4.9,0l0.4,1c0.4,1,0.1,1.6-0.7,1.6h-0.8l0,1c0,0,2,0,3.1,0c1.1,0,3.1,0,3.1,0v-1h-0.8 C85.4,57.3,85.1,56.9,84.6,55.9z M77.2,53.9c0.7-1.7,1.6-4.1,2.1-5.3c0.5,1.1,1.5,3.6,2.2,5.3C80.2,53.9,78.4,53.9,77.2,53.9z"/>\n  <path fill="#FFF" d="M98.3,53.9c-0.2,2.8-1,3.3-3,3.3h-1.5c-0.5,0-0.8-0.1-0.9-0.7c0-1.2,0-6.8,0-7.8 c0-0.6,0.3-0.8,0.9-0.8H95v-1c-0.4,0-2,0-3,0s-3.1,0-3.1,0v1H90c0.6,0,0.9,0.2,0.9,0.8c0.1,1,0.1,6.6,0,7.8c0,0.6-0.2,0.7-1,0.7 h-1v1c0.5,0,2.3,0,3,0h4c0.8,0,2.5,0,3.3,0.1c0-1,0.1-3.3,0.2-4.4H98.3z"/>\n  <path fill="#FFF" d="M106.7,51.3c-2.5-0.3-3.6-0.8-3.6-1.9c0-1,0.9-1.7,2.8-1.7c2.1,0,3.3,0.9,3.8,2.9h0.9 c-0.1-1-0.1-2.6,0.2-3.6h-0.9c-0.1,0.5-0.3,0.8-1.2,0.4c-0.4-0.2-1.3-0.5-2.7-0.5c-3,0-4.3,1.6-4.3,3.5c0,1.9,1.4,3,4.1,3.3 c2.7,0.3,4,0.8,4,2.2c0,1.3-1.2,2-3.2,2c-2.5,0-3.8-1.1-4.3-3.2h-0.9c0.1,1.2,0.1,2.7-0.2,3.8h0.9c0.1-0.5,0.3-1.1,1.2-0.6 c1,0.6,2,0.8,3.3,0.8c2.8,0,4.6-1.4,4.6-3.6C111.2,52.9,110.2,51.7,106.7,51.3z"/>\n  <path fill="#FFF" d="M24.1,51.4c-0.7,0-1.3,0.6-1.3,1.3c0,0.7,0.6,1.3,1.3,1.3c0.5,0,0.9-0.3,1.1-0.7h16.4V52 H25.2C25,51.6,24.6,51.4,24.1,51.4z"/>\n  <path fill="#FFF" d="M134.4,51.4c-0.5,0-0.9,0.3-1.1,0.7h-16.4v1.2h16.4c0.2,0.4,0.6,0.7,1.1,0.7 c0.7,0,1.3-0.6,1.3-1.3C135.6,51.9,135.1,51.4,134.4,51.4z"/>\n  <path fill="#FFF" d="M66,23.9C66,23.9,66,23.9,66,23.9C66,23.9,66,23.9,66,23.9z"/>\n  <path fill="#FFF" d="M74.9,37.8c0,2.5,2.9,4.4,4.7,4.3c3.6-0.1,6.5-2.5,8.1-5c1.1,1.8,2.8,3.1,5,3.1 c2.2,0,4.2-1.1,5.8-2.7c0.5,1.9,1.8,3.4,4.1,3.5c3.7,0.1,6.1-2.9,7.9-5.2c1.3,2.1,3.6,4,6.1,4c4.1,0,6.8-3.8,8-7.2l1.4-3.6 c0.5-0.9,0.7-1,0.8-1.2c2,2.2,6,2.7,5.7,7.5c-0.5,1.5-2.8,1.8-4.7,1.7c-0.9,0-1.5-0.1-2.1-0.4c-1-0.3-1.6-1.3-2-0.6 c-2,6.4,6.9,5.9,10,3.6c1.5-1.2,4.2-3.8,5.1-4.8c0.9-0.8,2.6-2.3,4.2-3.4c6.3-4.4,2.2,1.3,6.2-1.1c3.9-2.3,1.8-4.7-1-4.9 c-3.5-0.3-7.6,3.5-7.6,3.5c-2.3,1.7-2.2,1.7-4.9,3.9c-1.2-4.3-5.1-5.8-7.1-9.2c1-1.4,1.9-5.8,1.1-6.4c-4-2.2-6.7,4.6-5,8.2 c-0.6,1.3-0.9,2-0.9,2l-1.7,3.5c-1.1,1.8-2.3,5.4-5.3,5.4c-2,0-3.3-3-3.8-4.6c2.6-5.4,5.5-12.8,5.5-18.8c0-2.1-0.4-6.6-3.3-6.6 c-4.4,0-6.1,10.7-6.5,14.1c-0.3-0.1-0.6-0.1-1-0.1c-4.1,0-7.2,3.7-9.3,9.5c-0.3,0.8-1.8,7.2-5.4,7.2c-2.5,0-3-4-3-5.9 c0-1.3,0.4-2.5,0.4-3.8c0-0.5-0.1-1-0.5-1.3c0.2-0.3,0.3-0.7,0.3-1.1c0-1.9-2.3-2.9-3.9-2.9c-4,0-8.4,4.4-10.6,8.8l0,0 c-4,6.8-6.1,6.7-6.1,6.7c-1,0.1-1.7-0.7-2.1-2.3c-0.2-0.8-0.2-1.1-0.3-2.3c-0.1-4-0.4-3.6,1.3-5.8c0.8-1,0.5-2.2-0.5-2.9 c-0.8-0.4-1.5-0.6-2.1-0.3l0,0c-0.2,0.1-0.4,0.3-0.5,0.5c-0.9,0.5-2.1,0-3.6-0.3c-0.3,0-0.3,0.2,0.2-1.3c0.4-1.2,0.4-2.6-0.9-3.2 c-1.3-0.6-2.1,0.4-2.8,1.4c-0.3,0.5-0.9,1.5-1.1,2c-0.3,0.9-0.4,1.4-0.1,2.6c0.2,0.8,0.6,1.4,1.2,1.7c-1.3,4.5-2.5,0.2-2.4,3.6 c0,3.5,3.2,2.4,3.7,1.5c1-1.7,1.7-4.2,1.8-4.9c0.8,0,1,0.2,2.5,0.4c0,1.9-0.1,6.1,0,7.8c0.2,2.9,1.6,4.6,4.3,4.9 C68.2,40.7,71.6,41.6,74.9,37.8z M86.4,32c0,2.8-2.5,5.8-5.4,6.6c-1.7,0.5-3.3-1.4-3.2-3c0.2-3.7,4.5-9.3,8-9.3 c0.5,0,0.9,0.1,1.2,0.3c-0.6,0.9-0.8,2.1-0.8,3.1C86.2,30.5,86.4,31.3,86.4,32z M103.5,37.5c-1.5,0-2.5-1.6-2.5-3.2 c0.1-2.7,3.2-10.6,6.3-10.6c0.5,0,0.8,0.3,1.2,0.5v0.3c0,2.6,0.1,5,0.7,7.5C108.2,33.6,105.5,37.5,103.5,37.5z M112,24.6 c0-4,0.8-11.1,2.9-14.5c0.2,1,0.3,2,0.3,3c0,4.2-1.5,9.1-3.1,13C112,25.7,112,25.2,112,24.6z"/>\n  <path fill="#FFF" d="M45.9,0.1C30.8-0.8,14.5,3.6,6.5,7.4c-0.9,0.4-3.6,1.7-5.6,4.2C-1,13.7,0.1,17,4.5,15.3 c4.4-1.7-2.9-1.7,4.2-4.7c4.6-2.4,10.7-4,16.7-5.1c-0.2,0.6-0.4,1.2-0.5,1.8v0c0,0,0,0,0,0.1c-0.6,2.4-0.8,5-1,7.8 c-0.2,2.3-0.4,4.7-0.6,6.6c-1.2,0.6-2.3,1.6-2.3,2.9c0,1.1,0.8,1.8,1.8,2.2c0,3.3-0.1,7,0.2,10.5c0,3.3,0.5,5.9,2.7,5.9 c1.8,0,1.2-2.1,1.6-3.1c10.3,9.9,35.4-4.2,25.4-16.8c-1-1.2-2.4-1.8-3.9-2.8c3.6-1.1,11.1-4.7,12.1-10C62.5,2.3,53,0.6,45.9,0.1z M50.6,29.3c0.4,7.3-9.2,12.7-17.4,9.6c-0.9-0.4-1.9-1.1-2.1-3.2c-1.3-0.9-2.4-0.6-3.9,0c-0.3-3.6-0.3-1.7,0-8.9 c5.6,0.4,12.9-4,16.4-3.9C47.5,23,50.4,25.1,50.6,29.3z M44.2,19c-1.3,0.4-8.7-1.9-17.1,1.1C27,12.5,29.4,6.7,27.4,4.8 C33.6,3.6,56.3,0.6,57,8.7C57.3,12.7,49,17.3,44.2,19z"/>\n  <path fill="#FFF" d="M66.3,23.6"/>\n</svg>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/broken_bell"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg broken-bell">\n  <svg version="1.1" class="bell" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" xml:space="preserve">\n    <g>\n      <path d="M74.3,74.7"></path>\n      <path d="M29.4,74.2l-19.1-7.3c-1.3-0.5-2.4-1.5-3-2.8c-0.6-1.3-0.6-2.8-0.1-4.1l2.7-7c1.1-2.8,4.2-4.2,7-3.1l3.3,1.2\n        c0.6-0.1,2.4-1.3,4.2-6c0.4-0.9,0.8-2.2,1.3-3.6C29.5,29.8,38.4,3.3,61,6.4c0.8-1,1.8-1.7,3-2.2c1.9-0.8,4-0.8,5.9-0.1\n        c3.3,1.3,5.3,4.5,5.1,7.8c2.8,1.9,5.1,4.3,6.8,7l-4.7,3c-1.5-2.5-3.8-4.6-6.6-6.2l-2-1.2l0.8-2.2c0.4-1.1-0.2-2.4-1.4-2.9\n        c-0.6-0.2-1.2-0.2-1.7,0c-0.5,0.2-0.9,0.6-1.1,1.2l-0.8,2.2l-2.3-0.5C42.6,8.3,34.8,31.8,31,43.1c-0.5,1.5-1,2.9-1.3,3.9\n        c-4.3,11.3-10.3,9.7-11,9.4L15,55l-2.5,6.9l19,7L29.4,74.2z"></path>\n    </g>\n    <path d="M7.7,96.7c-0.7,0-1.4-0.3-1.9-0.8c-1.1-1.1-1.2-2.8-0.1-4L90.1,3.9c1.1-1.1,2.8-1.2,4-0.1\n      c1.1,1.1,1.2,2.8,0.1,4L9.8,95.9C9.2,96.5,8.5,96.7,7.7,96.7z"></path>\n    <path d="M74.4,77.5c-0.4,0-0.8-0.1-1.2-0.2c-0.7-0.3-6.2-3.1-1.9-14.4c0.4-1,0.9-2.2,1.6-3.7c2.8-6.4,7.4-17.2,7.2-26.9\n      c0-1.5,1.2-2.8,2.7-2.9c0,0,0.1,0,0.1,0c1.5,0,2.8,1.2,2.8,2.7C85.9,43,81,54.5,78,61.4c-0.6,1.4-1.1,2.6-1.5,3.5\n      c-1.9,5-1.2,7-0.8,7.4c1.4,0.6,1.9,2.2,1.3,3.6C76.6,76.9,75.5,77.5,74.4,77.5z"></path>\n    <path d="M74.3,90.9c-0.6,0-1.3-0.1-1.9-0.4L55.2,84c-3.7,6-11.3,8.6-18.5,5.8c-2.8-1.1-5.1-2.8-6.9-5\n      c-0.9-1.2-0.7-3,0.5-3.9c1.2-0.9,3-0.7,3.9,0.5c1.1,1.4,2.6,2.6,4.4,3.2c5.1,2,10.6-0.3,12.5-5.1l1-2.6l22.1,8.5l2.4-6.9l-3.5-1.2\n      c-1.4-0.6-2.1-2.2-1.5-3.7c0.6-1.4,2.2-2.1,3.7-1.5l3.6,1.5c2.7,1,4.1,4.2,3.1,7l-2.7,7c-0.5,1.3-1.5,2.4-2.8,3\n      C75.8,90.8,75,90.9,74.3,90.9z"></path>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/envelope"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg envelope">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">\n    <path d="M91.2,68.7H8c-3.4,0-6.1-2.7-6.1-6.1V8.2C1.9,4.8,4.6,2,8,2h83.2c3.4,0,6.1,2.7,6.1,6.1v54.4\n      C97.3,65.9,94.6,68.7,91.2,68.7z M8,7.3c-0.5,0-0.9,0.4-0.9,0.9v54.4c0,0.5,0.4,0.9,0.9,0.9h83.2c0.5,0,0.9-0.4,0.9-0.9V8.2\n      c0-0.5-0.4-0.9-0.9-0.9C91.2,7.3,8,7.3,8,7.3z"/>\n    <polygon points="49.5,37.2 3.3,19.4 5.1,14.5 49.5,31.6 93.1,13.9 95.1,18.7  "/>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/facebook"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg facebook">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32">\n    <path d="M17.996 32h-5.996v-16h-4v-5.514l4-0.002-0.007-3.248c0-4.498 1.22-7.236 6.519-7.236h4.412v5.515h-2.757c-2.064 0-2.163 0.771-2.163 2.209l-0.008 2.76h4.959l-0.584 5.514-4.37 0.002-0.004 16z"></path>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/gear"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg gear">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100">\n    <path d="M49.4,99.2c-3.4,0-6.7-0.3-10-1L38.2,98c-1.1-0.2-2-1.1-2.1-2.3l-1-7.8c-4.1-1.5-7.8-3.7-11.2-6.4l-7.3,2.9 c-1.1,0.4-2.3,0.1-3-0.7l-0.8-0.9c-2.3-2.5-4.3-5.3-6-8.3S3.6,68.3,2.6,65l-0.4-1.1c-0.4-1.1,0-2.3,0.9-3l6.2-4.7 C9,54.1,8.8,52,8.8,49.9s0.1-4.1,0.4-6.1l-6.3-4.9C2,38.2,1.6,37.1,2,36l0.4-1.1c1-3.2,2.4-6.4,4.1-9.3c1.7-3,3.8-5.9,6.1-8.5 l0.8-0.9c0.8-0.9,2-1.1,3.1-0.7l7.4,3.1c3.3-2.7,6.9-4.8,10.9-6.3L35.9,5c0.1-1.7,1.3-3,2.9-3.3c7-1.5,14.1-1.4,21.1,0.1 c1.6,0.4,2.9,1.7,3.1,3.3l0.9,7.1c4,1.5,7.7,3.8,11,6.5l7.8-2.9c1.1-0.4,2.2-0.1,3,0.8l0.8,0.9c2.2,2.5,4.2,5.4,5.9,8.3 c1.7,3.1,3.1,6.3,4.1,9.6l0.3,1.1c0.3,1.1,0,2.3-1,3l-6.5,4.9c0.3,1.9,0.4,3.8,0.4,5.7c0,2.3-0.2,4.6-0.6,6.8l6.3,5.2 c0.9,0.7,1.2,1.9,0.8,3L95.9,66c-1.1,3.2-2.6,6.3-4.4,9.2c-1.8,3-4,5.8-6.3,8.3l-0.8,0.9c-0.8,0.8-2,1.1-3.1,0.6l-7.2-3.2 c-3,2.4-6.3,4.3-9.9,5.7l-1.1,8c-0.2,1.1-1,2-2.1,2.3L60,98c-3.3,0.7-6.7,1.1-10.1,1.1L49.4,99.2z M41.2,93c2.7,0.5,5.4,0.8,8.2,0.8 h0.3c2.8,0,5.6-0.3,8.4-0.9l1-7c0.2-1.4,1.2-2.6,2.5-3.1c3.6-1.3,6.9-3.3,9.9-5.7c1.1-0.9,2.7-1.2,4.1-0.6l6.2,2.8 c1.9-2.1,3.6-4.4,5.1-6.9c1.4-2.4,2.7-4.9,3.6-7.5L85,60.4c-1.1-0.9-1.6-2.3-1.3-3.8c0.4-2.2,0.6-4.4,0.6-6.7c0-1.9-0.2-3.8-0.5-5.7 c-0.2-1.4,0.3-2.9,1.5-3.8l5.7-4.3c-0.9-2.7-2-5.3-3.4-7.9c-1.4-2.4-3-4.8-4.8-6.9L76,24c-1.3,0.5-2.8,0.2-3.9-0.7 c-3.2-2.7-7-5-10.9-6.4c-1.4-0.5-2.4-1.7-2.5-3.2l-0.9-6.9c-5.6-1.1-11.3-1.1-16.9,0l-1.1,7.1c-0.2,1.4-1.2,2.6-2.5,3.1 c-3.9,1.4-7.6,3.6-10.8,6.3c-1.1,1-2.7,1.2-4,0.6L16,21.2c-1.9,2.2-3.5,4.5-4.9,7c-1.4,2.4-2.5,5-3.4,7.6l5.5,4.3 c1.1,0.9,1.7,2.3,1.4,3.7c-0.3,2-0.5,4-0.5,6.1s0.2,4.2,0.6,6.3c0.3,1.5-0.3,2.9-1.5,3.8l-5.3,4.1c0.9,2.7,2.1,5.3,3.6,7.8  c1.4,2.4,3,4.7,4.9,6.8l6.4-2.5c1.3-0.5,2.8-0.3,4,0.6c3.2,2.7,7.1,4.9,11.1,6.3c1.4,0.5,2.4,1.7,2.6,3.2L41.2,93z M36,88.2L36,88.2 L36,88.2z M74.9,81.3L74.9,81.3L74.9,81.3z M89,57.6C89,57.7,89,57.7,89,57.6C89,57.7,89,57.7,89,57.6z M9.4,57.2L9.4,57.2L9.4,57.2 z M88.5,56.2L88.5,56.2L88.5,56.2z M89.2,43.3C89.2,43.3,89.2,43.4,89.2,43.3C89.2,43.4,89.2,43.3,89.2,43.3z M74.1,19L74.1,19 L74.1,19z M34.5,13.1L34.5,13.1L34.5,13.1z M41.1,5.8L41.1,5.8L41.1,5.8z"/>\n    <path d="M49.4,72.5c-12.5,0-22.6-10.2-22.6-22.6c0-12.5,10.2-22.6,22.6-22.6S72,37.4,72,49.9S61.9,72.5,49.4,72.5z M49.4,32.7c-9.5,0-17.2,7.7-17.2,17.2s7.7,17.2,17.2,17.2s17.2-7.7,17.2-17.2C66.6,40.4,58.9,32.7,49.4,32.7z"/>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/google"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg google">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 30 30" width="30" height="30">\n  <style type="text/css">\n    .st0{fill:#557EBF;}\n    .st1{fill:#36A852;}\n    .st2{fill:#F9BC15;}\n    .st3{fill:#EA4535;}\n  </style>\n  <path class="st0" d="M29.4,15.3c0-1-0.1-2-0.3-3H15.3V18h7.9c-0.3,1.8-1.4,3.4-2.9,4.4v3.7 H25C27.8,23.6,29.4,19.8,29.4,15.3L29.4,15.3z"/>\n  <path class="st1" d="M15.3,29.7c4,0,7.3-1.3,9.7-3.6l-4.7-3.7c-1.3,0.9-3,1.4-5,1.4 c-3.8,0-7.1-2.6-8.2-6.1H2.1v3.8C4.5,26.4,9.5,29.7,15.3,29.7L15.3,29.7z"/>\n  <path class="st2" d="M7,17.8C6.7,16.9,6.6,16,6.6,15s0.2-1.9,0.5-2.8V8.4H2.1 c-1,2-1.6,4.2-1.6,6.6s0.6,4.6,1.6,6.6L7,17.8L7,17.8z"/>\n  <path class="st3" d="M15.3,6.2c2.2,0,4.1,0.7,5.6,2.2l4.2-4.2c-2.5-2.4-5.9-3.8-9.8-3.8 C9.5,0.3,4.5,3.6,2.1,8.4L7,12.2C8.2,8.7,11.4,6.2,15.3,6.2L15.3,6.2z"/>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/hollow_email_icon"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg hollow-email">\n  <svg class="email-icon" x="0px" y="0px" viewBox="0 0 150 150">\n    <path class="envelope" d="M139.25,22H10.89c-4.99,0-9.04,4.06-9.04,9.04v83.92c0,4.99,4.06,9.04,9.04,9.04h128.36 c4.98,0,9.04-4.05,9.04-9.04V31.04C148.29,26.05,144.23,22,139.25,22z M140.98,114.96c0,0.94-0.79,1.73-1.73,1.73H10.89 c-0.94,0-1.73-0.79-1.73-1.73V50.13L75.01,75.5l65.97-26.83V114.96z M140.98,40.78L74.94,67.64L9.16,42.3l0-11.26 c0-0.94,0.79-1.73,1.73-1.73h128.36c0.94,0,1.73,0.79,1.73,1.73V40.78z"/>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/information"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg information">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">\n    <path d="M47.4,32.8c-8.1,0-14.6-6.6-14.6-14.6S39.3,3.5,47.4,3.5S62,10,62,18.1S55.5,32.8,47.4,32.8z M47.4,8.4 c-5.3,0-9.7,4.4-9.7,9.7s4.4,9.7,9.7,9.7s9.7-4.4,9.7-9.7S52.7,8.4,47.4,8.4z"/>\n    <path d="M54,96.3H40.8c-3.2,0-5.8-2.6-5.8-5.8V46.8c0-3.2,2.6-5.8,5.8-5.8H54c3.2,0,5.8,2.6,5.8,5.8v43.7 C59.8,93.7,57.2,96.3,54,96.3z M40.8,46c-0.4,0-0.8,0.4-0.8,0.8v43.7c0,0.4,0.4,0.8,0.8,0.8H54c0.4,0,0.8-0.4,0.8-0.8V46.8 c0-0.4-0.4-0.8-0.8-0.8H40.8z"/>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/outlined_bookmark"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg outlined-bookmark">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">\n    <path d="M17.2,97.9c-0.6,0-1.1-0.1-1.7-0.4c-1.1-0.6-1.7-1.8-1.7-3.1l0.2-43V10.8c0-4.4,3.6-7.9,7.9-7.9h56.6 c4.4,0,7.9,3.6,7.9,7.9v83.5c0,1.4-0.6,2.5-1.7,3.1c-2,1.1-4.2-0.2-4.9-0.7l-30-18.6L20.5,96.7C19.9,97.1,18.7,97.9,17.2,97.9z M19.5,94.3L19.5,94.3L19.5,94.3z M49.7,72.2c0.8,0,1.6,0.2,2.3,0.6l28.7,17.8V10.8c0-1.2-1-2.2-2.2-2.2H21.9c-1.2,0-2.2,1-2.2,2.2 v40.6l0,0l-0.2,39.2l27.9-17.7C48.1,72.5,48.9,72.2,49.7,72.2z M16.8,51.4L16.8,51.4L16.8,51.4z"/>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/pause"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg pause">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 150 150" xml:space="preserve">\n    <path d="M74.8,146.7c-39.6,0-71.8-32.2-71.8-71.8S35.2,3.2,74.8,3.2s71.8,32.2,71.8,71.8S114.4,146.7,74.8,146.7zM74.8,11.7c-34.9,0-63.3,28.4-63.3,63.3c0,34.9,28.4,63.3,63.3,63.3s63.3-28.4,63.3-63.3C138.1,40.1,109.7,11.7,74.8,11.7z"></path>\n    <g>\n      <path d="M60.6,106.4c-3.1,0-5.7-2.5-5.7-5.7V49.2c0-3.1,2.5-5.7,5.7-5.7s5.7,2.5,5.7,5.7v51.5C66.3,103.8,63.8,106.4,60.6,106.4z"></path>\n      <path d="M89,106.4c-3.1,0-5.7-2.5-5.7-5.7V49.2c0-3.1,2.5-5.7,5.7-5.7s5.7,2.5,5.7,5.7v51.5C94.6,103.8,92.1,106.4,89,106.4z"></path>\n    </g>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/svgs/x"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="svg x">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">\n    <path d="M80.8,75.8L76.6,80c-1.9,1.9-5.1,1.9-7.1,0L50,60.4L30.4,80c-1.9,1.9-5.1,1.9-7.1,0l-4.2-4.2c-1.9-1.9-1.9-5.1,0-7.1 l19.6-19.6L19.1,29.5c-1.9-1.9-1.9-5.1,0-7.1l4.2-4.2c1.9-1.9,5.1-1.9,7.1,0L50,37.8l19.6-19.6c1.9-1.9,5.1-1.9,7.1,0l4.2,4.2 c1.9,1.9,1.9,5.1,0,7.1L61.2,49.2l19.6,19.6C82.7,70.7,82.7,73.9,80.8,75.8z"/>\n  </svg>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/subscriptions/deal_alert_instructions"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("You'll receive an email "),this.model.email()&&__p.push(" at <strong>",email,"</strong> "),__p.push(" when we find a match for any alerts.\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/subscriptions/email"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row">\n  <form action="',App.Routes.users_path(),'" class="subscription-user-form" data-remote="true" data-type="json" method="post" novalidate>\n    <div class="clean-form">\n      <label for="email">Your email</label>\n      <input type="email" id="email" name="email" value="',this.options.user.email(),'" />\n    </div>\n    <input type="submit" class="btn-2d teal" value="Create Alert" data-disable-with="Create Alert" />\n  </form>\n</div>\n<div class="row subscription-info">\n  When you create an alert, you\'ll be automatically subscribed to our daily emails. You can unsubscribe from those emails at any time in <a href="/me/email-preferences">Email Preferences</a>.\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/subscriptions/no_alert_matches"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="well row no-alerts">\n  ',JST["templates/svgs/broken_bell"](),"\n  <p>\n    There are currently no deals that match this alert.\n  </p>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/subscriptions/no_alerts"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="well row no-alerts">\n  ',JST["templates/svgs/broken_bell"](),"\n  <p>\n    You don't currently have any deal alerts.\n  </p>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/account_settings"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div id="user-profile"></div>\n<div id="user-password"></div>\n<div id="user-social"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/account_settings/password"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="form-title capital-header">Password</h2>\n<form action="',App.Routes.user_passwords_path(),'" data-remote method="PUT" data-type="JSON" class="clean-form">\n  <div class="password-form">\n    <ul class="reset input-list clearfix">\n      <li class="row has-visibility-toggle">\n        <div class="col tight large-10 medium-10 small-10 field">\n          <input type="password" id="current_password" name="current_password" tabindex="8" />\n          <label for="current_password">Current Password</label>\n        </div>\n        <a class="col large-2 medium-2 small-2 toggle-link">Show</a>\n      </li>\n      <li class="row has-visibility-toggle">\n        <div class="col tight large-10 medium-10 small-10 field new-password">\n          <input type="password" id="new_password" name="new_password" tabindex="9" />\n          <label for="new_password">New Password*</label>\n          <span class="password-requirements">* Password must be at least 8 characters long.</span>\n        </div>\n        <a class="col large-2 medium-2 small-2 toggle-link">Show</a>\n      </li>\n      <li class="row has-visibility-toggle">\n        <div class="col tight large-10 medium-10 small-10 field">\n          <input type="password" id="password_confirmation" name="password_confirmation" tabindex="10" />\n          <label for="password_confirmation">Re-Type New Password</label>\n        </div>\n        <a class="col large-2 medium-2 small-2 toggle-link">Show</a>\n      </li>\n    </ul>\n    <ul class="reset horizontal submit-list">\n      <li>\n        <input type="submit" class="btn-disabled" disabled="disabled" value="Save Changes" tabindex="11">\n      </li>\n    </ul>\n  </div>\n</form>\n<div class="row">\n  <span class=\'col tight link modal-link forgot-password\' data-modal=\'reset_password\'>Forgot password?</span>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/account_settings/profile"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)}
;with(obj||{})__p.push('<div class="form-block edit-user-profile">\n  <form class="clean-form">\n    <div class="errors"></div>\n    <div class="row">\n      <div class="large-12 medium-12 small-12">\n        <span class="user-email"><strong>Your email:</strong> ',this.model.email(),'</span>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col tight large-5 medium-5 small-5 field">\n        <input type="text" id="first_name" name="first_name" value="',this.model.firstName(),'" tabindex="1" />\n        <label for="first_name">First Name</label>\n      </div>\n      <div class="col tight large-7 medium-7 small-7 field last-name-input">\n        <input type="text" id="last_name" name="last_name" value="',this.model.lastName(),'" tabindex="2" />\n        <label for="last_name">Last Name</label>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col tight large-12 medium-12 small-12 field">\n        <input id="location" name="location" id="location" type="text" value="',this.model.location(),'" tabindex="3" placeholder="City, State">\n        <label for="location">Location</label>\n      </div>\n    </div>\n    <div class="row">\n      <label class="col tight">Birthday</label>\n      <div class="col tight large-3 medium-4 small-12 field">\n        <select id="birth-month" name="month" tabindex="4">\n          <option selected disabled>month</option>\n          ',this.birthMonthOptions(),'\n        </select>\n        <label for="month">Month</label>\n      </div>\n      <div class="col large-2 medium-3 small-6 field">\n        <select name="day" id="day" tabindex="5">\n          <option selected disabled>day</option>\n          ',this.birthDateOptions(),'\n        </select>\n        <label for="day">Day</label>\n      </div>\n      <div class="col tight large-2 medium-3 small-6 field">\n        <select name="year" id="year" tabindex="6">\n          <option selected disabled>year</option>\n          ',this.birthYearOptions(),'\n        </select>\n        <label for="year">Year</label>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col tight submit-list">\n        <input type="submit" class="btn-disabled" disabled="disabled" value="Save Changes" tabindex="7">\n      </div>\n    </div>\n  </form>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/account_settings/social"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('\n<h2 class="capital-header">Social Accounts</h2>\n'),this.model.isFacebookUser()?__p.push('\n  <span class="col small-12 btn-transparent-disabled facebook">\n    <img src="',App.Assets.imagePath("svgs/official_facebook_color.svg"),'">\n    <span class="inner-copy">Facebook Connected</span>\n  </span>\n  '):__p.push('\n    <a class="col small-12 btn-pressable facebook facebook-login-button signup">\n      <img src="',App.Assets.imagePath("svgs/official_facebook_white.svg"),'">\n      <span class="inner-copy">Connect Facebook</span>\n    </a>\n'),__p.push("\n"),this.model.isGoogleUser()?__p.push('\n  <span class="col small-12 btn-transparent-disabled google">\n    ',JST["templates/svgs/google"](),'\n    <span class="inner-copy">Google Connected</span>\n  </span>\n'):__p.push('\n  <a class="col small-12 btn-pressable google google-login-button signup">\n    ',JST["templates/svgs/google"](),'\n    <span class="inner-copy">Connect Google</span>\n  </a>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/email_preferences"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<section class="wrapper row">\n  <div class="grid-15-large-12 small-12 grid-15-medium-12 preferences-top-header">\n    <div class="header-text">\n      <h1 class="large-header">Email Preferences</h1>\n      <h2 class="sub-header">Since we\'re friends, let\'s hang out on your terms.</h2>\n    </div>\n    <div id="subscription-status" class="subscription-btn"></div>\n  </div>\n</section>\n\n<section class="wrapper">\n  <div id="newsletter-preferences"></div>\n  <div id="promotional-preferences"></div>\n  <section class="row preferences grid-15-large-12 small-12 grid-15-medium-12">\n    <div class="preferences-header">\n      <h2 class="capital-header left-aligned">My Deal Alerts</h2>\n    </div>\n    <p class="email-description no-toggle">So you don\'t miss out on a hot deal, you\'ll get notified right away.</p>\n    <section id="user-subscriptions" class="',this.model.get("subscribe")?"":"disabled",'"></section>\n  </section>\n  <section class="row preferences grid-15-large-12 small-12 grid-15-medium-12">\n    <div id="create-deal-alert-form" class="create-deal-alert-form"></div>\n  </section>\n  <div class="row preferences grid-15-large-12 small-12 grid-15-medium-12"><a href="',App.Routes.deal_alerts_landing_path(),'" class="explore-alerts">Explore Deal Alerts &raquo;</a></div>\n</section>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/merchants_empty"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row empty-saves large-8 medium-10 small-12">\n  <div class="col large-1 medium-1 small-1">\n    <span class="icon heart"></span>\n  </div>\n  <div class="col large-11 medium-11 small-11">\n    <h3>You don\'t have any favorite stores yet.</h3>\n    <p>You can easily access deals and coupons for stores you love here, just click on the heart icon next to a store you love to favorite it.</p>\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/preferences/newsletter_preferences"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<section class="row preferences grid-15-large-12 small-12 grid-15-medium-12">\n  <div class="preferences-header">\n    '),this.model.get("subscribe")?__p.push('\n      <input id="newsletter-toggle" class="toggle-switch" type="checkbox" name="newsletter-toggle">\n    '):__p.push('\n      <input id="newsletter-toggle" class="toggle-switch disabled-toggle" type="checkbox" name="newsletter-toggle" disabled>\n    '),__p.push('\n    <label for="newsletter-toggle"></label>\n    <h2 class="capital-header left-aligned">Newsletter Emails</h2>\n  </div>\n  <p id="newsletter-description" class="email-description">',this.getDescription(),'</p>\n  <form>\n    <fieldset class="oversized-radios">\n      <p class="main-label">Frequency:</p>\n      <ul class="reset">\n        '),this.frequencies.forEach(function(e){__p.push("\n          <li>\n            <input type='radio' name='frequency' value=\"",e.val,'" id="',e.id,'">\n            <label for="',e.id,'">',e.label,"</label>\n            <div class='check'></div>\n          </li>\n        ")}),__p.push("\n      </ul>\n    </fieldset>\n  </form>\n</section>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/preferences/promotional_preferences"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<section class="row preferences grid-15-large-12 small-12 grid-15-medium-12">\n  <div class="preferences-header">\n    '),this.model.get("subscribe")?__p.push('\n      <input id="promotional-toggle" class="toggle-switch" type="checkbox" name="promotional-toggle">\n    '):__p.push('\n      <input id="promotional-toggle" class="toggle-switch disabled-toggle" type="checkbox" name="promotional-toggle" disabled>\n    '),__p.push('\n    <label for="promotional-toggle"></label>\n    <h2 class="capital-header left-aligned">Special Emails</h2>\n  </div>\n  <p id="promotional-description" class="email-description">',this.getDescription(),"</p>\n</section>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/preferences/subscription"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="col tight large-12 medium-12 small-12 subscription">\n  <div class="row question-section">\n    <h3 class="help-expander">\n      ',this.model.getName(),'\n      <span class="deals-count"></span>\n      <span class="expand-icon">+</span>\n    </h3>\n    <div class="auto-answer col tight large-12 medium-12">\n      <ul class="reset row deals"></ul>\n      <div class="row centered-container more-deals hide">\n        <a href="',this.moreDealsPath(),'" class="large-2 medium-3 small-12 btn-pressable">\n          Show More\n        </a>\n      </div>\n      <div class="well row ',this.model.get("paused")?"":"hide",' paused-notice">\n        <div class="col large-1 medium-1 small-12 centered-container">\n          ',JST["templates/svgs/pause"](),'\n        </div>\n        <h3 class="col large-11 medium-11 small-12">\n          This deal alert is currently paused.\n        </h3>\n      </div>\n      <h3 class="error well hide">\n        Something went wrong. Try refreshing the page.\n      </h3>\n      <div class="row centered-container">\n        <span class="large-3 medium-4 small-12 btn-inverted remove-alert">\n          Remove Alert\n        </span>\n        <span class="large-3 medium-4 small-12 btn-inverted pause-alert">\n          ',this.pauseText(),"\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/preferences/subscription_status"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<button id="unsub-btn" class="btn-inverted">',this.getText(subscribed),"</button>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/preferences/user_email"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h1 class="hero-header user-email">',email,"</h1>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/reset_password"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<form action='",App.Routes.request_reset_user_passwords_path(),"' method='POST' class='password-reset replace-on-ajax-success' data-type='json' data-remote='true'>\n  <label for='email'>\n  <span class=\"default\">Enter your email:</span>\n  <span class=\"error\"></span>\n  </label>\n  <input type='email' id='email' name='email' placeholder='Email Address' required />\n  <input type='submit' class='btn primary' value='Send Email' />\n</form>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/reset_password_success"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="modal-title">Thanks! Now check your email.</h2>\n<div class="col large-10 medium-10 large-push-1 medium-push-1 modal-description">\n  <p>',message,'</p>\n  <p><span class="link modal-link" data-modal="reset_password">Didn\'t get the email? Try Again!</span></p>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/saved_items"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h4 class="capital-header left-aligned">Your Saved Items</h4>\n<ul id="saved-items" class="reset row"></ul>\n<h4 class="capital-header left-aligned">Your Favorite Stores</h4>\n<ul id="saved-merchants-list" class="reset row"></ul>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/saved_items_empty"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row empty-saves large-8 medium-10 small-12">\n  <div class="col large-1 medium-1 small-1">\n    <span class="icon bookmark"></span>\n  </div>\n  <div class="col large-11 medium-11 small-11">\n    <h3>You don\'t have any saved items yet.</h3>\n    <p>Saving is easy, just click on the bookmark icon within a deal or coupon module.  The deals and coupons you have collected will appear here.</p>\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/user_badge"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),this.model.isFullUser()?__p.push('\n  <div class="user-account logged-in" onclick="return true">\n    <div class="user-info clearfix" tabindex="0" onclick="return true">\n      <div class="label">\n        <span class="greeting">\n          Hello!\n        </span>\n        ',this.model.truncedFirstNameLastInitial(),'\n      </div>\n    </div>\n    <div class="close-overlay" tabindex="0" onclick="return true"></div>\n    <ul class="reset dropdown">\n      <li>\n        <a href="/me/saved-items">\n          ',JST["templates/svgs/outlined_bookmark"](),'\n          <span class="inner-text">Saved Items</span>\n        </a>\n      </li>\n      <li>\n        <a href="',App.Routes.email_preferences_user_path(),'">\n          ',JST["templates/svgs/envelope"](),'\n          <span class="inner-text">Email Settings</span>\n        </a>\n      </li>\n      <li>\n        <a href="',App.Routes.user_path(),'">\n          ',JST["templates/svgs/gear"](),'\n          <span class="inner-text">Account Settings</span>\n        </a>\n      </li>\n      <li>\n        <a href="',App.Routes.faq_path(),'">\n          ',JST["templates/svgs/information"](),'\n          <span class="inner-text">Help Center</span>\n        </a>\n      </li>\n      <li>\n        <a href="',App.Routes.sessions_path(),'" data-method="delete" rel="nofollow" class="btn-2d blue-dk">\n          Log Out\n        </a>\n      </li>\n    </ul>\n  </div>\n'):__p.push('\n  <div class="user-account subscribed clearfix">\n    <div class="label">\n      <span class="link modal-link" data-modal="create_profile">Complete <br />your profile</span>\n    </div>\n  </div>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comment_form"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<form action="/comments" class="clearfix comment-form" data-remote="true" data-type="json" method="post">\n  <div class="errors-container">\n    <ul class="reset errors icon bullet sad"></ul>\n  </div>\n  <input name="topic_slug" type="hidden" value="',this.model.get("slug"),'" />\n  <input name="topic_title" type="hidden" value="',this.model.get("title"),'" />\n  <input name="topic_url" type="hidden" value="',this.model.get("url"),'" />\n  '),this.model.get("author")&&__p.push('\n    <input name="editor_bd_user_id" type="hidden" value="',this.model.get("author").id,'" />\n  '),__p.push('\n\n  <textarea name="comment_body" id="comment-body" placeholder="',this.placeholderText(),'"/>\n\n  <div class="sign-up-warning">',this.signUpWarningText(),'</div>\n  <input class="btn-pressable" data-disable-with="Adding A Comment..." name="commit" type="submit" value="',this.submitButtonText(),'" />\n  <p>\n    <a href="/comment-policy">Comment Policy</a>\n  </p>\n</form>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments_area"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="link expand-comments"></span>\n<div class="comment-toggle" style=',this.getSlideState(),'>\n  <div id="comment-form"></div>\n  <ul class="comment-list reset" id="discussion-comments"></ul>\n  <div id="comments-pagination"></div>\n  <span class="link expand-comments"></span>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments_confirm_delete"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="icon trash confirm-delete small">Are you sure?\n  <span class="yes-delete link">YES</span>\n  <span class="no-delete link">NO</span>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments_page_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row">\n  <div class="author-info clearfix col large-12 medium-12 small-12"></div>\n</div>\n<div class="comment-body col large-11 medium-10 small-12">\n  <p>\n    '),this.model.get("by_editor")?__p.push("\n      ",this.model.get("body"),"\n    "):__p.push("\n      ",this.model.escape("body"),"\n    "),__p.push("\n  </p>\n</div>\n"),this.isDeleteable()&&__p.push('\n  <div class="col delete-container">\n    <span class="icon trash delete link small">delete</span>\n  </div>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments_pagination"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="details">Showing ',this.model.get("comments").length," of ",this.model.get("comments_count"),"</span>\n"),this.hasMorePages()&&__p.push('\n  <span class="link">Show More</span>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/contest"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="disabled"></div>\n<div id="entry-view" class="entry-view"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/coupons_page_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row">\n  <div class="col large-3 medium-3 small-12 product">\n    <a href="',App.Routes.coupons_merchant_path(coupon.get("merchant").slug),'" class="card">\n      <img alt="',coupon.get("merchant").name,' coupons" src="',coupon.get("merchant").logo.large,'", class="merchant-logo">\n      <span>',coupon.get("merchant").name," ",coupon.couponDisplayName().capitalize()+"s","</span>\n    </a>\n    ",coupon.get("third_party_tracking_pixel"),'\n  </div>\n  <div class="col large-6 medium-6 small-12 information">\n    <h3>\n      <a class="go-link" href="',coupon.goLink(),'" target="_blank">\n        ',coupon.get("merchant").name,": ",coupon.get("title"),'\n      </a>\n    </h3>\n    <div class="advertiser-disclosure-link" hidden="true">\n       <a href="#disclosure">Advertiser Disclosure</a>\n    </div>\n    <p>\n      '),coupon.isExpiringSoon()&&__p.push('\n      <span class="expiring-soon">EXPIRING SOON</span>\n      '),__p.push('\n      <span class="coupon-description">\n        ',coupon.get("description"),"\n        ",coupon.get("instructions"),"\n      </span>\n    </p>\n    "),coupon.isExpired()?__p.push('\n      <div class="coupon-go-link expired"></div>\n    '):__p.push('\n      <div class="coupon-go-link"></div>\n    '),__p.push('\n  </div>\n  <div class="col large-3 medium-3 small-12 expiration-date">\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/deal_go_link"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a href="',this.model.get("go_link_href"),'">\n  <div class="golink-split-wrapper">\n    <svg version="1.1" class="golink-split-svg golink-split left with-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       viewBox="0 0 90.7 75.5" enable-background="new 0 0 90.7 75.5" xml:space="preserve">\n      <g>\n        <polygon fill="#338296" points="90.7,0 0,0 15.8,37.7 0,75.5 90.7,75.5   "/>\n        <g>\n          <path fill="#AECDD8" d="M51.8,54.6c0-2,1.8-3.8,3.8-3.8c2,0,3.8,1.8,3.8,3.8c0,2-1.8,3.8-3.8,3.8C53.5,58.4,51.8,56.9,51.8,54.6\n            L51.8,54.6z M77.5,54.6c0-2,1.8-3.8,3.8-3.8c2,0,3.8,1.8,3.8,3.8c0,2-1.8,3.8-3.8,3.8C79.3,58.4,77.5,56.9,77.5,54.6L77.5,54.6z\n             M85.2,38V22.7H51.8c0-2.8-2.3-5.1-5.1-5.1v2.5c1.5,0,2.5,1.3,2.5,2.5l2,16.6c-1.3,1-2,2.3-2,4.1c0,2.8,2.3,5.1,5.1,5.1h30.9v-2.5\n            H54.3c-1.5,0-2.5-1.3-2.5-2.5l0,0L85.2,38z"/>\n        </g>\n      </g>\n    </svg>\n    <div class="golink-split golink-split-center">\n      ',this.model.get("go_link_text"),'\n    </div>\n    <svg version="1.1" class="golink-split-svg golink-split right" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       viewBox="0 0 15.8 75.5" enable-background="new 0 0 15.8 75.5" xml:space="preserve">\n      <polygon fill="#338296" points="0,75.5 15.8,37.7 0,0 "/>\n    </svg>\n    <span class="go-get-it-at">at ',this.model.get("merchant").name,"</span>\n  </div>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/deals_page_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row">\n  ',deal.get("flags"),'\n  <div class="product col large-5 medium-5 small-12">\n    ',deal.get("image_link"),"\n    "),deal.isExpired()&&__p.push('\n      <span class="expired">\n        Expired\n      </span>\n    '),__p.push('\n    <a href="',App.Routes.merchant_path(this.model.get("merchant").slug),'" class="store-link">\n      <span class="pre-text">see all deals from</span>\n      <span>',this.model.get("merchant").name,"</span>\n    </a>\n    ",deal.get("third_party_tracking_pixel"),'\n  </div>\n  <div class="information col large-7 medium-7 small-12">\n    <h3>\n      <a href="',deal.get("go_link_href"),'" class="go_link" target="_blank" >\n        ',deal.get("title"),'\n      </a>\n    </h3>\n    <h4 class="clean-sub-header">\n      ',deal.get("merchant").merchant_rules.alternate_disclaimer,"\n    </h4>\n    "),deal.isExpired()&&__p.push('\n      <div class="deal-has-ended expired">\n        <p>\n          This deal has ended.\n        </p>\n      </div>\n    '),__p.push('\n    <div class="advertiser-disclosure-link" hidden="true">\n      <a href="#disclosure">Advertiser Disclosure</a>\n    </div>\n    <p>',deal.get("description"),'</p>\n    <div class="deal-go-link"></div>\n  </div>\n  <div class="col small-12 hide-for-large hide-for-medium">\n    <p class="description">',deal.get("description"),'</p>\n    <span class="link more-details">More Details</span>\n  </div>\n</div>\n<footer class="row">\n  <div class="author-info clearfix"></div>\n  <div class="engagement-module-container"></div>\n</footer>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/email_gate"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="wrapper email-gate">\n  <div class="row">\n    <div class="col large-9 medium-9 small-12">\n      <h1 class="hero-header">Please enter your email so we can help you.</h1>\n      <form class="col large-9 medium-9 tight">\n        <label for="email">Enter your email address<span class="error"></span></label>\n        <input id="email" type="email" name="email" value="',this.options.email,'" autofocus="true" />\n\n        <input type="submit" class="btn-pressable" value="Go to email preferences" />\n      </form>\n    </div>\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/engagement_module"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<ul class="reset engagement-module">\n  '),isFavorited?__p.push('\n    <li class="icon heart save saved"></li>\n  '):__p.push('\n    <li class="icon heart save"></li>\n  '),__p.push("\n  "),item.isShareable()&&__p.push('\n    <li class="icon above-text share">\n      Share\n      <ul class="reset dropdown">\n        <li class="icon facebook notext facebook-share">Share on Facebook</li>\n        <li class="icon email notext email-share">Share via email</li>\n      </ul>\n    </li>\n  '),__p.push("\n</ul>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/deal_tile_with_bookmark"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="tile with-bookmark">\n  <div class="engagement-module-container clearfix"></div>\n  <a href="',App.Routes.deal_path(this.model.get("param")),' ">\n    ',this.model.get("image"),"\n  </a>\n  ",this.model.get("third_party_tracking_pixel"),'\n  <a href="',App.Routes.deal_path(this.model.get("param")),'" class="deal-title">\n    ',this.model.get("title"),'\n    <span class="advertiser-disclosure-link" hidden> * </span>\n  </a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/inline_subscription_form"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="subscription-container">\n  <div class="cta">\n    <p>Subscribe to Brad\'s Deals to get 60 Days of Deals alerts in your inbox</p>\n    <span class="btn-pressable teal large-last medium-last small-first">Sign Up Now</span>\n  </div>\n\n  <form method="post" action="/users" class="sign-up-form" data-remote="true" data-type="json" novalidate="novalidate">\n    <div class="input-list clearfix">\n      <div class="error-message col large-12 medium-12 small-12 icon bullet">\n        <label for="email">\n          <span class="error"></span>\n        </label>\n      </div>\n      <div class="row">\n        <div class="email col large-8 medium-8 small-8 icon bullet mail">\n          <input id="email" placeholder="email address" name="email" type="email" tabindex="1">\n        </div>\n        <div class="col large-4 medium-4 small-4 tight">\n          <input type="submit" class="btn-pressable large-last medium-last small-first" value="Complete Sign Up" data-disable-with="Signing up..."></input>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/item_engagement_module"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<ul class="reset engagement-module row">\n  '),item.isExpired()||(__p.push("\n    "),item.isShareable()&&__p.push('\n      <li class="section icon share">\n        <span class="optional-text">Share</span>\n        <ul class="reset dropdown">\n          <li class="icon email notext email-share">\n            <span class="invisible-helper-text">Share via email</span>\n          </li>\n          <li class="image facebook-share">\n            <img src="',App.Assets.imagePath("svgs/official_facebook_white.svg"),'">\n            <span class="invisible-helper-text">Share on Facebook</span>\n          </li>\n        </ul>\n      </li>\n    '),__p.push("\n    "),isFavorited?__p.push('\n      <li class="section icon bookmark save saved"><span class=\'icon checkmark\'></span><span class="optional-text saved">Saved</span></li>\n    '):__p.push('\n      <li class="section icon bookmark save"><span class="optional-text">Save</span></li>\n    '),__p.push("\n  ")),__p.push('\n  <li class="section chat-pack"></li>\n</ul>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/loading"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="loading-container">\n  <div class="loading-icon">\n    <span class="loading bullet"></span>\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/log_up_button"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),this.model.loggedIn()?(__p.push("\n  "),this.model.isFullUser()?__p.push('\n    <a class="btn primary" href="',App.Routes.root_path(),'">Start Saving Now</a>\n  '):__p.push('\n    <span class="btn primary" data-modal="create_profile">Complete Your Profile</span>\n  '),__p.push("\n")):__p.push('\n  <span class="btn primary modal-link" data-modal="sign_up">Start Your Profile</span>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/merchant_page_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="block merchant">\n  <a href="',App.Routes.coupons_merchant_path(this.model.get("slug")),'">\n    <img alt="',this.model.get("name"),' Logo" src="',this.model.get("logo"),'" />\n  </a>\n  <div class="store-actions">\n    <a href="',App.Routes.coupons_merchant_path(this.model.get("slug")),'">',this.model.get("counts").coupons," ",this.model.couponDisplayName().capitalize(),'s</a>\n    <a href="',App.Routes.merchant_path(this.model.get("slug"))+"#deals",'">',this.model.get("counts").deals,' Deals</a>\n    <div class="engagement-module-container"></div>\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/message_preview"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<img src="',this.model.get("item").shareImage(),'" alt="',this.model.get("item").shareName(),' logo" class="product-image" />\n',this.description(),"\n\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/mini_coupon"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),this.model.isExpired()&&__p.push('\n  <div class="flag expired">Expired</div>\n'),__p.push('\n<div class="row block coupon mini">\n  <div class="content">\n    <a href="',App.Routes.coupons_merchant_path(this.model.get("merchant").slug),'">\n      <div class="product">\n        <img src="',this.model.get("merchant").logo.small,'" alt="',this.model.get("merchant").name,' coupons" />\n        ',this.model.get("third_party_tracking_pixel"),'\n      </div>\n      <div class="information">\n        ',this.model.get("merchant").name+": ","\n        ",this.model.get("title"),'\n        <span class="advertiser-disclosure-link" hidden="true">*</span>\n      </div>\n    </a>\n  </div>\n  '),this.model.isExpiringSoon()&&__p.push('\n    <span class="alert">Expiring Soon</span>\n  '),__p.push('\n  <div class="engagement-module-container"></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/mini_deal"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),this.model.isExpired()&&__p.push('\n  <div class="flag expired">Expired</div>\n'),__p.push('\n<div class="row block deal mini">\n  <div class="content">\n    <a href="',App.Routes.deal_path(this.model.get("param")),'">\n      <div class="product col large-3 medium-3 tight">\n        ',this.model.get("image"),"\n        ",this.model.get("third_party_tracking_pixel"),'\n      </div>\n      <div class="information col large-9 medium-9">\n        <h2 class="gray-header merchant-name">',this.model.get("merchant").name,"</h2>\n        <h3>",this.model.get("title"),' <span class="advertiser-disclosure-link" hidden="true">*</span></h3>\n      </div>\n    </a>\n  </div>\n  <div class="engagement-module-container"></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/mobile_search"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('\n<form action="/search" class="autocomplete-form row" method="get">\n  <label for="mobilenav-search">Search thousands of brands, stores, and deals:</label>\n  <input class="autocomplete-input" id="mobilenav-search" name="query" tabindex="1" type="text" maxlength="255">\n  <span class="icon cross close-search"></span>\n  <input class="btn tertiary close-search" type="submit" value="Go">\n</form>\n\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/modal"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)}
;with(obj||{})__p.push('<div id="modal-overlay">\n  <div id="modal" class="large-6-fixed medium-7-fixed small-11">\n    <span class="close-modal modal-close-button">\n      <svg class="svg-cross-circle" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-3 -3 38 38" enable-background="new -3 -3 38 38" xml:space="preserve">\n        <path class="inner" d="M16,33.5C6.4,33.5-1.5,25.6-1.5,16S6.4-1.5,16-1.5S33.5,6.4,33.5,16S25.6,33.5,16,33.5z"></path>\n        <path class="outer" d="M16,0c8.8,0,16,7.2,16,16s-7.2,16-16,16S0,24.8,0,16S7.2,0,16,0 M16-3C5.5-3-3,5.5-3,16s8.5,19,19,19 s19-8.5,19-19S26.5-3,16-3L16-3z"></path>\n        <polygon class="x" points="23.9,21.1 21.1,23.9 16,18.8 10.9,23.9 8.1,21.1 13.2,16 8.1,10.9 10.9,8.1 16,13.2 21.1,8.1 23.9,10.9 18.8,16"></polygon>\n      </svg>\n    </span>\n    <div class="content"></div>\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/no_deal_search_results"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="no-results">\n  <h3 class="clean-header">We\'re sorry, we couldn\'t find any deals that match your search</h3>\n  <div class="no-results-message">Create a deal alert to stay up-to-date and be the first to know when we have a deal that matches your search. In the meantime, check out some of our most popular deals!</div>\n</div>\n<div class="deals-feed" id="deals-feed"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/no_coupon_search_results"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="no-results">\n  <h3 class="clean-header">We\'re sorry, we couldn\'t find any coupons that match your search</h3>\n  <div class="no-results-message">Check back frequently, or check out some of our most popular coupons below!</div>\n</div>\n<div class="coupons-feed coupon-layout" id="coupons-feed"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/no_store_search_results"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="no-results">\n  <h3 class="clean-header">We\'re sorry, we couldn\'t find any stores that match your search</h3>\n  <div class="no-results-message">We\'re working to find stores that are relevant to you. In the meantime, check out some of our popular stores!</div>\n</div>\n<div class="stores-feed" id="stores-feed"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/pagination"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="pagination">\n  <ul class="reset clearfix">\n    <li class="previous">\n      <a href="',this.previousPageUrl(),'" class="icon arrow-left ',this.isFirstPage()?"disabled":"",'">prev</a>\n    </li>\n    <li class="next">\n      <a href="',this.nextPageUrl(),'" class="icon arrow-right end-of-line ',this.isLastPage()?"disabled":"",'">next</a>\n    </li>\n  </ul>\n  <span class="page-count">\n    Page ',this.currentPageNumber," of ",this.maxPageNumber,"\n  </span>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/peek_content"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row">\n  <div class="peek-content-one col"></div>\n  <div class="peek-content-two col"></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/peek_coupons"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="capital-header left-aligned">',title||"Coupons",'</h2>\n<ul class="reset coupon-items clearfix"></ul>\n<a href="#coupons" class="view-all-link">View all ',(collectionSize||this.collection.length)+" "+couponDisplayName.capitalize()+"s","</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/peek_deals"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="capital-header left-aligned">',title||"Deals",'</h2>\n<ul class="reset deal-items clearfix"></ul>\n<a href="#deals" class="view-all-link">View all ',collectionSize||this.collection.length," Deals</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/peek_merchants"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="capital-header left-aligned">',title||"Stores",'</h2>\n<ul class="reset merchant-items clearfix"></ul>\n<a href="#stores" class="view-all-link">View all ',collectionSize||this.collection.length," Stores</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/search_page"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="collection clearfix medium-flush-1 small-flush-1"></div>\n<div class="pagination ',this.mainModel,'">\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/search_pagination"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="details">Showing ',this.model.get("records")[this.options.mainModel].length," of ",this.model.get("counts")[this.options.mainModel],"</span>\n"),this.hasMorePages()&&__p.push('\n  <span class="link">Show More</span>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/search_tabs"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<ul class="reset clearfix">\n  <li class="col tight tab large-4 medium-4 small-4 toggle deal active"><a href="#deals">Deals (',this.model.get("counts").deals,')</a></li>\n  <li class="col tight tab large-4 medium-4 small-4 toggle coupon"><a href="#coupons">Coupons (',this.model.get("counts").coupons,')</a></li>\n  <li class="col tight tab large-4 medium-4 small-4 toggle merchant"><a href="#stores">Stores (',this.model.get("counts").merchants,")</a></li>\n</ul>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/social_media_widget"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="badge facebook"></div>\n<div class="badge twitter"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/single_use_coupon"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<form action="#" class="coupon-code-form">\n  <code class="hide"></code>\n  <input type="submit" class="btn-pressable" value="',this.options.getCouponText,'" data-disable-with="',this.options.disableWithText,'"></input>\n  <a class="btn-pressable copy-and-go hide" href="" data-clipboard-target="form code" target="_blank">',this.options.goLinkText,"</a>\n</form>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/subscription_module"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="create-alert-container ',this.isSubscribed()?"confirm":"",'">\n  '),this.isSubscribed()?__p.push("\n    <div>\n      ",JST["templates/svgs/alert_bell"](),'\n    </div>\n    <div class="confirm-message">\n      <h5 class="black-header">',title,'</h5>\n      <div class="confirmation-message">',this.confirmationMessage(),"</div>\n    </div>\n  "):__p.push('\n    <div class="search-content">\n      <h5 class="gray-header">',this.label,'</h5>\n      <strong class="search-string">',this.name(),'</strong>\n    </div>\n    <div class="button-container">\n      <span class="btn-2d teal subscription-create">\n        ',buttonText,"\n      </span>\n    </div>\n  "),__p.push("\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/alt_subscription_module"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="row ',this.model.isNew()?"":"confirm",'">\n  <div class="col large-flush-2 medium-flush-2 small-2">\n    ',JST["templates/svgs/alert_bell"](),"\n  </div>\n  "),this.model.isNew()?__p.push('\n    <div class="col large-10 medium-10 small-10">\n      <span class="btn-pressable subscription-create">\n        ',this.options.buttonText,"\n      </span>\n    </div>\n  "):__p.push('\n    <div class="col large-10 medium-10 small-10 confirm-message">\n      <h5 class="salmon-header">',this.options.successTitle,"</h5>\n      <div>",this.options.successText,"</div>\n    </div>\n  "),__p.push("\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/infinite_scroll_call_to_action"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="infinite-scoll-container">\n  <div class="infinite-scoll-call-to-action">\n    <h2>Keep scrolling to see more of our newest deals.<span class="icon arrow-down3"></span></h2>\n  </div>\n\n  <div class="centered-container large hide">\n    <a href="',App.Routes.newest_deals_path(),'">Check out the newest deals &raquo;</a>\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/tooltip"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="tooltip">\n  <span class="tooltip-trigger">\n    ',this.tooltipTrigger,'\n  </span>\n  <span class="tooltip-content">\n    ',this.tooltipContent,"\n  </span>\n</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/subscription_buttons"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="top-alerts-header-container">\n  <div class="centered-container byline">Or choose from our most popular</div>\n  <div class="error hide">Something went wrong. Please try again.</div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/trending_alert_button_module"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="trending-alert ',this.isSubscribed()?"active":"inactive",'">\n  <div class="alert-button">\n    ',this.isSubscribed()?this.buttonText()+" Alert Created!":this.buttonText(),"\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/create_subscription_form_success"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="col large-12 medium-12 small-12 centered-container">\n  <div class="row large-6 medium-6 small-12 btn-transparent-disabled btn-with-icon activated">\n    <div class="col large-push-3 medium-push-2 small-push-1 large-1 medium-1 small-2 tight button-icon">\n      ',JST["templates/svgs/alert_bell"](),'\n    </div>\n    <span class="col large-8 medium-9 small-9 success-message tight">\n      ',success,"\n    </span>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/create_subscription_form"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<form action="#" class="clean-form horizontal" method="post">\n  <label for="keyword_search">Keyword Search</label>\n  <span class=\'error\'></span>\n  <div class="row" id="create_subscription_input">\n    <div class="col large-9 medium-8 small-12 tight-for-small text-field">\n      <input type="text" name="keyword_search" id="keyword_search" class="required", placeholder="What are you shopping for?" value="',this.model.getSearchString(),'">\n    </div>\n    <button class="col small-push-1 large-3 medium-4 small-10 btn-pressable">Create Alert</button>\n    <div class="error hide">Something went wrong. Try refreshing the page.</div>\n  </div>\n</form>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/expandable_coupons"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="capital-header">Today\'s Best Travel Coupons</h2>\n<ul class="reset travel-coupon-container" id="coupon-collection"></ul>\n'),this.collection.length<this.collection.total&&__p.push('\n  <div class="row more-button-container">\n    <button class="btn-inverted more-coupons large-4 medium-4 small-12">View More Coupons</button>\n  </div>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/expandable_deals"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="capital-header">Today\'s Best Travel Deals</h2>\n<ul class="row reset large-clear-4 medium-clear-4 small-clear-2" id="deal-collection"></ul>\n'),this.collection.length<this.collection.total&&__p.push('\n  <div class="row more-button-container">\n    <button class="btn-inverted more-deals large-4 medium-4 small-12">View More Deals</button>\n  </div>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/expandable_blog_posts"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="capital-header">Travel Tips and Advice</h2>\n<ul class="row reset mini-tips large-clear-4 medium-clear-3 small-clear-2" id="blog-post-collection"></ul>\n'),this.collection.length<this.collection.total&&__p.push('\n  <div class="row more-button-container">\n    <button class="btn-inverted more-posts large-4 medium-4 small-12">View More Blog Posts</button>\n  </div>\n'),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/blog_post_tile"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="content-card tip">\n  <a href="',App.Routes.blog_path(this.model.get("slug")),'"><img src="',this.model.imageUrl(),'"></a>\n  <div class="card-details">\n    <a href="',App.Routes.blog_path(this.model.get("slug")),'" class="title">',this.model.get("title"),"</a>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/travel_pills"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h3 class="clean-header centered-container">Your resource for everything travel</h3>\n<h4 class="clean-sub-header centered-container">Choose what you\u2019re looking for and get results filtered by Coupons, Deals, and Tips & Advice</h4>\n<ul class="reset">\n  <li class="col large-4 medium-4 small-6">\n    <a class="pill-button" href="',App.Routes.travel_path(),'" data-slug="everything">\n     Everything\n    </a>\n  </li>\n  <li class="col large-4 medium-4 small-6">\n    <a class="pill-button" href="',App.Routes.travel_path()+"/?slug=flight-deals",'" data-slug="flight-deals">Flight Deals</a>\n  </li>\n  <li class="col large-4 medium-4 small-12">\n    <a class="pill-button" href="',App.Routes.travel_path()+"/?slug=luggage-travel-accessories",'" data-slug="luggage-travel-accessories">\n      Luggage &amp; <span class="hide-for-medium">Travel</span> Accessories\n    </a>\n  </li>\n  <li class="col large-6 medium-6 small-6">\n    <a class="pill-button" href="',App.Routes.travel_path()+"/?slug=cruises-vacation-packages",'" data-slug="cruises-vacation-packages">\n      Cruises &amp; <span class="hide-for-small">Vacation</span> Packages\n    </a>\n  </li>\n  <li class="col large-6 medium-6 small-6">\n    <a class="pill-button" href="',App.Routes.travel_path()+"/?slug=destination-guides",'" data-slug="destination-guides">\n      Destination Guides\n    </a>\n  </li>\n  <li class="col large-3 medium-3 small-12">\n    <a class="pill-button" href="',App.Routes.travel_path()+"/?slug=hotel-deals",'" data-slug="hotel-deals">\n      Hotel Deals\n    </a>\n  </li>\n  <li class="col large-3 medium-3 small-6">\n    <a class="pill-button" href="',App.Routes.travel_path()+"/?slug=trip-reports",'" data-slug="trip-reports">\n      Trip Reports\n    </a>\n  </li>\n  <li class="col large-3 medium-3 small-6">\n    <a class="pill-button" href="',App.Routes.travel_path()+"/?slug=credit-cards-general",'" data-slug="credit-cards-general">\n      Credit Cards\n    </a>\n  </li>\n  <li class="col large-3 medium-3 small-12">\n    <a class="pill-button" href="',App.Routes.travel_path()+"/?slug=points-miles",'" data-slug="points-miles">\n      Points &amp; Miles\n    </a>\n  </li>\n</ul>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/acquisition/landing_v2"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="col tight grid-15-large-6 grid-15-medium-6 grid-15-small-15 clearfix landing-splash"></div>\n<div class="landing-content col tight grid-15-large-9 grid-15-medium-9 grid-15-small-13 grid-15-small-push-1">\n  <img class="acq-logo" src="',App.Assets.imagePath("logos/bd-2tone-logo.png"),'" alt="Brad\'s Deals logo">\n  <h1 class="headline">Brad\'s Deals of the Day</h1>\n  <h2 class="subhead">Take 50 to 90% off Top Brands at the Best Stores</h2>\n  <form action="',App.Routes.users_path(),'" method="POST" data-remote="true" class="sign-up-form grid-15-large-7 grid-15-medium-10 grid-15-small-12 clean-form" data-type="json" novalidate="novalidate">\n    <div>\n      <label for="email">\n        <span class="default-copy">Please enter your email address</span>\n        <span class= "error"></span>\n      </label>\n    </div>\n    <div>\n      <input type="email" id="email" name="email" placeholder="Email Address" />\n    </div>\n    <input type="submit" value="Submit" class="btn-pressable teal" data-disable-with="Signing Up">\n    <p>or</p>\n    <div class="btn-pressable facebook-login-button signup">Sign up with Facebook</div>\n    <div class="btn-pressable google-login-button signup">Sign up with Google</div>\n  </form>\n  <a href=\'',App.Routes.privacy_path(),'\' class="privacy-link">Privacy Policy</a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/oauth/alexa_sign_up"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="headline">\nSave Every Day With Deal Alerts\n</h2>\n<p>\n  Connect to Brad\u2019s Deals and get personalized Deal Alerts in your inbox.\n<p>\n<form action="',App.Routes.users_path(),'" method="POST" data-remote="true" class="sign-up-form grid-15-large-7 grid-15-medium-10 grid-15-small-12 clean-form" data-type="json" novalidate="novalidate">\n  <div>\n    <label for="email">\n      <span>Please enter your email address</span>\n      <span class= "error"></span>\n    </label>\n  </div>\n  <div>\n    <input type="email" id="email" name="email" placeholder="Email Address" />\n  </div>\n  <input type="submit" value="Submit" class="btn-pressable teal" data-disable-with="Signing Up">\n  <p>or</p>\n  <div class="btn-pressable facebook-login-button signup">Sign up with Facebook</div>\n  <div class="btn-pressable google-login-button signup">Sign up with Google</div>\n</form>\n<p>\n  By enabling Deal Alerts, you will be subscribed to our emails. You can manage email preferences at any time.\n</p>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/oauth/alexa_authorization"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="headline">\nSave Every Day With Deal Alerts\n</h2>\n<p>\n  Connect to Brad\u2019s Deals and get personalized Deal Alerts in your inbox.\n<p>\n<form action="',App.Routes.authorize_path(),'" method="POST" class="sign-up-form grid-15-large-7 grid-15-medium-10 grid-15-small-12 clean-form" novalidate="novalidate">\n  <input type="hidden" value="',redirectUri,'" name="redirect_uri" />\n  <input type="hidden" value="',responseType,'" name="response_type" />\n  <input type="hidden" value="',scope,'" name="scope" />\n  <input type="hidden" value="',state,'" name="state" />\n  <input type="submit" value="Authorize" class="btn-pressable teal" data-disable-with="Authorize">\n</form>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/oauth/alexa_password_sign_in"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h2 class="headline">\nSave Every Day With Deal Alerts\n</h2>\n<p>\n  Connect to Brad\u2019s Deals to find personalized Deal Alerts in your inbox.\n<p>\n\n<p>\n  Welcome back, please enter your Brad\u2019s Deals account password to continue.\n</p>\n<form action="',App.Routes.sessions_path(),'" method="POST" data-remote="true" class="login-form grid-15-large-7 grid-15-medium-10 grid-15-small-12 clean-form" data-type="json" novalidate="novalidate">\n  <div>\n    <input type="hidden" value="',email,'" name="email" />\n    <label for="password">\n      <span>Please enter your password</span>\n      <span class= "error"></span>\n    </label>\n  </div>\n  <div>\n    <input type="password" id="password" name="password" placeholder="Password" />\n  </div>\n  <span class=\'link modal-link forgot-password\' data-modal=\'reset_password\'>\n    Forgot password?\n  </span>\n  <input type="submit" value="Submit" class="btn-pressable teal" data-disable-with="Submit">\n</form>\n<p>\n  By enabling Deal Alerts, you will be subscribed to our emails. You can manage email preferences at any time.\n</p>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stale_deal_module"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="well stale-deal">\n  <div class="image-container">\n    <div class="close-button">\n      ',JST["templates/svgs/x"](),"\n    </div>\n    ",this.model.get("image"),'\n  </div>\n  <div class="text-container">\n    <div class="stale-deal-title">\n      ',this.model.get("title"),'\n    </div>\n    <h2 class="stale-deal-headline">We\'re sorry, this deal has expired.</h2>\n    <div class="stale-deal-explanation">\n      This can happen for a variety of reasons, but usually it\u2019s because the product either sold out or has increased in price. Still interested in this offer? It may still be available at ',this.model.get("merchant").name,' <a href="',this.model.get("go_link_href"),'">Click Here</a>\n    </div>\n  </div>\n</div>\n');return __p.join("")}}.call(this),App.ViewHelpers={scrollToTop:function(){window.scrollTo(0,0)},isCurrentPath:function(e,t){return(t||window.location.pathname)===e},hashFromQueryString:function(e){var t,i={};return(e=(e=e||"").split("?")[1])!==undefined&&(t=e.split("&"),_.reduce(t,function(e,t){var i=t.split("=");return e[i[0]]=i[1],e},i)),i},birthdayOptions:{months:function(){for(var e="",t=["January","February","March","April","May","June","July","August","September","October","November","December"],i=1;i<=12;i++)e+="<option value='"+i+"'>"+t[i-1]+"</option>";return e},days:function(){for(var e="",t=1;t<=31;t++)e+="<option>"+t+"</option>";return e},years:function(){for(var e=(new Date).getFullYear(),t="",i=e;i>=e-100;i--)t+="<option>"+i+"</option>";return t}},currentLocationHref:function(){return window.location.href},detectMobileDevice:function(){return/iPhone|iPod|iPad|Android|IEMobile|BlackBerry/.test(navigator.userAgent)},detectMobilePhone:function(){return/iPhone|iPod|Mobile|IEMobile|BlackBerry/.test(navigator.userAgent)},isDealDetailAndExpired:function(){return $(".deal-detail-page").length&&$(".expired-deal").length},detectTransitionSupport:function(e){var t=e||document.createElement("p").style,i="Transition",s=["Moz","webkit","Webkit","Khtml","O","ms"];if("string"==typeof t["transition"])return!0;for(var n=0;n<s.length;n++)if("string"==typeof t[s[n]+i])return!0;return!1}},App.Mixins.Commentable={extendsCommentable:!0,commentCount:function(){var e=this.get("topic")?this.get("topic").get("comments").length:this.get("comment_count");return(e=e||"")>99?"99+":e}},App.Models.BaseModel=Backbone.Model.extend({constructor:function(e,t){(t=t||{}).parse=!0,this.inheritsFromBaseModel=!0,Backbone.Model.call(this,e,t)},initialize:function(){if(isTypeof(App.Models.BaseModel,this))throw new Error("App.Models.BaseModel should not be instantiated directly")},parse:function(e){return this.wrappedAttributes&&_(this.wrappedAttributes).each(function(t,i){var s=e[i];e[i]&&!isTypeof(t,s)&&(e[i]=new t(s))}),e}}),App.Collections.BaseCollection=Backbone.Collection.extend({scope:function(e){if(!e)return new this.constructor([]);if(isTypeof(Object,e))return new this.constructor(this.where(e).map("&attributes"));if(isTypeof(Function,e)){var t=this.map.call(this,e);return new this.constructor(t.compact().map("&attributes"))}}}),App.Models.Author=App.Models.BaseModel.extend({sizes:{small:"40x40",medium:"100x100",large:"250x250"},avatarUrl:function(e){e=this.sizes[e]?e:"small";var t=this.sizes[e],i=this.get("id"),s=(this.get("name")||"")[0],n=[App.Data.ImageRedirectUrl,t],o=[s,i];return _.contains(o,undefined)||(n=n.concat(o)),n.join("/")}}),App.Models.Brand=App.Models.BaseModel.extend(),App.Collections.Brands=App.Collections.BaseCollection.extend({model:App.Models.Brand}),App.Models.Comment=App.Models.BaseModel.extend({modelClass:"Comment",urlRoot:"/comments",wrappedAttributes:{author:App.Models.Author},writtenByCurrentUser:function(){return this.get("author").get("id")===App.Data.currentUser.get("id")}}),App.Collections.Comments=App.Collections.BaseCollection.extend({model:App.Models.Comment}),function(){var e=App.Models.BaseModel.prototype;App.Models.Topic=App.Models.BaseModel.extend({wrappedAttributes:{comments:App.Collections.Comments,author:App.Models.Author},initialize:function(){e.initialize.apply(this,arguments),_.bindAll(this,"parseAndMerge"),this.listenTo(this.get("comments"),"remove",this.decrementCommentCount),this.listenTo(this.get("comments"),"add",this.incrementCommentCount)},fetchNext:function(){$.ajax({url:"/topics",type:"GET",data:{topic_slug:this.get("slug"),offset:this.get("comments").length},dataType:"json"}).done(this.parseAndMerge)},parseAndMerge:function(e){this.get("comments").add(e.comments,{silent:!0}),this.get("comments").trigger("sync")},incrementCommentCount:function(){this.set("comments_count",this.get("comments_count")+1)},decrementCommentCount:function(){this.set("comments_count",this.get("comments_count")-1)}})}(),App.Models.Deal=App.Models.BaseModel.extend({urlRoot:"/deals",wrappedAttributes:{author:App.Models.Author,topic:App.Models.Topic},modelClass:"Deal",shareURL:function(){return App.Routes.deal_url(this.get("param"))},shareImage:function(){return this.get("image_urls").large},shareName:function(){return this.get("title")},shareDescription:function(){return this.get("description")},isShareable:function(){var e=this.get("merchant").merchant_rules;return!e||!e.disable_social_sharing},isExpired:function(){return moment(this.get("expires_at")).isBefore(moment())}}),_.extend(App.Models.Deal.prototype,App.Mixins.Commentable),App.Collections.Deals=App.Collections.BaseCollection.extend({url:"/deals.json",model:App.Models.Deal,initialize:function(e,t){t&&(this.limit=t.limit,this.total=t.total,this.query=t.query),_.bindAll(this,"parseAndMerge")},parse:function(e){return e.deals?(this.pageCount=e.count,this.total=e.total,e.deals):e},parseAndMerge:function(e){e.deals&&(this.total=e.total,this.add(e.deals)),this.trigger("sync")},fetchNext:function(){var e=_.clone(this.query);return e.page=parseInt(this.length/this.limit)+1,this.limit&&(e.limit=this.limit),this.trigger("request"),$.ajax({url:this.url,type:"GET",data:e,dataType:"json"}).done(this.parseAndMerge)}}),function(){var e=App.Models.BaseModel.prototype;App.Models.DealCount=App.Models.BaseModel.extend({url:"/deals/count",fetch:function(t){return(t=t||{data:{}}).data=_.defaults(t.data,this.get("params")),e.fetch.apply(this,[t])}})}(),App.Collections.DealsSearch=App.Collections.BaseCollection.extend({model:App.Models.Deal,url:function(){return App.Routes.searches_path({types:"deals",query:this.options.query})},initialize:function(e,t){this.options=t||{}},parse:function(e){return e.counts&&(this.total=e.counts.deals),e.records?e.records.deals:e}}),App.Models.Coupon=App.Models.BaseModel.extend({wrappedAttributes:{author:App.Models.Author,topic:App.Models.Topic},urlRoot:"/coupons.json",url:function(){return this.urlRoot+"/"+this.get("param")},modelClass:"Coupon",goLink:function(){return"/go/c/"+this.get("id")},isExpired:function(){return this.get("expired")},isExpiringSoon:function(){return this.get("expiring_soon")},shareURL:function(){return App.Routes.coupons_merchant_url(this.get("merchant").slug)},shareImage:function(){return this.get("logo")},shareName:function(){return this.get("title")},shareDescription:function(){return this.get("description")||this.get("name")},storesURL:function(){return App.Routes.merchant_url(this.get("merchant").slug)},isShareable:function(){var e=this.get("merchant").merchant_rules;return!e||!e.disable_social_sharing},couponDisplayName:function(){return this.get("coupon_display_name")},verifiedDate:function(){if(moment(this.get("starts_at")).isAfter(moment().subtract(14,"days")))return moment(this.get("starts_at")).fromNow()},codePreview:function(){var e=this.get("code");return e.substr(e.length-3)},linkText:function(){var e=this.get("type");return this.isExpired()?"No longer available":"printable"===e?"Print Coupon":"online"===e&&this.get("code")?"Reveal Code":"online"===e?"Click to Redeem":"promotion"===e?"Go to Sale":void 0},hasCode:function(){return!!this.get("code")}}),_.extend(App.Models.Coupon.prototype,App.Mixins.Commentable),App.Collections.Coupons=App.Collections.BaseCollection.extend({url:"/coupons.json",model:App.Models.Coupon,initialize:function(e,t){t&&(this.limit=t.limit,this.total=t.total,this.query=t.query),_.bindAll(this,"parseAndMerge")},parse:function(e){return e.coupons?(this.pageCount=e.count,this.total=e.total,e.coupons):e},parseAndMerge:function(e){e.coupons&&(this.total=e.total,this.add(e.coupons)),this.trigger("sync")},fetchNext:function(){var e=_.clone(this.query);return e.page=parseInt(this.length/this.limit)+1,this.limit&&(e.limit=this.limit),this.trigger("request"),$.ajax({url:this.url,type:"GET",data:e,dataType:"json"}).done(this.parseAndMerge)}}),function(){var e=App.Models.BaseModel.prototype;App.Models.Merchant=App.Models.BaseModel.extend({urlRoot:"/stores.json",modelClass:"Merchant",wrappedAttributes:{online_coupons:App.Collections.Coupons,printable_coupons:App.Collections.Coupons,deals:App.Collections.Deals,sales:App.Collections.Coupons,topic:App.Models.Topic},parse:function(t){return t.coupons&&(t.online_coupons=t.coupons.online,t.printable_coupons=t.coupons.printable,t.sales=t.coupons.promotion),e.parse.call(this,t)},url:function(){return this.urlRoot+"/"+this.get("slug")},shareURL:function(){return App.Routes.merchant_url(this.get("param"))},shareImage:function(){return this.get("logo")},shareName:function(){return this.get("name")},shareDescription:function(){var e=this.get("seo_content");return e&&e.attributes.store_coupons||this.get("name")},isShareable:function(){var e=this.get("merchant_rules");return!e||!e.disable_social_sharing},isExpired:function(){return!1},couponDisplayName:function(){return this.get("merchant_rules").coupon_name||"coupon"},pluralDecoratedCouponName:function(){return this.couponDisplayName().capitalize()+"s"}}),_.extend(App.Models.Merchant.prototype,App.Mixins.Commentable),App.Collections.Merchants=App.Collections.BaseCollection.extend({url:"/stores.json",model:App.Models.Merchant}),App.Collections.PopularMerchants=App.Collections.BaseCollection.extend({url:"/stores/popular_merchants.json",model:App.Models.Merchant})}(),App.Models.Engagement=App.Models.BaseModel.extend({urlRoot:"/engagements"}),App.Collections.Engagements=App.Collections.BaseCollection.extend({url:"/users/engagements.json",model:App.Models.Engagement,initialize:function(){this.on("remove",this.removeEngagedItem,this),this.merchants=new App.Collections.Merchants,this.savedItems=new App.Collections.SavedItems},dealAndCouponSaveCounts:function(){return this.where({engagement_type:"save",item_type:"deal"}).length},merchantSaveCounts:function(){return this.merchantEngagments().length},
savedMerchantIds:function(){return this.merchantEngagments().sortBy(function(e){return-1*Date.parse(e.get("updated_at"))}).map(function(e){return e.get("item_id")})},merchantEngagments:function(){return this.where({engagement_type:"save",item_type:"merchant"})},fetchMerchants:function(){if(this.merchantSaveCounts()>0)return this.merchants.fetch({data:{ids:this.savedMerchantIds().join()}});this.merchants.trigger("sync")},removeEngagedItem:function(e){"merchant"===e.get("item_type")?this.merchants.remove(e.get("item_id")):this.savedItems.remove(e.get("item_id"))},fetchSavedItems:function(){return this.savedItems.fetch(this.savedItemIds())},dealAndCouponEngagements:function(){return this.where({engagement_type:"save",item_type:"deal"})},savedItemIds:function(){return this.dealAndCouponEngagements().sortBy(function(e){return-1*Date.parse(e.get("updated_at"))}).map(function(e){return{item_id:e.get("item_id"),item_type:e.get("item_type")}})}}),App.Models.NewsletterType=App.Models.BaseModel.extend({modelClass:"NewsletterType"}),App.Collections.NewsletterTypes=App.Collections.BaseCollection.extend({model:App.Models.NewsletterType,url:function(){return App.Routes.newsletter_types_path()}}),App.Models.EmailSubscription=App.Models.BaseModel.extend({url:function(){return App.Routes.user_email_subscriptions_path({md5:this.get("md5")})},isNew:function(){return!1}}),App.Models.EmailPreference=App.Models.BaseModel.extend({modelClass:"EmailPreference",url:function(){return App.Routes.user_email_preferences_path({md5:this.get("md5")})},isNew:function(){return!1},isNewsletterSubscribed:function(){return this.get("subscribe")&&!this.get("opt_out_newsletter")},isPromotionalSubscribed:function(){return this.get("subscribe")&&!this.get("opt_out_promotional")}}),App.Models.UserProfile=App.Models.BaseModel.extend({url:App.Routes.user_profiles_path(),initialize:function(){if(this.on("change",this.setBirthday),this.get("birthday")){var e=this.toMoment(this.get("birthday"));this.set({year:e.year(),month:e.month()+1,day:e.date()})}},isNew:function(){return!1},toJSON:function(){return _.pick(this.attributes,"first_name","last_name","location","birthday")},setBirthday:function(){var e=_.pick(this.attributes,"year","month","day");if(e.year&&e.month&&e.day){var t=this.toMoment(_.values(e).join("-"));this.set({birthday:t.format("YYYY-MM-DD")})}},toMoment:function(e){return moment(e,"YYYY-MM-DD")},fullName:function(){return _.values(_.pick(this.attributes,"first_name","last_name")).join(" ")}}),App.Models.User=App.Models.BaseModel.extend({urlRoot:"/users.json",userAction:$.Deferred(),wrappedAttributes:{engagements:App.Collections.Engagements,user_profile:App.Models.UserProfile},initialize:function(){_.bindAll(this,"handleEngagementSave"),this.populateEngagements(),this.populateSubscriptions(),this.registerEvents()},registerEvents:function(){App.Dispatcher.on("bdEngagement:save",this.handleEngagementSave),this.on("change",this.populateEngagements,this),this.on("change:id",this.populateSubscriptions,this),this.on("change:user_profile",this.wrapProfile),this.listenTo(this.get("engagements"),"sync",this.resolveQueuedAction),this.listenTo(this.get("subscriptions"),"sync",this.resolveQueuedAction)},handleEngagementSave:function(e){var t=new App.Models.Engagement({user_id:this.get("id"),item_id:e.model.get("id"),item_type:e.model.modelClass.toLowerCase(),engagement_type:"save"});this.get("engagements").add(t),t.save()},loggedIn:function(){return!this.isNew()},isFullUser:function(){return!!this.get("user_profile")},isSubscriber:function(){return this.loggedIn()&&!this.isFullUser()},isFacebookUser:function(){return!!this.get("facebook_user")},isGoogleUser:function(){return this.get("google_user")},hasSubscription:function(e){return!!this.get("subscriptions").findByQueryAndTrigger(e.get("query"),e.get("trigger"))},populateEngagements:function(){this.get("engagements")||this.set("engagements",new App.Collections.Engagements),this.isFullUser()&&this.get("engagements").isEmpty()&&this.get("engagements").fetch()},populateSubscriptions:function(){return this.get("subscriptions")||this.set("subscriptions",new App.Collections.Subscriptions),this.loggedIn()&&this.get("subscriptions").isEmpty()?this.get("subscriptions").fetch({data:{user_id:this.get("id")}}):$.Deferred().resolve()},wrapProfile:function(e,t){if(t&&!isTypeof(App.Models.UserProfile,t)){var i=this.previous("user_profile");i?(this.set({user_profile:i}),i.set(t)):(this.set({user_profile:new App.Models.UserProfile(t)}),this.trigger("logUp"))}},resolveQueuedAction:function(){this.isFullUser()&&this.userAction.resolve()},facebookConnectStatus:function(){return this.get("facebook_user")?"Connected":"Not Connected"},fullName:function(){return this.get("user_profile").fullName()},birthday:function(){return this.get("user_profile").get("birthday")},avatar:function(){return this.get("user_profile").get("avatar")},firstName:function(){return this.get("user_profile").get("first_name")},firstNameLastInitial:function(){return this.firstName()+" "+this.lastName()[0]+"."},truncedFirstName:function(){var e=this.firstName();return e.length>13?e.substring(0,13)+"&hellip;":e},truncedFirstNameLastInitial:function(){return this.truncedFirstName()+" "+this.lastName()[0]+"."},lastName:function(){return this.get("user_profile").get("last_name")},location:function(){return this.get("user_profile").get("location")},email:function(){return this.get("email")},createdAt:function(){return this.get("created_at")},resendConfirmation:function(){return $.ajax({url:App.Routes.user_email_resend_confirm_path({md5:this.get("md5_hash")}),type:"POST"})}}),App.Models.Email=App.Models.BaseModel.extend({initialize:function(){var e=App.Data.currentUser,t={};e.loggedIn()&&(t.from=e.get("email")),e.isFullUser()&&(t.name=e.get("user_profile").first_name),this.set("share",t)}}),function(){var e=App.Models.BaseModel.prototype;App.Models.Search=App.Models.BaseModel.extend({urlRoot:"/search",initialize:function(){e.initialize.apply(this,arguments),_.bindAll(this,"parseAndMerge")},parse:function(e){var t={};return e.records&&(["coupons","deals","merchants"].forEach(function(i){var s=i.capitalize(),n=new App.Collections[s](e.records[i]);t[i]=n,App.Data.PageItems[s].registerCollection(n)}),t.brands=new App.Collections.Brands(e.records.brands),e.records=t),e},brands:function(){return this.get("records").brands},coupons:function(){return this.get("records").coupons},deals:function(){return this.get("records").deals},merchants:function(){return this.get("records").merchants},maxFetched:function(){return _.max([this.brands().length,this.coupons().length,this.deals().length,this.merchants().length])},parseAndMerge:function(e){this.brands().add(e.records.brands,{silent:!0}),this.coupons().add(e.records.coupons,{silent:!0}),this.deals().add(e.records.deals,{silent:!0}),this.merchants().add(e.records.merchants,{silent:!0}),this.trigger("change")},fetchNext:function(){$.ajax({url:"/search",type:"GET",data:{query:this.get("query").search_string,offset:this.maxFetched()},dataType:"json"}).done(this.parseAndMerge)}})}(),function(){var e=App.Collections.BaseCollection.prototype;App.Collections.SavedItems=App.Collections.BaseCollection.extend({initialize:function(){this.deals=new App.Collections.Deals,this.coupons=new App.Collections.Coupons,e.initialize.apply(this,arguments),_.bindAll(this,"resetCollectionWithResponse")},fetch:function(e){this.requestedItems=e;var t=_.where(e,{item_type:"deal"}).pluck("item_id").join(","),i=_.where(e,{item_type:"coupon"}).pluck("item_id").join(",");this.trigger("request"),$.when(this.fetchDeals(t),this.fetchCoupons(i)).done(this.resetCollectionWithResponse)},fetchDeals:function(e){if(e.length>0)return this.deals.fetch({data:{ids:e}})},fetchCoupons:function(e){if(e.length>0)return this.coupons.fetch({data:{ids:e}})},resetCollectionWithResponse:function(){var e=this.deals,t=this.coupons;this.reset(_.compact(_.map(this.requestedItems,function(i){switch(i.item_type){case"deal":return e.where({id:i.item_id})[0];case"coupon":return t.where({id:i.item_id})[0]}}))),this.trigger("sync")}})}(),function(){var e=App.Models.BaseModel.prototype;App.Models.SingleUseCoupon=App.Models.BaseModel.extend({initialize:function(){if(e.initialize.apply(this,arguments),!this.attributes.merchantId)throw Error("Merchant ID Required")},urlRoot:"/coupons",url:function(){return this.urlRoot+"/"+this.get("merchantId")+"/codes"}})}(),App.Models.Subscription=App.Models.BaseModel.extend({urlRoot:App.Routes.subscriptions_path(),initialize:function(){this.setQuery(this.attributes.query)},getName:function(){return this.get("name")||this.get("query").name},getSearchString:function(){return this.get("query").search_string},getQuery:function(){return this.get("query")},setQuery:function(e){var t={};for(var i in e){var s=e[i];null!==s&&s!==undefined&&(t[i]=s)}return this.set({query:t}),t.search_string&&this.setSearchString(t.search_string),t},setSearchString:function(e){var t=this.get("query");return t.search_string=e.toLowerCase().trim().replace(/\s{2,}/," "),t.search_string}}),App.Collections.Subscriptions=App.Collections.BaseCollection.extend({url:App.Routes.subscriptions_users_path(),model:App.Models.Subscription,findByQueryAndTrigger:function(e,t){var i=this.filter(function(i){var s=_.omit(i.get("query"),"name"),n=_.omit(e,"name");return i.get("trigger")===t&&_.isEqual(s,n)});if(!i.isEmpty())return i.first()},comparator:function(e){return-1*Date.parse(e.get("updated_at"))}}),App.Models.BlogPost=App.Models.BaseModel.extend({urlRoot:"/blog.json",wrappedAttributes:{topic:App.Models.Topic},imageUrl:function(){if(this.has("featured_image_urls"))return this.get("featured_image_urls").full}}),_.extend(App.Models.BlogPost.prototype,App.Mixins.Commentable),App.Collections.BlogPosts=App.Collections.BaseCollection.extend({url:"/blog.json",model:App.Models.BlogPost,initialize:function(e,t){t&&(this.limit=t.limit,this.total=t.total,this.query=t.query),_.bindAll(this,"parseAndMerge")},parseAndMerge:function(e){e.posts&&(this.total=e.post_count,this.add(e.posts)),this.trigger("sync")},fetchNext:function(){var e=_.clone(this.query);return e.page=parseInt(this.length/this.limit)+1,this.limit&&(e.limit=this.limit),this.trigger("request"),$.ajax({url:this.url,type:"GET",data:e,dataType:"json"}).done(this.parseAndMerge)}}),App.Models.Contest=App.Models.BaseModel.extend({ended:function(){return moment(this.get("ends_at")).isBefore(Date())},requiresBirthday:function(){return-1!==this.get("required_fields").indexOf("birthday")},requiresLocation:function(){return-1!==this.get("required_fields").indexOf("location")}}),App.Models.Entry=App.Models.BaseModel.extend({urlRoot:"/entries"}),App.Views.BaseView=Backbone.View.extend({inheritsFromBaseView:!0,loadingTemplate:JST["templates/loading"],initialize:function(){if(isTypeof(App.Views.BaseView,this))throw new Error("App.Views.BaseView should not be instantiated directly")},show:function(){this.$el.show()},hide:function(){this.$el.hide()},showAdvertiserDisclosure:function(e){e.advertising_disclosure&&(App.Dispatcher.trigger("showAdvertiserDisclosure"),this.showAdvertiserDisclosureLink())},showAdvertiserDisclosureLink:function(){this.$(".advertiser-disclosure-link").attr("hidden",!1)},renderLoading:function(){return this.$el.html(this.loadingTemplate())},sever:function(){this.$el.unbind(),this.stopListening()}}),App.Views.BasePeekView=App.Views.BaseView.extend({inheritsFromBaseView:!0,initialize:function(){if(isTypeof(App.Views.BasePeekView,this))throw new Error("App.Views.BasePeekView should not be instantiated directly");this.registerEvents(),this.render(),this.createViews()},registerEvents:function(){$(document).on("click",this.$el.selector+" .view-all-link",App.ViewHelpers.scrollToTop)},render:function(){return this.$el.html(this.template({title:this.options.title,collectionSize:this.options.collectionSize,couponDisplayName:this.options.couponDisplayName||"coupon"})),this.$el},createViews:function(){throw new Error("App.Views.BasePeekView.createViews should be overridden")}}),App.Views.CollectionItemView=App.Views.BaseView.extend({inheritsFromCollectionItemView:!0,initialize:function(e){e=e||{},this.index=e.index}}),function(){var e=App.Views.BaseView.prototype;App.Views.CollectionView=App.Views.BaseView.extend({inheritsFromCollectionView:!0,initialize:function(t){if(t=t||{},this.additionalOptions=t.additionalOptions||{},e.initialize.apply(this,arguments),isTypeof(App.Views.CollectionView,this))throw new Error("App.Views.CollectionView should not be instantiated directly");_.bindAll(this,"createListItemView","renderListItemView","initializeView"),this.modelViews=[],this.modelName=this.modelName||t.modelName,this.modelView=this.modelView||t.modelView,this.emptyTemplate=t.emptyTemplate||_.template(""),this.itemClassName=t.itemClassName,this.collection.on("add reset remove sync",this.render,this),this.collection.on("request",this.renderLoading,this)},render:function(){return this.$el.empty(),this.collection.isEmpty()?this.$el.html(this.emptyTemplate({modelName:this.modelName})):(this.createListItemViews(),this.renderListItemViews()),this.$el},renderLoading:function(){if(this.collection.isEmpty())return this.$el.html(this.loadingTemplate());this.$el.append(this.loadingTemplate())},modelViewName:function(){return this.modelName+"ListItem"},createListItemView:function(e,t){var i={model:e,index:t,additionalOptions:this.additionalOptions};this.itemClassName&&(i.className=this.itemClassName),this.modelViews.push(new this.modelView(i))},renderListItemView:function(e){this.$el.append(e.render())},createListItemViews:function(){this.modelViews.length=0,this.options.limit?this.collection.first(this.options.limit).each(this.createListItemView):this.collection.each(this.createListItemView)},renderListItemViews:function(){this.modelViews.each(this.renderListItemView)},initializeViews:function(){_(this.$el.find("li")).each(this.initializeView)},initializeView:function(e,t){var i=$(e).data("id"),s=this.collection.get(i);s&&this.modelViews.push(new this.modelView({el:e,model:s,index:t,additionalOptions:this.additionalOptions}))}})}(),App.Views.CouponsPageItem=App.Views.CollectionItemView.extend({template:JST["templates/coupons_page_item"],events:{"click .coupon-code-link":"revealCouponCode"},tagName:"li",attributes:function(){return{"class":"block coupon","data-id":this.model.get("id"),"data-item-type":"coupon","data-position":this.options.index}},initOrphan:function(){this.showAdvertiserDisclosure(this.model.get("merchant").merchant_rules)},render:function(){return this.$el.html(this.template({coupon:this.model,index:this.options.index})),this.createSubViews(),this.renderSubViews(),this.$el},createSubViews:function(){this.authorInfoView=new App.Views.CouponAuthorInfo({model:this.model}),this.couponGoLink=new App.Views.CouponGoLink({model:this.model})},renderSubViews:function(){this.renderAuthorInfoModule(),this.renderCouponGoLink()},renderAuthorInfoModule:function(){this.authorInfoView.setElement(this.$(".expiration-date")),this.authorInfoView.render()},renderCouponGoLink:function(){this.couponGoLink.setElement(this.$(".coupon-go-link")),this.couponGoLink.render()},revealCouponCode:function(){this.$(".golink-split-center").text(""),this.$(".coupon-code").addClass("revealed")}}),App.Views.MerchantCouponsPageItem=App.Views.CouponsPageItem.extend({events:{"click .more-details":"toggleCouponInfo","click .coupon-code-link":"revealCouponCode"},toggleCouponInfo:function(){var e,t=this.$(".coupon-description");e=t.is(":visible")?"More Details":"Less Details",this.$(".more-details").text(e),t.slideToggle()}}),App.Views.CouponsPageItemV2=App.Views.CollectionItemView.extend({template:JST["templates/coupons/coupons_page_item_v2"],events:{"click .coupon-code-link":"handleRevealClick","click .email-share":"handleEmailShareClick","click .facebook-share":"handleFacebookShareClick","click .details-link":"handleDetailsLinkClick"},tagName:"li",atrributes:function(){return{"data-id":this.model.get("id"),"data-item-type":"coupon","data-position":this.options.index}},initialize:function(){this.$(".btn-2d")[0]&&this.clipboardSetup(),this.options.revealAll&&App.Dispatcher.on("revealAllCouponCodes",this.revealCouponCode,this)},render:function(){return this.$el.html(this.template({coupon:this.model})),this.clipboardSetup(),this.$el},clipboardSetup:function(){this.clipboard=new Clipboard(this.$(".btn-2d")[0]),this.clipboard.on("success",this.clipboardSuccess,this),this.clipboard.on("error",this.clipboardError,this)},initOrphan:function(){this.showAdvertiserDisclosure(this.model.get("merchant").merchant_rules)},handleRevealClick:function(){this.options.revealAll?App.Dispatcher.trigger("revealAllCouponCodes"):this.revealCouponCode()},revealCouponCode:function(){this.$(".btn-pressable-coupon-blurred").addClass("revealed"),this.$(".coupon-code-link").addClass("hide"),this.$(".copy-and-go").removeClass("hide")},clipboardSuccess:function(e){e.clearSelection(),this.$(".clipboard-message.success").removeClass("hide")},clipboardError:function(){this.clipboard.destroy(),this.$(".clipboard-message.error").removeClass("hide")},handleEmailShareClick:function(){App.Dispatcher.trigger("showModal",{modalClass:App.Views.EmailShareModal,model:new App.Models.Email({item:this.model})})},handleFacebookShareClick:function(){App.Dispatcher.trigger("bdFacebookShare",{model:this.model})},handleDetailsLinkClick:function(){var e=this.$(".details-link"),t=this.$(".drawer-container");t.toggleClass("slide-open"),t.hasClass("slide-open")?e.text("\xab Close"):e.text("Details \xbb")}}),App.Views.CouponGoLink=App.Views.BaseView.extend({template:JST["templates/coupons/coupon_go_link"],render:function(){return this.$el.html(this.template()),this.$el},wrapperClass:function(){return this.model.get("code")?"coupon-code-link":"coupon-link"}}),App.Views.CouponTip=App.Views.BaseView.extend({events:{"click .mobile-tip-close":"closeMobileTip"},initialize:function(){this.initMobileCouponTip()},initMobileCouponTip:function(){$.cookie("c_tip")||this.$el.removeClass("hide")},closeMobileTip:function(){this.$el.addClass("hide"),$.cookie("c_tip",!0,{path:"/"})}}),App.Views.CouponTile=App.Views.CouponsPageItem.extend({template:JST["templates/coupons/coupon_tile"],attributes:function(){return{"class":"coupon-flex-tile","data-id":this.model.get("id"),"data-item-type":"coupon","data-position":this.options.index}},render:function(){return this.$el.html(this.template()),this.renderAuthorInfoView(),this.showAdvertiserDisclosure(this.model.get("merchant").merchant_rules),this.$el},renderAuthorInfoView:function(){this.authorInfoView=new App.Views.CouponAuthorInfo({el:this.$(".expiration-date"),model:this.model}),this.authorInfoView.render()},exceedCharacterLimit:function(e,t){return e.split(" ").reduce(function(e,t){return t.length>e&&(e=t.length),e},0)>t},headerClass:function(){return this.exceedCharacterLimit(this.model.get("title"),24)?"exceeded-length":""}}),function(){var e=App.Views.CollectionView.prototype;App.Views.CouponTiles=App.Views.CollectionView.extend({modelName:"Coupon",modelView:App.Views.CouponTile,initialize:function(){e.initialize.apply(this,arguments),this.initializeViews()}})}(),function(){var e=App.Views.CollectionView.prototype;App.Views.Coupons=App.Views.CollectionView.extend({modelName:"Coupon",modelView:App.Views.CouponsPageItem,initialize:function(){e.initialize.apply(this,arguments),this.initializeViews()}})}(),function(){var e=App.Views.CollectionItemView.prototype;App.Views.MerchantsPageItem=App.Views.CollectionItemView.extend({template:JST["templates/merchant_page_item"],tagName:"li",initialize:function(){e.initialize.call(this),this.createViews(),this.showAdvertiserDisclosure(this.model.get("merchant_rules"))},render:function(){return this.$el.html(this.template({index:this.index})),this.renderSubViews(),this.$el},createViews:function(){this.engagementModuleView=new App.Views.EngagementModule({model:this.model})},renderSubViews:function(){this.engagementModuleView.setElement(this.$el.find(".engagement-module-container")),this.engagementModuleView.render()}})}(),function(){var e=App.Views.CollectionView.prototype;App.Views.Merchants=App.Views.CollectionView.extend({modelName:"Merchant",modelView:App.Views.MerchantsPageItem,initialize:function(){e.initialize.apply(this,arguments),this.initializeViews()}})}(),App.Views.CommentsArea=App.Views.BaseView.extend({template:JST["templates/comments_area"],events:{"click .expand-comments":"toggleComments"},initialize:function(){_.bindAll(this,"showDiscussion","renderCommentButton"),App.Dispatcher.on("hashChange:comments",this.showDiscussion),this.listenTo(this.model,"change:comments_count",this.renderCommentButton)},render:function(){this.$el.html(this.template()),this.createSubViews(),this.$expandComments=this.$(".expand-comments"),this.$commentToggle=this.$(".comment-toggle"),this.renderCommentButton()},createSubViews:function(){this.commentForm=new App.Views.CommentForm({el:"#comment-form",model:this.model}),this.commentsView=new App.Views.Comments({el:"#discussion-comments",collection:this.model.get("comments")}),this.commentsPagination=new App.Views.CommentsPagination({el:"#comments-pagination",model:this.model})},getSlideState:function(){return this.options.discussionOpen?"":"display:none;"},showDiscussion:function(){this.options.discussionOpen=!0,this.renderCommentButton(),this.$commentToggle.show()},toggleComments:function(){this.options.discussionOpen=!this.options.discussionOpen,this.renderCommentButton(),this.$commentToggle.slideToggle()},renderCommentButton:function(){var e;e=this.options.discussionOpen?"Hide Comments ("+this.model.get("comments_count")+")":"View Comments ("+this.model.get("comments_count")+")",this.$expandComments.text(e)}}),App.Views.CommentsPageItem=App.Views.CollectionItemView.extend({template:JST["templates/comments_page_item"],tagName:"li",attributes:function(){return{"class":this.determineClassName()}},initialize:function(){_.bindAll(this,"confirmDelete","deleteComment","render"),this.createViews(),this.render(),this.registerEvents()},render:function(){return this.$el.html(this.template({index:this.index})),this.renderSubViews(),this.$el},registerEvents:function(){this.$el.on("click",".delete",this.confirmDelete),this.$el.on("click",".yes-delete",this.deleteComment),this.$el.on("click",".no-delete",this.render)},createViews:function(){this.authorInfoView=new App.Views.DealAuthorInfo({model:this.model})},renderSubViews:function(){this.authorInfoView.setElement(this.$el.find(".author-info")).render()},determineClassName:function(){var e="comment clearfix";return this.isPeekContent()?e+=" mini":e+=" not-mini",this.model.get("by_editor")&&(e+=" editor"),e},deleteComment:function(){this.model.destroy()},confirmDelete:function(e){$(e.target).hide().after(JST["templates/comments_confirm_delete"]())},isDeleteable:function(){return this.model.writtenByCurrentUser()&&!this.options.additionalOptions.peekContent},isPeekContent:function(){return this.options.additionalOptions.peekContent}}),function(){var e=App.Views.CollectionView.prototype;App.Views.Comments=App.Views.CollectionView.extend({modelName:"Comment",modelView:App.Views.CommentsPageItem,initialize:function(){e.initialize.apply(this,arguments),this.listenTo(App.Dispatcher,"bdUserReady",this.render),this.render()}})}(),App.Views.CommentsPagination=App.Views.BaseView.extend({template:JST["templates/comments_pagination"],initialize:function(){_.bindAll(this,"handleShowMoreClick"),this.model.get("comments").on("all",this.render,this),this.registerEvents(),this.render()},render:function(){this.$el.html(this.template())},hasMorePages:function(){return this.model.get("comments").length<this.model.get("comments_count")},registerEvents:function(){this.$el.on("click",".link",this.handleShowMoreClick)},handleShowMoreClick:function(){this.model.fetchNext(this)}}),App.Views.CommentForm=App.Views.BaseView.extend({inheritsFromCommentForm:!0,template:JST["templates/comment_form"],textOption:"4",initialize:function(){_.bindAll(this,"handleCommentPostSuccess","handleAnonymousCommentSubmit","submitForm","handleFormSubmit","updateText"),this.registerEvents(),this.render()},render:function(){return this.$el.html(this.template()),this.initValidator(),this.$el},initValidator:function(){this.validator=this.$el.find("form").validate({ignore:[],onsubmit:!1,wrapper:"li",errorLabelContainer:".errors",rules:{comment_body:App.Forms.Validations.rules.comment_body},messages:{comment_body:App.Forms.Validations.messages.comment_body}})},registerEvents:function(){$(document).on("ajax:success",".comment-form",this.handleCommentPostSuccess),$(document).on("ajax:before",".comment-form",this.handleFormSubmit),App.Data.currentUser.on("change",this.updateText)},handleCommentPostSuccess:function(e,t){var i=new App.Models.Comment(t);this.model.get("comments").unshift(i),this.render()},handleAnonymousCommentSubmit:function(){App.Data.currentUser.userAction.done(this.submitForm),App.Data.currentUser.loggedIn()&&App.Data.currentUser.isSubscriber()?App.Dispatcher.trigger("showModal",{modalClass:App.Views.CreateProfileModal}):App.Dispatcher.trigger("showModal",{modalClass:App.Views.SignUpModal,to:this.textOption})},submitForm:function(){this.$el.find("form").trigger("submit.rails")},validate:function(){return $(this.validator.currentForm).valid()},handleFormSubmit:function(){return!!this.validate()&&(!!App.Data.currentUser.isFullUser()||(this.handleAnonymousCommentSubmit(),!1))},submitButtonText:function(){return App.Data.currentUser.isFullUser()?"Add A Comment":"Sign up and post"},updateText:function(){this.$("input.btn-pressable").attr("value",this.submitButtonText()),this.$(".sign-up-warning").text(this.signUpWarningText()),this.$("textarea").attr("placeholder",this.placeholderText())},placeholderText:function(){return App.Data.currentUser.isFullUser()?"Your comment":"To post a comment, you need to be logged in."},signUpWarningText:function(){return App.Data.currentUser.isFullUser()?"":"Please sign up or log in to post a comment."}}),App.Views.MiniCouponPageItem=App.Views.BaseView.extend({template:JST["templates/mini_coupon"],tagName:"li",attributes:function(){return{"class":"listing col clearfix","data-item-type":"coupon","data-position":this.options.index,"data-id":this.model.get("id")}},render:function(){return this.$el.html(this.template({index:this.index})),this.showAdvertiserDisclosure(this.model.get("merchant").merchant_rules),this.$el}}),function(){var e=App.Views.CollectionView.prototype;App.Views.MiniCoupons=App.Views.CollectionView.extend({modelName:"Coupon",modelView:App.Views.MiniCouponPageItem,initialize:function(){e.initialize.apply(this,arguments),this.render()}})}(),App.Views.MiniDealPageItem=App.Views.BaseView.extend({template:JST["templates/mini_deal"],tagName:"li",attributes:function(){return{"class":"listing col","data-flags":this.model.get("flag_slugs"),"data-item-type":"deal","data-position":this.options.index,"data-id":this.model.get("id")}},render:function(){return this.$el.html(this.template()),this.showAdvertiserDisclosure(this.model.get("merchant").merchant_rules),this.$el}}),function(){var e=App.Views.CollectionView.prototype;App.Views.MiniDeals=App.Views.CollectionView.extend({modelName:"Deal",modelView:App.Views.MiniDealPageItem,initialize:function(){e.initialize.apply(this,arguments),this.render()}})}(),App.Views.MobileSearchView=App.Views.BaseView.extend({template:JST["templates/mobile_search"],events:{"click .close-search":"handleSearchClose"},initialize:function(){_.bindAll(this,"handleSearchOpen"),this.registerEvents(),this.render(),this.initAutocompleter()},render:function(){this.$el.html(this.template())},initAutocompleter:function(){Autocompleter(document.getElementById("mobilenav-search"),{url:this.options.searchApiUrl})},registerEvents:function(){$(document).on("click",".mobile-search-trigger",this.handleSearchOpen)},handleSearchOpen:function(){this.$el.css({display:""}),$("body").addClass("overlay-active"),this.$el.addClass("fade-in"),this.$(".autocomplete-input").focus()},handleSearchClose:function(){this.$el.fadeOut(),$("body").removeClass("overlay-active")}}),App.Views.MobileMenuView=App.Views.BaseView.extend({events:{"click .ham-menu":"handleMenuOpen","click .close-menu":"handleMenuClose","click .nav-expander":"handleExpandSubMenuClick"},handleMenuOpen:function(){this.$el.addClass("mobile-nav"),this.$(".ham-menu").addClass("hide"),this.$(".close-menu").removeClass("hide"),this.$(".top-navigation").addClass("transparentize"),this.$(".menu-nav-container").addClass("display-overlay"),$("body").addClass("overlay-active");var e=this.$(".top-level-nav.active .sub-nav");e.is(":hidden")&&this.expandSubMenu(e.prev(".nav-expander"))},handleExpandSubMenuClick:function(e){var t=$(e.currentTarget);this.expandSubMenu(t)},handleMenuClose:function(){this.$el.removeClass("mobile-nav"),this.$(".ham-menu").removeClass("hide"),this.$(".close-menu").addClass("hide"),this.$(".top-navigation").removeClass("transparentize"),this.$(".menu-nav-container").removeClass("display-overlay"),$("body").removeClass("overlay-active")},expandSubMenu:function(e){e.parent().children(".sub-nav").toggleClass("shift-down");var t=e.children("i"),i=t.text(),s="keyboard_arrow_right",n="keyboard_arrow_down";t.text(i==s?n:s)}}),App.Views.Modal=App.Views.BaseView.extend({baseDefaultOptions:{el:"#modal .content",closable:!0,redirectUrl:null},defaultOptions:{},initialize:function(){this.options=_.defaults(this.options,this.defaultOptions,this.baseDefaultOptions),this._$overlay=$("#modal-overlay"),_.bindAll(this,"afterHide")},template:function(){return this.options.html?this.options.html:""},render:function(){App.Dispatcher.trigger("toggleiPhoneViewport","show"),this.$el.html(this.template()),this._$overlay.css({display:"block"}),this.setClosable(),this.setModalData(),this.initFormEntry(),this.afterRender()},afterRender:function(){},sever:function(){this.beforeSever(),this.$el.unbind(),this.stopListening()},beforeSever:function(){},hideModal:function(){this._$overlay.fadeOut({complete:this.afterHide})},afterHide:function(){this.sever(),App.Dispatcher.trigger("toggleiPhoneViewport","hide")},isClosable:function(){return!!this.options.closable},setClosable:function(){this.isClosable()?this._$overlay.addClass("closable").removeClass("not-closable"):this._$overlay.addClass("not-closable").removeClass("closable")},setModalData:function(){this._$overlay.find("#modal").data({redirectUrl:this.options.redirectUrl,name:this.modalName})},initFormEntry:function(){function e(e,t){$(t).attr("tabindex",e+1)}this.$("input, textarea").filter(":visible").each(e),this.$("input:visible:first").focus()},ajaxError:function(e,t,i,s){i=i||"",s=s||"";var n=t.responseJSON||{},o=t.responseText||"",a=new Error(i+": "+s+": "+o);App.Dispatcher.trigger("errorOccurred",a),n.errors&&n.errors.email&&this.showEmailValidationError()},showEmailValidationError:function(){this.$validator&&this.$validator.showErrors({email:App.Forms.Validations.messages.email.email})}}),App.Views.AcquisitionModal=App.Views.Modal.extend({template:JST["templates/modals/acquisition"],defaultOptions:{closable:!1},events:{"ajax:success form":"success","ajax:error form":"ajaxError","ajax:before form":"disable"},modalName:"acquisition",afterRender:function(){this.location=this.options.location||window.location,$(document).one("externalForm:success",_.bind(this.facebookSuccess,this)),this.$validator=this.$("form").validate({ignore:[],errorLabelContainer:".errors",onfocusout:!1,onkeyup:!1,rules:{email:App.Forms.Validations.rules.email},messages:{email:"Hmm, something isn't right. Please try again."}})},disable:function(){this.$(".facebook-login-button").click(_.constant(!1))},facebookSuccess:function(){this.$("input.btn").attr("disabled",!0),this.$(".facebook-login-button").text("Signing up\u2026").click(_.constant(!1)),this.redirect(App.Data.currentUser.get("created"))},success:function(e,t){this.redirect(t.user&&t.user.created)},redirect:function(e){var t=App.Data.currentUrlParameters(),i="/";t.redirect_path&&(i=decodeURIComponent(t.redirect_path)),e?(i+="?newsub=true",t.sub_id&&(i+="&sub_id="+t.sub_id),t.p&&(i+="&p="+t.p),App.ViewHelpers.detectMobileDevice()||(i+="&d=true"),t.query&&(i+="&query="+t.query)):(i+="?newsub=false",t.query&&(i+="&query="+t.query)),this.location.assign(i)},hideEmail:function(){return 2==this.options.lo},hideFacebook:function(){return 1==this.options.lo},modalTitle:function(){switch(+this.options.to){case 1:return"Don't Miss the Next Great Deal!";case 2:return"Save 50 - 90%";case 4:return"Let the deals come to you!";case 5:return"The Most Exciting Deals, in Your Inbox";default:case 0:case 3:
return"Brad's Deals of the Day"}},modalSubTitle:function(){switch(+this.options.to){case 1:case 2:return"Sign up to get our top 25 deals sent to you daily";case 3:return"Sign up for our free email newsletter, with handpicked deals from over 4,000 retailers.";case 4:return"Get all the best online deals, right in your inbox.";case 5:return"Our experts add new deals all day, every day.";default:case 0:return"Take 50 to 90% off Top Brands at the Best Stores"}},isValidHex:function(e){return/^([0-9A-F]{3}){1,2}$/i.test(e)},buttonStyling:function(){var e=App.Data.currentUrlParameters().btn;return e&&this.isValidHex(e)?"background-color: #"+e+";":""}}),App.Views.AcquisitionMobileModal=App.Views.AcquisitionModal.extend({template:JST["templates/modals/acquisition_mobile"],isClosable:function(){return"false"!==App.Data.currentUrlParameters().btn},closeModalPath:function(){var e=App.Data.currentUrlParameters();return e.redirect_path?decodeURIComponent(e.redirect_path):"/"},modalText:function(){switch(+this.options.to){case 9:return{h1:"NOT A MEMBER? SIGN UP & SAVE.",h2:"Deals like this are posted daily.",h3:"Take a second to sign up before we take you to the featured deal."};case 10:return{h1:"OUR COLLECTIONS GROW EVERY DAY.",h2:"Be the first to know about new deals.",h3:"Take a second to sign up before we take you to the featured collection."};case 11:return{h1:"NEW COLLECTIONS EVERY DAY.",h2:"Never miss out on a great deal.",h3:"Sign up to access our featured collection."};case 12:return{h1:"NEW DAY, NEW COLLECTIONS.",h2:"Always know about the best deals.",h3:"Sign up to access our featured collection."};case 13:return{h1:"NEW DAY,<br> NEW DEALS.",h2:"Learn how easy it is to save.",h3:"Sign up to access our featured deal."};case 14:return{h1:"SAVING MONEY CAN BE EASY",h2:"Join over 20 million members and let us show you how.",h3:"Sign up to access exclusive savings."};case 15:return{h1:"STRETCH YOUR DOLLAR FURTHER",h2:"We do the work, you enjoy the deals.",h3:"Sign up to access exclusive savings."};default:case 8:return{h1:"BRANDS YOU LOVE. PRICES YOU WANT.",h2:"Get alerts on deals like this.",h3:"Take a second to sign up before we take you to the featured deal."}}}}),App.Views.CreateProfileModal=App.Views.Modal.extend({template:JST["templates/modals/create_profile"],events:{"ajax:success form":"success","ajax:error form":"ajaxError","ajax:before form":"validate"},modalName:"create_profile",afterRender:function(){this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{first_name:{required:!0},last_name:{required:!0},password:App.Forms.Validations.rules.password},groups:{full_name:"first_name last_name"},messages:{first_name:"Be sure to include your <em>first and last name</em>.",last_name:"Be sure to include your <em>first and last name</em>.",password:App.Forms.Validations.messages.password},showErrors:App.Forms.Validations.showErrors.inline})},validate:function(){return this.$("form").valid()},success:function(e,t){t.user&&(App.Dispatcher.trigger("initUserApplication",t.user),this.hideModal())},modalTitle:function(){switch(+this.options.to){case 1:return"Next Step: Complete Your Profile";case 2:return"You don't have a password yet.";default:case 0:return"Please complete your profile"}},currentUserEmail:function(){return App.Data.currentUser.get("email")}}),App.Views.LoginModal=App.Views.Modal.extend({template:JST["templates/modals/login"],events:{"ajax:success form":"success","ajax:error form":"ajaxError","ajax:before form":"validate"},modalName:"login",afterRender:function(){this.$("form").validate({rules:{email:App.Forms.Validations.rules.email,password:{required:!0}},onfocusout:!1,onkeyup:!1,messages:{email:App.Forms.Validations.messages.email,password:"Please enter your password."},showErrors:App.Forms.Validations.showErrors.inline})},validate:function(){return this.$("form").valid()},modalTitle:function(){return 1==this.options.to?"Looks like you already have an account.":"Welcome Back!"},success:function(e,t){t.flash.success?(App.Dispatcher.trigger("initUserApplication",t.user),t.user.is_full_user?this.hideModal():App.Dispatcher.trigger("showModal",{modalClass:App.Views.CreateProfileModal,to:"2"})):this.$("form").validate().showErrors({email:"Incorrect email address or password. Please try again."})}}),App.Views.SignUpModal=App.Views.Modal.extend({template:JST["templates/modals/sign_up"],events:{"ajax:success form":"success","ajax:error form":"ajaxError","ajax:before  form":"validate"},modalName:"sign_up",afterRender:function(){this.createAndRenderTooltip(),this.controlGenderVisibility(),this.$validator=this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{email:App.Forms.Validations.rules.email},messages:{email:App.Forms.Validations.messages.email},showErrors:App.Forms.Validations.showErrors.inline})},beforeSever:function(){this.tooltipView&&this.tooltipView.remove()},createAndRenderTooltip:function(){this.tooltipView=new App.Views.Tooltip({el:"#gender-tooltip",tooltipTrigger:'<span class="link">what\'s this?</span>',tooltipContent:"This will help us customize the selection of deals we send you."}).render()},controlGenderVisibility:function(){!1===this.options.gender&&this.$(".gender-field").remove()},validate:function(){return this.$("form").valid()},hideEmail:function(){return 2==this.options.lo},hideFacebook:function(){return 1==this.options.lo},hideGoogle:function(){return"true"===App.Data.currentUrlParameters().acq},modalTitle:function(){switch(+this.options.to){case 1:return"Subscribe to Brad's Picks";case 2:return"Sign up to favorite a store";case 3:return"Sign up to save a deal";case 4:return"Sign up to comment";case 5:return"Sign up to create a deal alert";default:case 0:return"Sign up for Brad's Deals"}},success:function(e,t){t.errors?App.Dispatcher.trigger("showModal",{modalClass:App.Views.LoginModal,to:"1"}):(App.Dispatcher.trigger("initUserApplication",t.user),App.Dispatcher.trigger("showModal",{modalClass:App.Views.CreateProfileModal,to:"1"}))}}),function(){var e=App.Views.SignUpModal.prototype;App.Views.AcquisitionSignUpModal=App.Views.SignUpModal.extend({afterRender:function(){e.afterRender.apply(this,arguments),this.controlClickablity(),this.controlGenderVisibility()},controlClickablity:function(){$(document).off("click","#modal-overlay"),"false"===this.options.btn&&$(".close-modal").hide()},controlGenderVisibility:function(){"1"!==this.options.g&&this.$(".gender-field").remove()},success:function(e,t){t.user&&!0===t.user.created&&App.Dispatcher.trigger("initUserApplication",t.user),this.hideModal()}})}(),App.Views.AcquisitionSignUpModalAlt=App.Views.Modal.extend({template:JST["templates/modals/sign_up_alt"],events:{"ajax:success form":"success","ajax:error form":"ajaxError","ajax:before  form":"validate","click .acq-email":"showForm","click .cancel":"showExternalSignUp"},validRedirect:function(e){if(e){var t=new RegExp("^(?:[a-z]+:)?//","i"),i=new RegExp("[\0\r\n]","g"),s=decodeURIComponent(e);return!t.test(s)&&!i.test(s)}return!1},success:function(e,t){var i=App.Data.currentUrlParameters().redirect_path;this.validRedirect(i)?this.redirect(t.user&&t.user.created):(App.Dispatcher.trigger("initUserApplication",t.user),this.hideModal())},afterRender:function(){this.location=this.options.location||window.location,$(document).one("externalForm:success",_.bind(this.externalSignUpSuccess,this)),this.setBodyFixed(),this.addModalAltClass(),this.fetchDeal(),this.$validator=this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{email:App.Forms.Validations.rules.email},messages:{email:App.Forms.Validations.messages.email},showErrors:App.Forms.Validations.showErrors.inline})},externalSignUpSuccess:function(){var e=App.Data.currentUrlParameters().redirect_path;this.validRedirect(e)?this.redirect(App.Data.currentUser.get("created")):this.hideModal()},beforeSever:function(){var e=App.Data.currentUrlParameters().redirect_path;this.validRedirect(e)&&this.redirect(),$("#modal").removeClass("modal-alt"),this.removeBodyFixed()},showForm:function(){this.$(".icon-signup").hide(),this.$(".form-signup").show()},showExternalSignUp:function(){this.$(".form-signup").hide(),this.$(".icon-signup").show()},setBodyFixed:function(){$("body").addClass("body-fixed")},removeBodyFixed:function(){$("body").removeClass("body-fixed")},addModalAltClass:function(){$("#modal").addClass("modal-alt"),$("body").removeClass("acquisition-page")},validate:function(){return this.$("form").valid()},fetchDeal:function(){var e=App.Data.currentUrlParameters().deal_id;(e=parseInt(e))?new App.Models.Deal({id:e}).fetch({success:this.appendDealImage,error:this.appendDefaultImage}):this.appendDefaultImage()},appendDefaultImage:function(){this.$(".acq-deal-img").attr("src",App.Assets.imagePath("default-acq-img.png"))},appendDealImage:function(e){this.$(".acq-deal-img").attr("src",e.get("image_urls").large)},redirect:function(e){var t=App.Data.currentUrlParameters(),i=decodeURIComponent(t.redirect_path);e?(i+="?newsub=true",t.sub_id&&(i+="&sub_id="+t.sub_id),t.p&&(i+="&p="+t.p),App.ViewHelpers.detectMobileDevice()||(i+="&d=true"),t.query&&(i+="&query="+t.query)):(i+="?newsub=false",t.query&&(i+="&query="+t.query)),this.location.assign(i)}}),App.Views.ResetPasswordModal=App.Views.Modal.extend({template:JST["templates/modals/reset_password"],afterRender:function(){this.subView=new App.Views.User.ResetPassword({el:"#modal #reset-password"}),this.subView.render()}}),App.Views.RemoveAlertModal=App.Views.Modal.extend({template:JST["templates/modals/remove_alert"],events:{"submit form":"handleFormSubmit","click .cancel-button":"hideModal"},modalName:"removeAlert",afterRender:function(){this.listenTo(this.model,"remove",this.handleFormSuccess),this.listenTo(this.model,"error",this.handleFormError)},handleFormSubmit:function(e){e.preventDefault(),this.model.destroy({data:{user_id:this.model.get("user_id")},processData:!0,wait:!0})},handleFormSuccess:function(){this.hideModal()},handleFormError:function(){this.$(".error").removeClass("hide")}}),App.Views.SubscriptionUnsubscribeModal=App.Views.Modal.extend({template:JST["templates/modals/subscription_unsubscribe"],title:function(){switch(+App.Data.currentUrlParameters().to){case 1:return"Success! You have unsubscribed from the Luxury email.";default:case 0:return"Success! You have unsubscribed from the deal alert."}}}),App.Views.SubscriptionPauseModal=App.Views.Modal.extend({template:JST["templates/modals/subscription_pause"],title:function(){switch(+App.Data.currentUrlParameters().to){case 1:return"Looks like this alert has already been removed.";default:case 0:return"Success! You have paused the deal alert."}}}),App.Views.UnsubscribeModal=App.Views.Modal.extend({template:JST["templates/modals/unsubscribe"],events:{"submit form":"handleFormSubmit","click .cancel-button":"hideModal"},modalName:"unsubscribe",afterRender:function(){return _.bindAll(this,"handleFormError","handleFormSuccess","handleUnsubscribeLink"),this.validator=this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{email:App.Forms.Validations.rules.email},messages:{email:App.Forms.Validations.messages.email},showErrors:App.Forms.Validations.showErrors.inline}),this.validator},validate:function(){return this.validator.checkForm()},handleFormSubmit:function(e){e.preventDefault(),this.model.set("subscribe",!1),this.model.save().success(this.handleFormSuccess).success(this.handleUnsubscribeLink).error(this.handleFormError)},handleFormSuccess:function(){this.hideModal(),App.Dispatcher.trigger("userUnsubscribe")},handleFormError:function(){this.model.set("subscribe",!0),this.validator.showErrors({email:"Sorry, the server could not complete your request at this time, please try again later."}),button=this.$(".btn-inverted[data-disable-with]"),button.val(button.data("ujs:enable-with")),$.rails.enableFormElements(button.parent("form"))},email:function(){return this.options.model.get("email")},handleUnsubscribeLink:function(){var e=App.Data.currentUrlParameters().unsub_link;e&&((e=decodeURIComponent(e)).match(/^https:\/\/dashboard(?:-\d+)?.(?:appboy|braze).com.+/)&&(e+=e.match(/\?/)?"&":"?",e+="email="+encodeURIComponent(this.email())+"&1=1",$.ajax({type:"POST",url:"/appboy/unsubscribe",data:{unsub_link:e}})))}}),App.Views.EmailShareModal=App.Views.Modal.extend({template:JST["templates/modals/email_share"],events:{"ajax:before form":"validate","ajax:error form":"ajaxError","ajax:success form":"hideModal"},afterRender:function(){this.createViews(),this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{"share[to]":{required:!0,email:!0},"share[from]":{required:!0,email:!0}},messages:{"share[to]":"Please enter your <em>friend's</em> email address.","share[from]":"Please enter <em>your</em> email address."},errorPlacement:App.Forms.Validations.errorPlacement.before})},beforeSever:function(){this.messagePreviewView&&this.messagePreviewView.remove()},validate:function(){return this.$("form").valid()},createViews:function(){this.messagePreviewView=new App.Views.MessagePreviewView({el:this.$(".message-preview-area"),model:this.model})},title:function(){return"Merchant"===this.model.get("item").modelClass?"store":this.model.get("item").modelClass.toLowerCase()},shareUrl:function(){return this.model.get("item").shareURL()},headline:function(){return this.model.get("item").shareName()},description:function(){return this.model.get("item").shareDescription()}}),App.Views.Notification=App.Views.BaseView.extend({baseDefaultOptions:{msg:"",timeout:3e4},defaultOptions:{},el:'<li class="msg"></li>',template:JST["templates/notifications/info_notification"],initialize:function(){this.options=_.defaults(this.options,this.defaultOptions,this.baseDefaultOptions),_.bindAll(this,"hideMsg","remove")},render:function(){return this.$el.html(this.template({msg:this.options.msg})),this.options.timeout>0&&(this.timeout=this.setTimeout()),this.$el},hideMsgClick:function(e){e.preventDefault(),this.clearTimeout(),this.hideMsg()},hideMsg:function(){this.$el.fadeOut({complete:this.remove})},setTimeout:function(){return setTimeout(this.hideMsg,this.options.timeout)},clearTimeout:function(){return clearTimeout(this.timeout)}}),App.Views.ErrorNotification=App.Views.Notification.extend({el:'<li class="error-house"></li>',events:{"click .close-msg":"hideMsgClick"},template:JST["templates/notifications/error_notification"]}),App.Views.InfoNotification=App.Views.Notification.extend({el:'<li class="info-house"></li>',template:JST["templates/notifications/info_notification"]}),App.Views.SuccessNotification=App.Views.Notification.extend({el:'<li class="success-house"></li>',template:JST["templates/notifications/success_notification"]}),function(){var e=App.Views.BasePeekView.prototype;App.Views.PeekDeals=App.Views.BasePeekView.extend({template:JST["templates/peek_deals"],initialize:function(){e.initialize.apply(this,arguments)},createViews:function(){this.$el.attr("data-module",this.options.moduleName),this.dealsView=new App.Views.MiniDeals({el:".deal-items",collection:this.collection,limit:this.options.visibleLimit}),this.dealsView.render()}})}(),function(){var e=App.Views.BasePeekView.prototype;App.Views.PeekCoupons=App.Views.BasePeekView.extend({template:JST["templates/peek_coupons"],initialize:function(){e.initialize.apply(this,arguments)},createViews:function(){this.$el.attr("data-module",this.options.moduleName),this.couponsView=new App.Views.MiniCoupons({el:".coupon-items",collection:this.collection,model:this.model,limit:this.options.visibleLimit})}})}(),function(){var e=App.Views.BasePeekView.prototype;App.Views.PeekMerchants=App.Views.BasePeekView.extend({template:JST["templates/peek_merchants"],initialize:function(){e.initialize.apply(this,arguments)},createViews:function(){this.merchantsView=new App.Views.Merchants({el:this.$el.find(".merchant-items"),collection:this.collection,limit:this.options.visibleLimit}),this.merchantsView.render()}})}(),App.Views.PeekContent=App.Views.BaseView.extend({template:JST["templates/peek_content"],initialize:function(){_.bindAll(this,"moduleClassNames"),this.collectionOne=this.options.collectionOne,this.collectionTwo=this.options.collectionTwo,this.render(),this.createViews()},createViews:function(){this.collectionOne.collection.length>0&&this.createPeekView(this.collectionOne,".peek-content-one"),this.collectionTwo.collection.length>0&&this.createPeekView(this.collectionTwo,".peek-content-two")},render:function(){return this.$el.html(this.template({merchant:this.model}))},createPeekView:function(e,t){return this.$el.find(t).addClass(this.moduleClassNames),new(App.Views["Peek"+e.collection.first().modelClass+"s"])(_.extend({el:this.$el.selector+" "+t},e))},moduleClassNames:function(){return this.collectionOne.collection.length>0&&this.collectionTwo.collection.length>0?"paired":"solo"}}),function(){var e=App.Views.CollectionItemView.prototype;App.Views.DealsPageItem=App.Views.CollectionItemView.extend({template:JST["templates/deals_page_item"],tagName:"li",attributes:function(){return{"class":"block deal","data-flags":this.model.get("flag_slugs"),"data-id":this.model.get("id"),"data-item-type":"deal","data-position":this.options.index}},events:{"click .more-details":"toggleDealInfo","click .show-details":"toggleExpiredDetails"},initialize:function(){e.initialize.apply(this,arguments)},initOrphan:function(){this.engagementModuleView=new App.Views.ItemEngagementModule({model:this.model}),this.renderEngagementModule(),this.showAdvertiserDisclosure(this.model.get("merchant").merchant_rules)},render:function(){return this.$el.html(this.template({deal:this.model,index:this.index})),this.createSubViews(),this.renderSubViews(),this.showAdvertiserDisclosure(this.model.get("merchant").merchant_rules),this.$el},createSubViews:function(){this.authorInfoView=new App.Views.DealAuthorInfo({model:this.model}),this.engagementModuleView=new App.Views.ItemEngagementModule({model:this.model}),this.dealGoLink=new App.Views.DealGoLink({model:this.model})},renderSubViews:function(){this.renderAuthorInfoModule(),this.renderEngagementModule(),this.renderDealGoLink()},renderAuthorInfoModule:function(){this.authorInfoView.setElement(this.$(".author-info")),this.authorInfoView.render()},renderEngagementModule:function(){this.engagementModuleView.setElement(this.$(".engagement-module-container")),this.engagementModuleView.render()},renderDealGoLink:function(){this.dealGoLink.setElement(this.$(".deal-go-link")),this.dealGoLink.render()},toggleDealInfo:function(){var e=this.$(".description"),t=e.is(":visible")?"More Details":"Less Details";this.$(".more-details").text(t),e.slideToggle()},toggleExpiredDetails:function(){var e=this.$(".expired-details"),t=e.is(":visible")?"Show Details":"Hide Details";this.$(".show-details").text(t),e.slideToggle()}})}(),function(){var e=App.Views.CollectionView.prototype;App.Views.Deals=App.Views.CollectionView.extend({modelName:"Deal",modelView:App.Views.DealsPageItem,initialize:function(){e.initialize.apply(this,arguments),this.render()}})}(),function(){var e=App.Views.CollectionView.prototype;App.Views.HomePageDeals=App.Views.CollectionView.extend({modelName:"Deal",modelView:App.Views.DealsPageItem,adFrequency:4,nativeAdContainer:function(e){return'<li class="native-ad" id="'+e+'"></li>'},initialize:function(){e.initialize.apply(this,arguments),this.collection.off("add reset remove sync",this.render),this.collection.once("sync",this.render,this)},render:function(){e.render.apply(this,arguments)},renderListItemViews:function(){var e=[];this.modelViews.each(function(t,i){var s="deal-feed-";i&&i%this.adFrequency==0&&(s+=parseInt((i+1)/this.adFrequency)+"-"+this.cid,e.push(s),this.$el.append(this.nativeAdContainer(s))),this.renderListItemView(t)},this),App.Dispatcher.trigger("initializeNativeAds",e),this.options.afterRender&&this.options.afterRender()}})}(),App.Views.DealTileWithBookmark=App.Views.DealsPageItem.extend({template:JST["templates/deal_tile_with_bookmark"],tagName:"li",attributes:function(){var e;return this.options.additionalOptions&&(e=this.options.additionalOptions.classes),{"class":e||"col large-4 medium-4 small-6","data-flags":this.model.get("flag_slugs"),"data-id":this.model.get("id"),"data-item-type":"deal","data-position":this.options.index}}}),App.Views.HomePageProDeals=App.Views.HomePageDeals.extend({modelView:App.Views.DealTileWithBookmark,adFrequency:12,nativeAdContainer:function(e){return'<li class="native-ad col large-12 medium-12 small-12" id="'+e+'"></li>'}}),App.Views.DealGoLink=App.Views.BaseView.extend({template:JST["templates/deal_go_link"],render:function(){return this.$el.html(this.template()),this.$el}}),App.Views.CouponAuthorInfo=App.Views.BaseView.extend({template:JST["templates/coupons/coupon_author_info"],modelName:"Author",initialize:function(){this.render()},render:function(){return this.$el.html(this.template({item:this.model,index:this.index})),this.$el},formattedExpiration:function(){return moment(this.model.get("expires_at")).format("MMM D")},expiringSoonClass:function(){if(this.model.isExpiringSoon())return"expiring-soon"}}),App.Views.DealAuthorInfo=App.Views.BaseView.extend({template:JST["templates/deals/deal_author_info"],modelName:"Author",initialize:function(){this.render()},render:function(){return this.$el.html(this.template({item:this.model,index:this.index})),App.FuzzyTime.setFuzzyTime(this.$el.find("[data-created-at]")[0]),this.$el},authorAvatar:function(){return this.model.get("author").avatarUrl()}}),App.Views.User.AccountSettings=App.Views.BaseView.extend({template:JST["templates/users/account_settings"],initialize:function(){this.render(),this.createSubViews()},render:function(){return this.$el.html(this.template()),this.$el},createSubViews:function(){this.profile=new App.Views.User.AccountSettings.Profile({el:this.$("#user-profile"),model:this.model}),this.password=new App.Views.User.AccountSettings.Password({el:this.$("#user-password"),model:this.model}),this.social=new App.Views.User.AccountSettings.Social({el:this.$("#user-social"),model:this.model})}}),App.Views.User.AccountSettings.Profile=App.Views.BaseView.extend({template:JST["templates/users/account_settings/profile"],events:{"submit .edit-user-profile form":"handleFormSubmit"},initialize:function(){_.bindAll(this,"activateFormSubmit"),this.listenTo(this.model.get("user_profile"),"sync",this.handleProfileSync),this.listenTo(this.model,"change",this.render),this.render()},render:function(){return this.$el.html(this.template()),this.$("form").one("change",this.activateFormSubmit),this.initFormValidation(),this.$el},initFormValidation:function(){this.$("form").validate({rules:{first_name:{required:!0},last_name:{required:!0}},groups:{full_name:"first_name last_name"},messages:{first_name:"Be sure to include your <em>first and last name</em>.",last_name:"Be sure to include your <em>first and last name</em>."},errorLabelContainer:".errors"})},activateFormSubmit:function(){this.$("input[type=submit]").removeClass("btn-disabled").removeAttr("disabled").addClass("btn-pressable")},handleFormSubmit:function(e){e.preventDefault();var t=_.reduce($(e.target).serializeArray(),function(e,t){return e[t.name]=t.value,e},{});this.model.get("user_profile").save(t)},birthMonthOptions:function(){for(var e=this.model.get("user_profile").get("month"),t="",i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=1;s<=12;s++)t+=e&&e===s?'<option selected value="'+s+'">'+i[s-1]+"</option>":'<option value="'+s+'">'+i[s-1]+"</option>";return t},birthDateOptions:function(){for(var e=this.model.get("user_profile").get("day"),t="",i=1;i<=31;i++)t+=e&&e===i?"<option selected>"+i+"</option>":"<option>"+i+"</option>";return t},birthYearOptions:function(){for(var e=this.model.get("user_profile").get("year"),t="",i=2014;i>=1914;i--)t+=e&&e===i?"<option selected>"+i+"</option>":"<option>"+i+"</option>";return t},handleProfileSync:function(){App.Forms.Profile.setSavedMessage(this.$("form"))}}),App.Views.User.AccountSettings.Password=App.Views.BaseView.extend({template:JST["templates/users/account_settings/password"],events:{"ajax:error form":"handleFormError","ajax:success form":"handleFormSuccess","click .toggle-link":"togglePasswordLink"},initialize:function(){_.bindAll(this,"activateFormSubmit"),this.listenTo(this.model,"change",this.render),this.render()},render:function(){return this.$el.html(this.template()),this.$("form").one("change",this.activateFormSubmit),this.initFormValidation(),this.$el},initFormValidation:function(){this.$("form").validate({rules:{new_password:App.Forms.Validations.rules.password,password_confirmation:App.Forms.Validations.rules.password_confirmation,current_password:App.Forms.Validations.rules.current_password},messages:{new_password:App.Forms.Validations.messages.password,password_confirmation:App.Forms.Validations.messages.password_confirmation,current_password:App.Forms.Validations.messages.current_password},errorPlacement:App.Forms.Validations.errorPlacement.inputListBefore,wrapper:"li"})},activateFormSubmit:function(){this.$("input[type=submit]").removeClass("btn-disabled").removeAttr("disabled").addClass("btn-pressable")},handleFormError:function(){this.$("form").validate().showErrors({current_password:"That was not your current password."})},handleFormSuccess:function(){this.render(),App.Forms.Profile.setSavedMessage(this.$(".clean-form"))},togglePasswordLink:function(e){var t=$(e.target).parent(".has-visibility-toggle"),i=t.find("input"),s="password"===i.prop("type")?"text":"password",n="password"===i.prop("type")?"Hide":"Show";t.find(".toggle-link").text(n),i.prop("type",s)}}),App.Views.User.AccountSettings.Social=App.Views.BaseView.extend({template:JST["templates/users/account_settings/social"],initialize:function(){this.render(),this.listenTo(this.model,"change:facebook_user",this.render),this.listenTo(this.model,"change:google_user",this.render)},render:function(){return this.$el.html(this.template()),this.$el}}),App.Views.User.SavedItemsPage=App.Views.BaseView.extend({template:JST["templates/users/saved_items"],initialize:function(){this.render(),this.registerEvents(),this.createSubViews()},render:function(){return this.$el.html(this.template()),this.$el},registerEvents:function(){var e=this.model.get("engagements");e.once("sync",e.fetchMerchants),e.once("sync",e.fetchSavedItems)},createSubViews:function(){this.merchantsCollectionView=new App.Views.Merchants({collection:this.model.get("engagements").merchants,el:this.$("#saved-merchants-list"),itemClassName:"col large-4 medium-6 small-12 clearfix",emptyTemplate:JST["templates/users/merchants_empty"]}),this.savedItemsCollectionView=new App.Views.SavedItems({collection:this.model.get("engagements").savedItems,el:this.$("#saved-items"),itemClassName:"col large-3 medium-3 small-6 clearfix",emptyTemplate:JST["templates/users/saved_items_empty"]})}}),App.Views.UserBadge=App.Views.BaseView.extend({template:JST["templates/users/user_badge"],events:{"focus .user-info":"handleUserInfoFocus","blur  .user-info":"handleUserInfoBlur"},initialize:function(){this.render(),this.registerEvents()},registerEvents:function(){this.model.isFullUser()&&this.listenTo(this.model.get("user_profile"),"change",this.render)},render:function(){this.model.loggedIn()&&this.$el.html(this.template())},handleUserInfoFocus:function(){$("body").addClass("overlay-active")},handleUserInfoBlur:function(){$("body").removeClass("overlay-active")}}),App.Views.User.EmailPreferences=App.Views.BaseView.extend({template:JST["templates/users/email_preferences"],initialize:function(){this.render(),this.createSubViews()},render:function(){return this.$el.html(this.template()),this.el},createSubViews:function(){this.subscriptionStatus=new App.Views.User.Preferences.SubscriptionStatus({el:this.$("#subscription-status"),model:this.model}),this.newsletterPreferences=new App.Views.User.Preferences.NewsletterPreferences({el:this.$("#newsletter-preferences"),model:this.model}),this.promotionalPreferences=new App.Views.User.Preferences.PromotionalPreferences({el:this.$("#promotional-preferences"),model:this.model}),this.subscriptions=new App.Views.User.Preferences.Subscriptions({el:this.$("#user-subscriptions"),collection:this.options.user.get("subscriptions"),preferences:this.model}),this.createSubscriptionForm=new App.Views.CreateSubscriptionForm({el:this.$("#create-deal-alert-form"),user:this.options.user})}}),App.Views.User.Preferences.UserEmail=App.Views.BaseView.extend({template:JST["templates/users/preferences/user_email"],initialize:function(){this.render(),this.listenTo(this.model,"change:email",this.render)},render:function(){this.$el.html(this.template({email:this.model.get("email")}))}}),App.Views.User.Preferences.NewsletterPreferences=App.Views.BaseView.extend({events:{"change input[name=newsletter-toggle]":"handleNewsletterToggleChange","change input[name=frequency]":"handleFrequencyChange"},turnedOnText:"The best deals discovered and delivered to your inbox.",turnedOffText:"Newsletter Emails have been turned off. You will no longer receive the Brad's Deals Newsletter.",frequencies:[{id:"daily",val:1,label:"Daily"},{id:"twice",val:3,label:"Two Days<br /> A Week"},{id:"weekly",val:7,label:"Weekly"}],template:JST["templates/users/preferences/newsletter_preferences"],initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){this.$el.html(this.template()),this.setDescription(),this.setDisabled(),this.setToggle(),this.setRadioButton()},getDescription:function(){return this.model.isNewsletterSubscribed()?this.turnedOnText:this.turnedOffText},setDescription:function(){var e=this.$("#newsletter-description");return this.model.isNewsletterSubscribed()?e.removeClass("turned-off"):e.addClass("turned-off")},setToggle:function(){this.$("input").prop("checked",!this.model.get("opt_out_newsletter"))},triggerError:function(){App.Dispatcher.trigger("addError","Oops, something went wrong! Please refresh the page and try again.")},handleNewsletterToggleChange:function(e){e.preventDefault();var t=this.model.get("opt_out_newsletter");this.model.set("opt_out_newsletter",!t),this.model.save().error(this.triggerError)},setDisabled:function(){this.$("input[name=frequency]").prop("disabled",!this.model.isNewsletterSubscribed())},setRadioButton:function(){var e=this.model.get("frequency");void 0===e&&(e=1),this.$("input[name=frequency][value="+e+"]").prop("checked",!0)},handleFrequencyChange:function(e){var t=parseInt(e.target.value);this.model.set("frequency",t),this.model.save().error(this.triggerError)}}),App.Views.User.Preferences.PromotionalPreferences=App.Views.BaseView.extend({events:{"change input[name=promotional-toggle]":"handlePromotionalToggleChange"},turnedOnText:"Additional deals worth sharing: exclusives, seasonal deals, trending categories, and more.",turnedOffText:"Special Emails have been turned off. You will no longer receive Brad's Deals Special emails.",template:JST["templates/users/preferences/promotional_preferences"],initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){this.$el.html(this.template()),this.setDescription(),this.setToggle()},getDescription:function(){return this.model.isPromotionalSubscribed()?this.turnedOnText:this.turnedOffText},setDescription:function(){var e=this.$("#promotional-description");return this.model.isPromotionalSubscribed()?e.removeClass("turned-off"):e.addClass("turned-off")},setToggle:function(){this.$("input").prop("checked",!this.model.get("opt_out_promotional"))},triggerError:function(){App.Dispatcher.trigger("addError","Oops, something went wrong! Please refresh the page and try again.")},handlePromotionalToggleChange:function(e){e.preventDefault();var t=this.model.get("opt_out_promotional");this.model.set("opt_out_promotional",!t),this.model.save().error(this.triggerError)}}),App.Views.User.Preferences.SubscriptionStatus=App.Views.BaseView.extend({events:{"click #unsub-btn":"handleButtonClick"},template:JST["templates/users/preferences/subscription_status"],initialize:function(){this.render(),this.listenTo(this.model,"change:subscribe",this.render)},render:function(){var e=this.model.get("subscribe");this.$el.html()?this.setText(e):this.$el.html(this.template({subscribed:e}))},getText:function(e){return e?"Unsubscribe from All":"Subscribe to All"},setText:function(e){this.$("#unsub-btn").text(this.getText(e))},handleButtonClick:function(){this.model.get("subscribe")?App.Dispatcher.trigger("showModal",{modalClass:App.Views.UnsubscribeModal,model:this.model}):(this.model.set("subscribe",!0),this.model.save().error(function(){App.Dispatcher.trigger("addError","Oops, something went wrong! Please refresh the page and try again.")}))}}),function(){
var e=App.Views.CollectionView.prototype;App.Views.User.Preferences.EmailSubscriptions=App.Views.CollectionView.extend({modelName:"Newslettertype",modelView:App.Views.User.Preferences.EmailSubscription,initialize:function(){_.bindAll(this,"success"),e.initialize.apply(this,arguments),this.renderLoading(),this.emailSubscription=new App.Models.EmailSubscription({md5:this.options.additionalOptions.emailPreferences.get("md5")}),this.options.additionalOptions.emailSubscription=this.emailSubscription,this.emailSubscription.fetch().success(this.success)},success:function(){this.render(),this.listenTo(this.emailSubscription,"change",_.debounce(this.saveEmailSubscription,1e3))},saveEmailSubscription:function(){this.emailSubscription.save().error(function(){App.Dispatcher.trigger("addError","Oops, something went wrong! Please refresh the page and try again.")})}})}(),App.Views.User.Preferences.Subscription=App.Views.CollectionItemView.extend({maxDeals:8,template:JST["templates/users/preferences/subscription"],emptyTemplate:JST["templates/subscriptions/no_alert_matches"],events:{"click .help-expander":"handleExpanderClick","click .remove-alert":"handleRemoveAlertClick","click .pause-alert":"handlePauseAlertClick"},initialize:function(){this.model.getSearchString()?this.deals=new App.Collections.DealsSearch:this.deals=new App.Collections.Deals,this.expanded=!1,this.listenTo(this.deals,"sync",this.handleDealsFetchSuccess),this.listenTo(this.deals,"error",this.handleDealsFetchError),this.listenTo(this.model,"sync",this.handlePauseAlertSuccess),this.listenTo(this.model,"error",this.handlePauseAlertError)},render:function(){return this.$el.html(this.template()),this.renderSubViews(),this.$el},renderSubViews:function(){this.toggleExpanderView=new App.Views.ToggleExpander({el:this.$el}),this.dealsView=new App.Views.DealTilesWithBookmarks({el:this.$(".deals"),collection:this.deals,emptyTemplate:this.emptyTemplate,additionalOptions:{classes:"col large-3 medium-3 small-6"}})},handleExpanderClick:function(){this.expanded=!this.expanded,this.expanded&&this.deals.isEmpty()&&this.fetchDeals()},handleRemoveAlertClick:function(){App.Dispatcher.trigger("showModal",{modalClass:App.Views.RemoveAlertModal,model:this.model})},handlePauseAlertClick:function(){this.model.save({paused:!this.model.get("paused")})},handlePauseAlertSuccess:function(){this.$(".pause-alert").text(this.pauseText()),this.model.get("paused")?this.$(".paused-notice").removeClass("hide"):this.$(".paused-notice").addClass("hide")},handlePauseAlertError:function(){this.showError()},handleDealsFetchSuccess:function(){this.$(".deals-count").text("("+this.deals.total+")"),this.deals.total>this.maxDeals&&this.$(".more-deals").removeClass("hide")},handleDealsFetchError:function(){this.dealsView.remove(),this.showError()},fetchDeals:function(){var e=this.dealsParams();e.limit=this.maxDeals,this.deals.fetch({data:e})},dealsParams:function(){var e={},t=this.model.get("query");return this.model.getSearchString()&&(e.query=this.model.getSearchString()),t.brands&&(e.brand_slug=t.brands.join(",")),t.categories&&(e.category_slug=t.categories.join(",")),t.flags&&(e.flag_slug=t.flags.join(",")),t.genders&&(e.gender=t.genders.join(",")),t.merchants&&(e.merchant_id=t.merchants.join(",")),(t.brands||t.categories||t.flags||t.merchants)&&(e.sort="start"),e},showError:function(){this.$(".error").removeClass("hide")},pauseText:function(){return this.model.get("paused")?"Resume Alert":"Pause Alert"},moreDealsPath:function(){return this.model.getSearchString()?App.Routes.searches_path(this.dealsParams()):App.Routes.deals_path(this.dealsParams())}}),function(){var e=App.Views.BaseView.prototype;App.Views.User.Preferences.Subscriptions=App.Views.BaseView.extend({emptyTemplate:JST["templates/subscriptions/no_alerts"],initialize:function(t){t=t||{},e.initialize.apply(this,arguments),this.collection.once("sync",this.render,this),this.listenTo(this.collection,"remove",this.handleSubscriptionRemove),this.listenTo(this.collection,"add",this.handleSubscriptionAdd),this.listenTo(this.options.preferences,"change:subscribe",this.handleSubscribeChange),this.render()},render:function(){return this.resetModelViews(),this.createModelViews(),0===this.modelViews.length?this.$el.html(this.emptyTemplate()):(this.collection.off("sync"),this.$el.empty(),this.renderModelViews(),this.$el)},handleSubscribeChange:function(){this.options.preferences.get("subscribe")?this.$el.removeClass("disabled"):this.$el.addClass("disabled")},handleSubscriptionRemove:function(e){var t=_.partition(this.modelViews,function(t){return t.model.get("id")===e.get("id")});if(t[0].each(function(e){e.remove()}),this.modelViews=t[1],0===this.modelViews.length)return this.$el.html(this.emptyTemplate())},handleSubscriptionAdd:function(e){var t;0===this.modelViews.length?this.render():(t=this.createModelView(e,this.modelViews.length),this.renderModelView(t))},renderModelViews:function(){this.modelViews.each(this.renderModelView,this)},renderModelView:function(e){this.$el.append(e.render())},createModelViews:function(){this.collection.where({trigger:"deal-alert"}).each(this.createModelView,this)},createModelView:function(e,t){var i=new App.Views.User.Preferences.Subscription({model:e,index:t});return this.modelViews.push(i),i},resetModelViews:function(){this.modelViews&&this.modelViews.each(function(e){e.remove()}),this.modelViews=[]}})}(),App.Views.User.FacebookConnect=App.Views.BaseView.extend({template:JST["templates/users/facebook_connect"],initialize:function(){this.render(),this.listenTo(this.model,"change:facebook_user",this.render)},render:function(){this.$el.html(this.template())}}),App.Views.User.ResetPassword=App.Views.BaseView.extend({template:JST["templates/users/reset_password"],successTemplate:JST["templates/users/reset_password_success"],events:{"ajax:success .password-reset":"success"},render:function(){this.$el.html(this.template()),this.validator=this.$("form").validate({onfocusout:!1,onkeyup:!1,showErrors:App.Forms.Validations.showErrors.inline,rules:{email:App.Forms.Validations.rules.email},messages:{email:App.Forms.Validations.messages.email}})},renderSuccess:function(e){App.Dispatcher.trigger("showModal",{html:this.successTemplate({message:e})})},success:function(e,t){t.flash.error?this.showError(t.flash.error):t.user.subscriber?App.UserHelpers.logIn(t.user.email).done(this.showCreateProfileModal):this.renderSuccess(t.flash.success)},showError:function(e){this.validator.showErrors({email:e})},showCreateProfileModal:function(){App.Dispatcher.trigger("showModal",{modalClass:App.Views.CreateProfileModal,to:2})}}),App.Views.DealAlertInstructions=App.Views.User.Preferences.UserEmail.extend({template:JST["templates/subscriptions/deal_alert_instructions"]}),App.Views.AcquisitionLandingV2=App.Views.BaseView.extend({template:JST["templates/acquisition/landing_v2"],initialize:function(){this.render()},render:function(){return this.$el.html(this.template())}}),App.Views.AlexaSignUp=App.Views.BaseView.extend({template:JST["templates/oauth/alexa_sign_up"],events:{"ajax:success form.sign-up-form":"success","ajax:before  form.sign-up-form":"validate"},initialize:function(){this.render(),this.setValidation()},render:function(){return this.$el.html(this.template())},validate:function(){return this.$("form").valid()},setValidation:function(){this.$validator=this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{email:App.Forms.Validations.rules.email},messages:{email:App.Forms.Validations.messages.email},showErrors:App.Forms.Validations.showErrors.inline})},success:function(e,t){"User account exists."===t.errors?App.Dispatcher.trigger("initAlexaPasswordSignIn",t.user):App.Dispatcher.trigger("initUserApplication",t.user)}}),App.Views.AlexaAuthorization=App.Views.BaseView.extend({template:JST["templates/oauth/alexa_authorization"],initialize:function(){this.render()},render:function(){var e=App.Data.currentUrlParameters();return this.$el.html(this.template({redirectUri:e.redirect_uri,responseType:e.response_type,scope:e.scope,state:e.state}))}}),App.Views.AlexaPasswordSignIn=App.Views.BaseView.extend({template:JST["templates/oauth/alexa_password_sign_in"],events:{"ajax:success form.login-form":"success","ajax:before  form.login-form":"validate"},initialize:function(){this.render(),this.setValidation()},render:function(){return this.$el.html(this.template({email:this.options.user.email}))},validate:function(){return this.$("form").valid()},setValidation:function(){this.$validator=this.$("form").validate({rules:{password:{required:!0}},onfocusout:!1,onkeyup:!1,messages:{password:"Please enter your password."},showErrors:App.Forms.Validations.showErrors.inline})},success:function(e,t){t.flash.success?App.Dispatcher.trigger("initUserApplication",t.user):this.$validator.showErrors({password:"Incorrect password. Please try again."})}}),App.Views.CommentLinkModule=App.Views.BaseView.extend({template:JST["templates/engagements/comment_link_module"],initialize:function(){this.model.get("topic")&&this.model.get("topic").get("comments").on("all",this.render,this),this.render()},render:function(){return this.$el.html(this.template())},discussionPath:function(){return"Deal"===this.model.modelClass?App.Routes.deal_path(this.model.get("param")):"Coupon"===this.model.modelClass?App.Routes.coupon_path(this.model.get("param")):App.Routes.blog_path(this.model.get("slug"))}}),App.Views.EngagementModule=App.Views.BaseView.extend({template:JST["templates/engagement_module"],signUpModalTitleOption:"2",inheritsFromEngagementModuleView:!0,events:{"click .email-share":"handleEmailShareClick","click .facebook-share":"handleFacebookShareClick",'click .save:not(".saved")':"handleSaveClick","click .save.saved":"handleDestroyClick"},initialize:function(){_.bindAll(this,"handleEmailShareClick","handleFacebookShareClick","handleSaveClick","saveItem","handleDestroyClick"),App.Data.currentUser.get("engagements").on("add remove sync",this.render,this),this.render()},render:function(){return this.$el.html(this.template({item:this.model,index:this.index,isFavorited:this.isFavorited()}))},isFavorited:function(){return!!App.Data.currentUser.get("engagements").where({item_type:this.model.modelClass.toLowerCase(),engagement_type:"save",item_id:this.model.id}).first()},handleEmailShareClick:function(){App.Dispatcher.trigger("showModal",{modalClass:App.Views.EmailShareModal,model:new App.Models.Email({item:this.model})})},handleFacebookShareClick:function(){App.Dispatcher.trigger("bdFacebookShare",{model:this.model})},handleSaveClick:function(){App.Data.currentUser.isFullUser()?this.saveItem():(App.Data.currentUser.userAction.done(this.saveItem),App.Data.currentUser.loggedIn()&&App.Data.currentUser.isSubscriber()?App.Dispatcher.trigger("showModal",{modalClass:App.Views.CreateProfileModal}):App.Dispatcher.trigger("showModal",{modalClass:App.Views.SignUpModal,to:this.signUpModalTitleOption}))},engagementForModel:function(){return App.Data.currentUser.get("engagements").where({item_type:this.model.modelClass.toLowerCase(),item_id:this.model.get("id")}).first()},saveItem:function(){App.Dispatcher.trigger("bdEngagement:save",{model:this.model})},handleDestroyClick:function(){this.engagementForModel().destroy({data:"item_type="+this.model.modelClass.toLowerCase()+"&item_id="+this.model.get("id")+"&engagement_type=save"})}}),function(){var e=App.Views.EngagementModule.prototype;App.Views.ItemEngagementModule=App.Views.EngagementModule.extend({template:JST["templates/item_engagement_module"],signUpModalTitleOption:"3",initialize:function(){this.createViews(),e.initialize.apply(this)},render:function(){return e.render.apply(this),this.commentLinkModule.setElement(this.$el.find(".chat-pack")).render(),this.$el},createViews:function(){this.commentLinkModule=new App.Views.CommentLinkModule({el:this.$el.find(".chat-pack"),model:this.model})}})}(),App.Views.MessagePreviewView=App.Views.BaseView.extend({template:JST["templates/message_preview"],initialize:function(){this.render(),this.model.on("all",this.render,this)},render:function(){this.$el.html(this.template({model:this.model,index:this.index}))},description:function(){return"<h3>"+this.model.get("item").shareName()+"</h3>"}}),App.Views.SearchTabView=App.Views.BaseView.extend({template:JST["templates/search_tabs"],initialize:function(){this.registerEvents(),this.render(),this.cacheElements()},cacheElements:function(){this.tabs=this.$el.find(".toggle"),this.couponsTab=this.$el.find(".coupon"),this.dealsTab=this.$el.find(".deal"),this.storesTab=this.$el.find(".merchant")},registerEvents:function(){this.listenTo(App.Dispatcher,"hashChange:deals hashChange:coupons hashChange:stores",this.toggleActiveTab)},render:function(){return this.$el.html(this.template())},toggleActiveTab:function(e){this.tabs.removeClass("active"),this[e+"Tab"].toggleClass("active")}}),App.Views.SearchPage=App.Views.BaseView.extend({initialize:function(){this.createViews(),this.registerEvents(),this.toggleActiveView("deals")},createViews:function(){this.views=[],this.searchTabView=new App.Views.SearchTabView({el:"#js-search-tabs",model:this.model}),this.views.push(this.dealsView=new App.Views.SearchDealsPage({el:"#deals-page",model:this.model})),this.views.push(this.couponsView=new App.Views.SearchCouponsPage({el:"#coupons-page",model:this.model})),this.views.push(this.storesView=new App.Views.SearchMerchantsPage({el:"#stores-page",model:this.model}))},toggleActiveView:function(e){_.each(this.views,function(e){e.hide()}),this[e+"View"].show()},render:function(){this.dealsView.renderSubViews(),this.couponsView.renderSubViews(),this.storesView.renderSubViews()},registerEvents:function(){this.listenTo(App.Dispatcher,"hashChange:deals hashChange:coupons hashChange:stores",this.toggleActiveView)}}),App.Views.BaseSearchView=App.Views.BaseView.extend({modelName:"Search",template:JST["templates/search_page"],inheritsFromBaseSearchView:!0,initialize:function(){if(isTypeof(App.Views.BaseSearchView,this))throw new Error("App.Views.BaseSearchView should not be instantiated directly");_.bindAll(this,"handleShowMoreClick"),this.registerEvents(),this.render(),this.createViews()},createViews:function(){throw new Error("App.Views.BaseSearchView should not be instantiated directly")},render:function(){return this.$el.html(this.template())},show:function(){this.$el.show(),this.searchPagination&&this.searchPagination.show(),this.peekContentView.show()},hide:function(){this.$el.hide(),this.searchPagination&&this.searchPagination.hide(),this.peekContentView.hide()},registerEvents:function(){this.$el.on("click",".pagination .link",this.handleShowMoreClick)},handleShowMoreClick:function(){this.model.fetchNext()}}),App.Views.SearchPagination=App.Views.BaseView.extend({template:JST["templates/search_pagination"],initialize:function(){this.model&&(this.model[this.options.mainModel]().on("all",this.render,this),this.render())},render:function(){this.$el.html(this.template())},hasMorePages:function(){return this.model.get("records")[this.options.mainModel].length<this.model.get("counts")[this.options.mainModel]}}),App.Views.SearchDealsPage=App.Views.BaseSearchView.extend({mainModel:"deals",createViews:function(){this.collectionView=new App.Views.Deals({el:this.$el.find(".collection"),collection:this.model.deals(),emptyTemplate:JST["templates/no_deal_search_results"],collectionName:"deals"}),this.collectionView.render(),this.peekContentView=new App.Views.PeekContent({el:"#deals-related",collectionOne:{collection:this.model.get("records").coupons,collectionSize:this.model.get("counts").coupons,visibleLimit:3,moduleName:"Search Results - Peek Coupons"},collectionTwo:{collection:this.model.get("records").merchants,collectionSize:this.model.get("counts").merchants,visibleLimit:3}}),this.model.deals().isEmpty()?this.searchPopularDeals=new App.Views.SearchPopularDeals({el:"#deals-feed",collection:new App.Collections.Deals}):this.searchPagination=new App.Views.SearchPagination({model:this.model,el:".deals.pagination",mainModel:this.mainModel})},renderSubViews:function(){this.collectionView&&this.collectionView.render(),this.searchPopularDeals&&this.searchPopularDeals.render(),this.searchPagination&&this.searchPagination.render()}}),App.Views.SearchCouponsPage=App.Views.BaseSearchView.extend({mainModel:"coupons",createViews:function(){this.collectionView=new App.Views.Coupons({el:this.$el.find(".collection"),collection:this.model.coupons(),emptyTemplate:JST["templates/no_coupon_search_results"],collectionName:"coupons"}),this.collectionView.render(),this.peekContentView=new App.Views.PeekContent({el:"#coupons-related",collectionOne:{collection:this.model.get("records").deals,collectionSize:this.model.get("counts").deals,visibleLimit:3,moduleName:"Search Results - Peek Deals"},collectionTwo:{collection:this.model.get("records").merchants,collectionSize:this.model.get("counts").merchants,visibleLimit:3}}),this.model.coupons().isEmpty()?this.searchTopCoupons=new App.Views.SearchTopCoupons({el:"#coupons-feed",collection:new App.Collections.Coupons}):this.searchPagination=new App.Views.SearchPagination({model:this.model,el:".coupons.pagination",mainModel:this.mainModel})},renderSubViews:function(){this.collectionView&&this.collectionView.render(),this.searchTopCoupons&&this.searchTopCoupons.render(),this.searchPagination&&this.searchPagination.render()}}),App.Views.SearchMerchantsPage=App.Views.BaseSearchView.extend({mainModel:"merchants",createViews:function(){this.collectionView=new App.Views.Merchants({el:this.$el.find(".collection"),collection:this.model.merchants(),itemClassName:"col large-6 medium-12 small-12 clearfix",emptyTemplate:JST["templates/no_store_search_results"],collectionName:"stores"}),this.collectionView.render(),this.peekContentView=new App.Views.PeekContent({el:"#stores-related",collectionOne:{collection:this.model.get("records").deals,collectionSize:this.model.get("counts").deals,visibleLimit:3,moduleName:"Search Results - Peek Deals"},collectionTwo:{collection:this.model.get("records").coupons,collectionSize:this.model.get("counts").coupons,visibleLimit:3,moduleName:"Search Results - Peek Coupons"}}),this.model.merchants().isEmpty()?this.searchPopularMerchants=new App.Views.SearchPopularMerchants({el:"#stores-feed",collection:new App.Collections.PopularMerchants}):this.searchPagination=new App.Views.SearchPagination({model:this.model,el:".pagination.merchants",mainModel:this.mainModel})},renderSubViews:function(){this.collectionView&&this.collectionView.render(),this.searchPopularMerchants&&this.searchPopularMerchants.render(),this.searchPagination&&this.searchPagination.render()}}),function(){var e=App.Views.CollectionView.prototype;App.Views.SearchPopularDeals=App.Views.CollectionView.extend({modelName:"Deal",modelView:App.Views.DealsPageItem,initialize:function(){e.initialize.apply(this,arguments),this.collection.off("add reset remove sync",this.render),this.collection.once("sync",this.render,this),this.getCollection()},getCollection:function(){this.collection.fetch({data:{limit:20,search:!0}})},renderListItemView:function(e){this.$el.append(e.render())}})}(),function(){var e=App.Views.CollectionView.prototype;App.Views.SearchTopCoupons=App.Views.CollectionView.extend({modelName:"Coupon",modelView:App.Views.CouponsPageItemV2,initialize:function(){e.initialize.apply(this,arguments),this.collection.off("add reset remove sync",this.render),this.collection.once("sync",this.render,this),this.getCollection()},getCollection:function(){this.collection.fetch({data:{limit:20}})},renderListItemView:function(e){this.$el.append(e.render())}})}();var _super=App.Views.CollectionView.prototype;App.Views.SearchPopularMerchants=App.Views.CollectionView.extend({modelName:"Merchant",modelView:App.Views.MerchantsPageItem,initialize:function(){_super.initialize.apply(this,arguments),this.collection.off("add reset remove sync",this.render),this.collection.once("sync",this.render,this),this.getCollection()},getCollection:function(){this.collection.fetch({data:{limit:20}})},renderListItemView:function(e){this.$el.append(e.render())}}),App.Views.SingleUseCoupon=App.Views.BaseView.extend({template:JST["templates/single_use_coupon"],events:{"submit form":"getCode"},initialize:function(){this.model.on("sync",this.success,this),this.model.on("error",this.error,this),this.render(),this.clipboard=new Clipboard(this.$("a")[0]),this.clipboard.on("success",this.clipboardSuccess,this),this.clipboard.on("error",this.clipboardError,this)},render:function(){return this.$el.html(this.template())},getCode:function(e){e.preventDefault(),this.model.fetch()},error:function(e,t,i){App.Dispatcher.trigger("SingleUseCouponError",i),this.clipboard.destroy(),this.$("a").addClass("btn-inverted").removeClass("btn-pressable").text(this.options.errorLinkText).attr("href",this.options.errorLink),this.complete()},success:function(e,t){App.Dispatcher.trigger("SingleUseCouponSuccess",t),this.$("form code").html(t.code).removeClass("hide"),this.complete()},complete:function(){this.$("input").remove(),this.$("a").attr("href",this.linkUrl()).removeClass("hide")},clipboardSuccess:function(e){e.clearSelection(),$(e.trigger).text(this.options.copySuccessText).addClass("teal")},clipboardError:function(){console.error("Error:",this.options.copyErrorText),this.clipboard.destroy()},linkUrl:function(){return this.options.goLink?this.options.goLink:this.options.codeLink?this.options.codeLink+this.model.get("code"):void 0}}),App.Views.EmailGate=App.Views.BaseView.extend({template:JST["templates/email_gate"],events:{"submit form":"getFormEmail"},initialize:function(){this.render(),this.setValidation()},render:function(){return this.$el.html(this.template())},setValidation:function(){var e=this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{email:App.Forms.Validations.rules.email},messages:{email:App.Forms.Validations.messages.email},showErrors:App.Forms.Validations.showErrors.inline});return this.options.email&&e.showErrors({email:"Sorry, "+this.options.email+" is not subscribed to our emails. Please double check the email address and try again."}),e},getFormEmail:function(e){e.preventDefault();var t=this.$('input[type="email"]').val();App.Dispatcher.trigger("emailPreferencesControllerGateShow",{email:t})}}),function(){var e=App.Views.CollectionView.prototype;App.Views.SavedItems=App.Views.CollectionView.extend({initialize:function(){e.initialize.apply(this,arguments)},createListItemView:function(e,t){var i;switch(e.modelClass){case"Deal":i=App.Views.DealTileWithBookmark;break;default:throw new Error("Unknown modelClass")}this.modelViews.push(new i({model:e,index:t,additionalOptions:this.additionalOptions,className:this.itemClassName}))}})}(),App.Views.Pagination=App.Views.BaseView.extend({template:JST["templates/pagination"],initialize:function(){this.pathHelper=this.options.pathHelper,this.currentPageNumber=this.options.currentPageNumber,this.maxPageNumber=this.options.maxPageNumber,this.render()},render:function(){return this.$el.html(this.template())},isFirstPage:function(){return 1===this.currentPageNumber},isLastPage:function(){return this.currentPageNumber===this.maxPageNumber},nextPageUrl:function(){return this.pathHelper({page:this.currentPageNumber+1})},previousPageUrl:function(){return this.pathHelper({page:this.currentPageNumber-1})}}),App.Views.SocialMediaWidget=App.Views.BaseView.extend({template:JST["templates/social_media_widget"],initialize:function(){this.render(),this.createTwitterBadge(),this.createFacebookBadge()},render:function(){return this.$el.html(this.template)},createTwitterBadge:function(){this.$el.find(".twitter").html('<a href="https://twitter.com/share" class="twitter-share-button" data-via="bradsdeals" data-lang="en" data-text="'+this.model.get("title")+'" data-url="'+App.Routes.blog_url(this.model.get("slug"))+'">Tweet</a>')},createFacebookBadge:function(){this.$el.find(".facebook").html('<div class="fb-share-button" data-href="'+App.Routes.blog_url(this.model.get("slug"))+'" data-layout="button_count"></div>')}}),App.Views.TabBar=App.Views.BaseView.extend({template:JST["templates/home_page/tab_bar"],initialize:function(){this.render()},render:function(){this.$el.html()||this.$el.html(this.template({gridClass:this.getTabGridClass(this.options.tabs.length)})),this.$("li").removeClass("active"),this.$('[data-slug="'+this.options.activeTab+'"]').addClass("active")},setActiveTab:function(e){this.options.activeTab=e,this.render()},getTabGridClass:function(e){var t;if(12%e==0)return"large-"+(t=12/e)+" medium-"+t+" small-"+t;if(15%e==0)return"grid-15-large-"+(t=15/e)+" grid-15-medium-"+t+" grid-15-small-"+t;throw"tabCount "+e+" not possible with a 12 or 15-column grid"}}),App.Views.HomePageWelcome=App.Views.BaseView.extend({template:JST["templates/home_page/home_page_welcome"],initialize:function(){var e=this.getMinStartsAt();this.user=this.options.user,this.dealCount=this.buildDealCount(e),this.listenTo(this.user,"change",this.render),this.listenTo(this.dealCount,"sync",this.render),e&&this.dealCount.fetch(),this.render()},render:function(){return this.$el.html(this.template())},buildDealCount:function(e){return new App.Models.DealCount({params:{min_starts_at:e}})},getMinStartsAt:function(){var e=parseInt($.cookie("ls_end"));if(e)return new Date(e)},dealCountSubHeader:function(){var e=this.dealCount.get("count");if(!(!e>0))return e>90&&(e="90+"),"We've added <strong>"+e+" new deals</strong> since your last visit."}}),App.Views.HomePageProPagination=App.Views.BaseView.extend({template:JST["templates/home_page/home_page_pro_pagination"],initialize:function(){this.pathHelper=this.options.pathHelper,this.render()},render:function(){return this.$el.html(this.template())},maxPageNumber:function(){return Math.floor(this.total/30)}}),App.Views.HomePageBase=App.Views.BaseView.extend({initialize:function(){if(isTypeof(App.Views.HomePageBase,this))throw new Error("App.Views.HomePageBase should not be instantiated directly");_.bindAll(this,"initializeTab"),this.collections={},this.tabViews={},this.paginationViews={},this.slugs=[],this.TABS.forEach(this.initializeTab),this.activeTab=this.getTabPreference()||"popular",this.tabBarView=new App.Views.TabBar({el:"#tab-bar",tabs:this.TABS,activeTab:this.activeTab}),this.$featuredDeals=this.$("#featured-deals"),this.handleTabChange(this.activeTab)},initializeTab:function(e){var t=e.slug;this.slugs.push(t);var i=this.collections[t]=new App.Collections.Deals;i.url=e.url,App.Data.PageItems.Deals.registerCollection(i),this.tabViews[t]=new this.DealsCollectionView({el:"#"+t+"-deals-tab",collection:this.collections[t],afterRender:e.afterRender}),this.paginationViews[t]=new this.PaginationView({el:"#"+t+"-deals-pagination",pathHelper:e.pathHelper,currentPageNumber:1}),App.Dispatcher.on("hashChange:"+t,this.handleTabChange,this),this.listenTo(i,"sync",this.updatePagination.bind(this,t))},handleTabChange:function(e){_.include(this.slugs,e)&&(0===this.collections[e].length&&this.collections[e].fetch(),this.tabViews[this.activeTab].hide(),this.paginationViews[this.activeTab].hide(),this.tabViews[e].show(),this.paginationViews[e].show(),this.tabBarView.setActiveTab(e),this.setTabPreference(e),this.activeTab=e)},getTabPreference:function(){var e=$.cookie("user_preferences");if(e)return JSON.parse(e).hpsort},setTabPreference:function(e){$.cookie("user_preferences",JSON.stringify({hpsort:e}),{expires:90})}}),function(){var e=App.Views.HomePageBase.prototype;App.Views.HomePage=App.Views.HomePageBase.extend({DealsCollectionView:App.Views.HomePageDeals,PaginationView:App.Views.Pagination,TABS:[{slug:"popular",pathHelper:App.Routes.deals_path,title:"Popular",url:"/deals.json?sort=popularity"},{slug:"newest",pathHelper:App.Routes.newest_deals_path,title:"Newest",url:"/deals.json?sort=start"},{slug:"collection",pathHelper:App.Routes.collection_path.bind(null,"exclusive-deals"),title:"Exclusives",url:"/collections/exclusive-deals.json"}],handleTabChange:function(t){e.handleTabChange.apply(this,arguments),"popular"===t?this.$featuredDeals.show():this.$featuredDeals.hide()},updatePagination:function(e,t){_.include(this.slugs,e)&&(this.paginationViews[e].maxPageNumber=t.pageCount,this.paginationViews[e].render())}})}(),App.Views.HomePagePro=App.Views.HomePageBase.extend({DealsCollectionView:App.Views.HomePageProDeals,PaginationView:App.Views.HomePageProPagination,TABS:[{slug:"popular",pathHelper:App.Routes.deals_path,title:"Popular",url:"/deals.json?sort=popularity&limit=90",afterRender:function(){$("#featured-deals").addClass("featured-deal-row").insertAfter("#popular-deals-tab li:nth-of-type(6)").wrap("<li/>").show()}},{slug:"newest",pathHelper:App.Routes.newest_deals_path,title:"Newest",url:"/deals.json?sort=start&limit=90"},{slug:"collection",pathHelper:App.Routes.collection_path.bind(null,"exclusive-deals"),title:"Exclusives",url:"/collections/exclusive-deals.json?limit=90"}],updatePagination:function(e,t){_.include(this.slugs,e)&&(this.paginationViews[e].total=t.total,this.paginationViews[e].render())}}),App.Views.InlineSubscriptionForm=App.Views.BaseView.extend({template:JST["templates/inline_subscription_form"],events:{"ajax:success form":"success","ajax:error form":"error","click span.btn-pressable":"showForm"},initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){this.model.isFullUser()||this.model.isSubscriber()?this.hide():(this.show(),this.$el.html(this.template()),this.setValidation())},setValidation:function(){this.$validator=this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{email:App.Forms.Validations.rules.email},messages:{email:App.Forms.Validations.messages.email},showErrors:App.Forms.Validations.showErrors.inline})},showForm:function(){this.$(".cta").hide(),this.$("form").show()},success:function(e,t){this.stopListening(this.model),App.Dispatcher.trigger("initUserApplication",t.user),this.$("form").remove(),this.$(".subscription-container").append("<h3>Great!  You're subscribed!</h3>");var i=this;setTimeout(function(){App.Dispatcher.trigger("disableStickyAds"),i.remove()},3e3)},error:function(e,t){var i=t.responseJSON||{};i.errors&&i.errors.email&&this.$validator.showErrors({email:App.Forms.Validations.messages.email.email})}}),App.Views.Tooltip=App.Views.BaseView.extend({template:JST["templates/tooltip"],events:{"click .tooltip-trigger":"handleTooltipOpen"},initialize:function(e){return _.bindAll(this,"handleTooltipClose"),this.tooltipContent=e.tooltipContent,this.tooltipTrigger=e.tooltipTrigger,this},render:function(){return this.$el.html(this.template()),this},handleTooltipOpen:function(e){e.stopPropagation(),this.$(".tooltip-content").css({display:"block"}),this.undelegateEvents(),$(document).one("click",this.handleTooltipClose)},handleTooltipClose:function(){this.$(".tooltip-content").attr("style",""),this.delegateEvents()}}),App.Views.Contest=App.Views.BaseView.extend({template:JST["templates/contest"],events:{submit:"setLoading","click .btn.facebook-login-button":"setLoading","click .btn#enter-contest":"setLoading","click .reset-link":"resetForm"},initialize:function(){_.bindAll(this,"hideLoading"),App.Dispatcher.on("entryComplete",this.hideLoading,this),$(document).on("bdForm:failure",this.hideLoading),this.user=this.options.user,this.entry=this.options.entry,this.setEntryDefaults(),this.render(),this.createSubViews()},resetForm:function(){this.user.clear(),this.entry.clear(),this.setEntryDefaults(),this.render(),$(document).off("externalForm:success",this.entryView.facebookLoginSuccess),this.createSubViews()},setEntryDefaults:function(){this.entry.set({slug:this.model.get("slug"),entry_point:"form"})},render:function(){this.$el.html(this.template()),this.$(".disabled").html(JST["templates/loading"]())},renderEndedMessage:function(){var e="<p>This contest has ended. Better luck next time!</p>";this.model.get("ending_announcement")&&(e+=this.model.get("ending_announcement")),this.$("#entry-view").html(JST["templates/contests/confirmation"]({headline:"Aw, Bummer",body:e}))},setLoading:function(){this.$(".disabled").show()},hideLoading:function(){this.$(".disabled").hide()},createSubViews:function(){this.model.ended()?this.renderEndedMessage():"subscribe"===this.model.get("goal")?this.entryView=new App.Views.SubscribeEntryView({model:this.model,entry:this.entry,user:this.user,el:"#entry-view"}):"register"===this.model.get("goal")&&(this.entryView=new App.Views.RegisterEntryView({model:this.model,entry:this.entry,user:this.user,el:"#entry-view"}))}}),App.Views.SubscribeEntryView=App.Views.BaseView.extend({template:JST["templates/contests/entry"],events:{"ajax:success form":"success","ajax:before  form":"validate"},initialize:function(){
_.bindAll(this,"entrySuccessful","entryFailure","facebookLoginSuccess","entryComplete"),$(document).one("externalForm:success",this.facebookLoginSuccess),this.user=this.options.user,this.entry=this.options.entry,this.render()},render:function(){this.$el.html(this.template()),this.subView&&this.subView.remove(),this.subView=new App.Views.EmailEntry({model:this.model,user:this.user,el:"#entry-form-area"})},validate:function(){return this.$("form").valid()},success:function(e,t){t.errors&&t.errors.email?(this.$("form").validate().showErrors({email:"There was an error, please check your email address and try again."}),this.entryComplete()):(App.Dispatcher.trigger("initUserApplication",t.user),this.entry.set({bd_user_id:t.user.id,email:t.user.email,subscriber_created:!!t.user.created}).save({},{success:this.entrySuccessful,error:this.entryFailure}).always(this.entryComplete))},entrySuccessful:function(){this.$el.html(JST["templates/contests/confirmation"]({headline:"Thanks!",body:this.model.get("confirmation_message")}))},entryFailure:function(){this.$el.html(JST["templates/contests/confirmation"]({headline:"Aw shucks.",body:"You already entered the contest! Only one entry per user is allowed for this contest. Good luck!"}))},facebookLoginSuccess:function(){this.entry.set({bd_user_id:this.user.get("id"),email:this.user.get("email"),entry_point:"facebook",subscriber_created:!!this.user.get("created")}).save({},{success:this.entrySuccessful,error:this.entryFailure}).always(this.entryComplete)},entryComplete:function(){App.Dispatcher.trigger("entryComplete")}}),App.Views.RegisterEntryView=App.Views.BaseView.extend({template:JST["templates/contests/entry"],passwordTemplate:JST["templates/contests/password"],events:{"ajax:success .sign-up-form":"emailSuccess","ajax:success .create-profile-form":"profileSuccess","ajax:success .update-profile-form":"enterContest","ajax:success .login-form":"loginSuccess","ajax:before  form":"validate","ajax:before  .create-profile-form":"parseBirthday","ajax:before  .update-profile-form":"parseBirthday","click #enter-contest":"enterContest"},initialize:function(){_.bindAll(this,"emailSuccess","entrySuccessful","entryFailure","facebookLoginSuccess"),$(document).one("externalForm:success",this.facebookLoginSuccess),this.user=this.options.user,this.entry=this.options.entry,this.user.loggedIn()&&this.entry.set({bd_user_id:this.user.get("id"),email:this.user.get("email"),subscriber_created:!1,full_user_created:!this.user.isFullUser()}),this.render()},render:function(){this.$el.html(this.template()),this.user.isSubscriber()?this.renderSubView("ProfileEntry"):this.user.isFullUser()?this.renderSubView("FullUserEntry"):this.renderSubView("EmailEntry")},renderSubView:function(e){if(!e)throw"viewName is required for renderSubView";this.subView&&this.subView.stopListening(),this.subView=new App.Views[e]({model:this.model,user:this.user,el:"#entry-form-area"})},renderPasswordForm:function(e){this.$("#entry-form-area").html(this.passwordTemplate({email:e.email})),this.setPasswordValidation()},setPasswordValidation:function(){this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{password:{required:!0}},messages:{password:"Please enter your password."},showErrors:App.Forms.Validations.showErrors.inline})},parseBirthday:function(){var e=this.$('select[name="month"]').val(),t=this.$('select[name="day"]').val(),i=this.$('select[name="year"]').val();this.$('input[name="birthday"]').val(i+"-"+e+"-"+t)},validate:function(){return this.$("form").valid()},emailSuccess:function(e,t){t.errors&&t.errors.email?this.$("form").validate().showErrors({email:"There was an error, please check your email address and try again."}):t.errors&&!t.errors.email?this.renderPasswordForm({email:t.user.email}):(App.Dispatcher.trigger("initUserApplication",t.user),this.entry.set({bd_user_id:t.user.id,email:t.user.email,subscriber_created:!!t.user.created,full_user_created:!0}),this.renderSubView("ProfileEntry")),this.entryComplete()},profileSuccess:function(e,t){this.enterContest(),App.Dispatcher.trigger("initUserApplication",t.user)},loginSuccess:function(e,t){t.flash&&t.flash.errors?this.$("form").validate().showErrors({password:"Incorrect password. Please try again."}):(App.Dispatcher.trigger("initUserApplication",t.user),this.renderSubView("FullUserEntry"),this.entry.set({bd_user_id:t.user.id,email:t.user.email,subscriber_created:!1,full_user_created:!1})),this.entryComplete()},facebookLoginSuccess:function(){this.entry.set({bd_user_id:this.user.get("id"),email:this.user.get("email"),entry_point:"facebook",subscriber_created:!!this.user.get("created"),full_user_created:!!this.user.get("user_profile_created")}),this.enterContest()},enterContest:function(){this.entry.save({},{success:this.entrySuccessful,error:this.entryFailure}).always(this.entryComplete)},entrySuccessful:function(){this.$el.html(JST["templates/contests/confirmation"]({headline:"Thanks!",body:this.model.get("confirmation_message")}))},entryFailure:function(){this.$el.html(JST["templates/contests/confirmation"]({headline:"Aw shucks.",body:"You already entered the contest!"}))},entryComplete:function(){App.Dispatcher.trigger("entryComplete")}}),App.Views.EmailEntry=App.Views.BaseView.extend({template:JST["templates/contests/email_entry"],initialize:function(){this.user=this.options.user,this.entry=this.options.entry,this.render()},render:function(){this.$el.html(this.template()),this.setValidation()},setValidation:function(){this.$("form").validate({onfocusout:!1,onkeyup:!1,rules:{email:App.Forms.Validations.rules.email},messages:{email:App.Forms.Validations.messages.email},showErrors:App.Forms.Validations.showErrors.inline})}}),App.Views.ProfileEntry=App.Views.BaseView.extend({template:JST["templates/contests/profile_entry"],birthdayOptions:App.ViewHelpers.birthdayOptions,initialize:function(){this.user=this.options.user,this.entry=this.options.entry,this.render()},render:function(){this.$el.html(this.template()),this.setValidation()},setValidation:function(){this.$("form").validate(App.Forms.Validations.contestProfileForm())}}),App.Views.FullUserEntry=App.Views.BaseView.extend({template:JST["templates/contests/full_user_entry"],birthdayOptions:App.ViewHelpers.birthdayOptions,initialize:function(){this.user=this.options.user,this.entry=this.options.entry,this.render()},render:function(){this.$el.html(this.template()),this.setValidation()},setValidation:function(){this.$("form").validate(App.Forms.Validations.contestProfileForm())},fullUserEntryTitle:function(){var e=[];return this.user.birthday()&&e.push("birthday"),this.user.location()&&e.push("location"),"Please enter your "+_.difference(this.model.get("required_fields"),e).join(" and ")+" to complete your entry."},moreInformationNeeded:function(){return this.model.requiresBirthday()&&!this.user.birthday()||this.model.requiresLocation()&&!this.user.location()}}),App.Views.ContactUs=App.Views.BaseView.extend({events:{"click .send-form":"validateForm"},initialize:function(){new App.Views.ToggleExpander({el:this.$el})},validateForm:function(e){$(e.target).parents(".clean-form").validate({errorElement:"span",messages:{"help_form[extra][order_number]":{required:"Please enter an order number. If you're not sure, enter &quot;n/a&quot;."},"help_form[extra][order_date]":{required:"Please enter an order date. If you're not sure, enter &quot;n/a&quot;."},"help_form[extra][price]":{required:"Please enter a price. If you're not sure, enter &quot;n/a&quot;."},"help_form[extra][deal]":{required:"Please enter a deal. If you're not sure, enter &quot;n/a&quot;."},"help_form[extra][price_received]":{required:"Please enter the price you received for the deal."}},errorPlacement:App.Forms.Validations.errorPlacement.before})}}),App.Views.ToggleExpander=App.Views.BaseView.extend({events:{"click .help-expander":"toggleDetails"},toggleDetails:function(e){var t=$(e.currentTarget).next(".auto-answer"),i=$(e.currentTarget).children(".expand-icon"),s=t.is(":visible")?"+":"\u2013";i.text(s),t.slideToggle()}}),App.Views.InfiniteScrollCallToAction=App.Views.BaseView.extend({template:JST["templates/infinite_scroll_call_to_action"],initialize:function(){this.render()},render:function(){return this.$view=$(this.template()),this.$view.append(this.loadingTemplate()),this.$view.appendTo(this.$el),this.$view}}),App.Views.CreditCard=App.Views.BaseView.extend({events:{"click .more-details":"toggleDetails","load .image img":"useImageOrPlaceholder","error .image img":"usePlaceholder"},initialize:function(){this.open=this.$(".details").is(":visible"),this.image=this.$(".image img"),this.imgTag={},this.image.length&&(this.imgTag=this.image[0],this.useImageOrPlaceholder())},toggleDetails:function(){this.open?this.$(".more-details").text("View More Details").removeClass("open"):this.$(".more-details").text("View Less Details").addClass("open"),this.$(".details").slideToggle(),this.open=!this.open},useImageOrPlaceholder:function(){this.isImageLoaded()&&!this.isImageValid()&&this.usePlaceholder()},isImageLoaded:function(){return Boolean(this.imgTag.complete)},isImageValid:function(){return Boolean(this.imgTag.naturalWidth)&&this.imgTag.naturalWidth>10},usePlaceholder:function(){var e=new Image,t=this.imgTag;e.onload=function(){t.src=this.src},e.src=App.Assets.imagePath("credit-card-placeholder.png")}}),App.Views.Pixel=App.Views.BaseView.extend({initialize:function(){this.template=this.pickTemplate(this.options.pixel),this.render()},render:function(){return this.$el.html(this.template())},pickTemplate:function(e){switch(e){case"bg":return JST["templates/pixels/bing"];case"sh":return JST["templates/pixels/steelhouse"];case"li1":return JST["templates/pixels/live_intent1"];case"li2":return JST["templates/pixels/live_intent2"];case"li3":return JST["templates/pixels/live_intent3"];case"fm":return JST["templates/pixels/flex_media"];case"go":return JST["templates/pixels/google"];case"pi":return JST["templates/pixels/power_inbox"];case"y":return JST["templates/pixels/yahoo"];case"y1650017":return JST["templates/pixels/yahoo"].bind(null,{pixelID:"10041197"});case"y1288990":return JST["templates/pixels/yahoo"].bind(null,{pixelID:"434614"});default:var t=App.Data.currentUrlParameters();return JST["templates/pixels/all"].bind(null,{params:t})}}}),App.Views.NavigationView=App.Views.BaseView.extend({events:{"click .navigation-toggle[data-nav-item]":"toggleNavOption","click .search-trigger":"toggleSearchDropdown","transitionend .search-dropdown":"handleSearchTransitionEnd","webkitTransitionEnd .search-dropdown":"handleSearchTransitionEnd","oTransitionEnd .search-dropdown":"handleSearchTransitionEnd","MSTransitionEnd .search-dropdown":"handleSearchTransitionEnd"},initialize:function(){_.bindAll(this,"handleCloseSearch","deregisterCloseEvent")},toggleNavOption:function(e){var t=$(e.currentTarget),i=t.data().navItem;this.$(".active").removeClass("active"),t.addClass("active"),this.$('.nav-item[data-nav-item="'+i+'"]').addClass("active"),this.toggleNavHeight(t)},toggleNavHeight:function(e){var t;t=e.hasClass("childless")?"67px":"100px",$("header.masthead").css("min-height",t)},toggleSearchDropdown:function(e){this.$(".dropdown-full-width").toggleClass("nav-hidden"),this.$(".search-trigger").toggleClass("active"),this.registerCloseEvent(),e.stopPropagation()},registerCloseEvent:function(){$(document).on("click",this.handleCloseSearch)},handleSearchTransitionEnd:function(){this.$("#header-search").focus()},handleCloseSearch:function(e){var t=$(e.target).is(".dropdown-full-width *, .dropdown-full-width");$(".dropdown-full-width").hasClass("nav-hidden")||t||(this.$(".dropdown-full-width").addClass("nav-hidden"),this.$(".search-trigger").removeClass("active"),this.deregisterCloseEvent())},deregisterCloseEvent:function(){$(document).off("click",this.handleCloseSearch)}}),App.Views.ToggledNavigation=App.Views.BaseView.extend({hashRegex:/^#[\w\-_]+$/,initialize:function(){if(_.bindAll(this,"showLeftSide","reloadView"),this.$parentHeader=this.$(".tappable-header"),this.$leftHeader=this.$(".left-side-header"),this.$rightHeader=this.$(".right-side-header"),this.$leftView=this.$(".left-side-view"),this.$rightView=this.$(".right-side-view"),!this.hashRegex.test(this.$leftHeader.attr("href"))||!this.hashRegex.test(this.$rightHeader.attr("href")))throw"Header links must have valid hash road defined";this.hashLeft=this.$leftHeader.attr("href").substr(1),this.hashRight=this.$rightHeader.attr("href").substr(1),App.Dispatcher.on("hashChange:"+this.hashLeft,this.showLeftSide,this),App.Dispatcher.on("hashChange:"+this.hashRight,this.showRightSide,this),$(window).on("resize",this.reloadView),this.oldRemove=this.remove,this.remove=function(){$(window).unbind("resize"),this.oldRemove()}},reloadView:function(){$(".out-of-view").hasClass("left-side-view")?this.showRightSide():this.showLeftSide()},showLeftSide:function(){this.$parentHeader.removeClass("right"),this.$leftView.removeClass("out-of-view"),this.$rightView.addClass("out-of-view"),this.$el.css("min-height",this.$parentHeader.height()+this.$leftView.height()),this.$rightHeader.removeClass("active"),this.$leftHeader.addClass("active")},showRightSide:function(){this.$parentHeader.addClass("right"),this.$rightView.removeClass("out-of-view"),this.$leftView.addClass("out-of-view"),this.$el.css("min-height",this.$parentHeader.height()+this.$rightView.height()),this.$leftHeader.removeClass("active"),this.$rightHeader.addClass("active")}}),App.Views.SubscriptionModule=App.Views.BaseView.extend({template:JST["templates/subscription_module"],emailTemplate:JST["templates/subscriptions/email"],events:{"click .subscription-create":"handleSubscriptionCreateClick","ajax:before .subscription-user-form":"validateEmail","ajax:success .subscription-user-form":"handleUserCreateSuccess","ajax:error .subscription-user-form":"handleUserCreateError"},initialize:function(){this.model=new App.Models.Subscription({user_id:this.options.user.get("id"),trigger:this.options.trigger,name:this.options.name||null,query:{brands:this.options.brands||null,categories:this.options.categories||null,flags:this.options.flags||null,genders:this.options.genders||null,merchants:this.options.merchants||null,search_string:this.options.searchString||null}}),_.bindAll(this,"handleSubscriptionSaveError","handleSubscriptionSaveSuccess","handleUserCreateError"),this.label=this.options.label||"Keyword",this.listenTo(this.options.user.get("subscriptions"),"sync",this.render),this.render()},render:function(e){e=e||{};var t=this.options.buttonText||"Create Alert",i=e.title||this.alreadyExistsTitle();return this.$el.html(this.template({title:i,buttonText:t}))},renderEmailTemplate:function(){this.$(".subscription-user-form").length<1&&(this.$el.append(this.emailTemplate()),this.disableCreateAlertButton(),this.initializeValidator())},disableCreateAlertButton:function(){this.$(".button-container, .subscription-create").addClass("disabled")},handleSubscriptionCreateClick:function(){this.options.user.loggedIn()?(this.saveSubscription(),this.options.user.get("confirmed")||this.options.user.resendConfirmation()):this.renderEmailTemplate()},handleUserCreateSuccess:function(e,t){App.Dispatcher.trigger("initUserApplication",t.user),this.saveSubscription()},handleUserCreateError:function(e,t){var i=t.responseJSON||{};i.errors&&i.errors.email&&this.showEmailValidationError()},handleSubscriptionSaveError:function(){this.render()},handleSubscriptionSaveSuccess:function(e){this.options.user.get("subscriptions").add(e),this.render({title:this.confirmationTitle()})},validateEmail:function(){return this.$("form.subscription-user-form").valid()},saveSubscription:function(){this.model.set({user_id:this.options.user.get("id")}),this.model.save().done(this.handleSubscriptionSaveSuccess).fail(this.handleSubscriptionSaveError)},isSubscribed:function(){var e=this.model.get("query"),t=this.model.get("trigger");return!!this.options.user.get("subscriptions").findByQueryAndTrigger(e,t)},alreadyExistsTitle:function(){return this.options.alreadyExistsTitle||"Looks like a deal alert is already created"},confirmationTitle:function(){var e=this.options.confirmationTitle||"Your Alert Is Active!";return this.options.user.get("confirmed")?e:"Success!"},confirmationMessage:function(){return this.options.user.get("confirmed")?'You\'ll get an email at <span class="user-email">'+this.options.user.email()+"</span> when we find a match.":"Just one more step! Go to your email to confirm your address, and your alert will be ready to go."},name:function(){return this.model.getName()||this.searchString()},searchString:function(){return _.escape(this.truncate(this.model.get("query").search_string||""))},truncate:function(e,t){return t||(t=50),e.length>t?e.substring(0,t-3).concat("..."):e},initializeValidator:function(){this.$validator=this.$("form.subscription-user-form").validate({rules:{email:{required:App.Forms.Validations.rules.email.required,email:App.Forms.Validations.rules.email.email}},messages:{email:{required:App.Forms.Validations.messages.email.required,email:App.Forms.Validations.messages.email.email}},errorPlacement:App.Forms.Validations.errorPlacement.before})},showEmailValidationError:function(){this.$validator&&this.$validator.showErrors({email:App.Forms.Validations.messages.email.email})}}),App.Views.TrendingAlertButtonModule=App.Views.CollectionItemView.extend({template:JST["templates/trending_alert_button_module"],className:"trending-alert-wrapper",events:{"click .trending-alert.inactive":"handleClickEvent"},initialize:function(){_.bindAll(this,"saveSubscription"),this.listenTo(this.model,"sync",this.render),this.listenTo(this.options.user.get("subscriptions"),"sync",this.render)},render:function(){return this.$el.html(this.template())},handleClickEvent:function(){if(this.options.user.isFullUser())return this.saveSubscription(),void this.$el.addClass("active");this.options.user.userAction.done(this.saveSubscription),this.options.user.isSubscriber()?App.Dispatcher.trigger("showModal",{modalClass:App.Views.CreateProfileModal}):App.Dispatcher.trigger("showModal",{modalClass:App.Views.SignUpModal,to:5})},saveSubscription:function(){this.model.set({user_id:this.options.user.get("id")}),this.model.save()},buttonText:function(){return this.model.getName()||this.model.getSearchString()},isSubscribed:function(){return!this.model.isNew()||this.options.user.hasSubscription(this.model)}}),App.Views.CreateSubscriptionForm=App.Views.BaseView.extend({template:JST["templates/create_subscription_form"],successMessageTemplate:JST["templates/create_subscription_form_success"],events:{"submit form":"handleFormSubmit"},initialize:function(e){e=e||{},this.requireFullUser=e.requireFullUser||!1,_.bindAll(this,"saveSubscription"),this.initializeModel(),this.render()},registerEvents:function(){this.listenTo(this.model,"error",this.handleSubscriptionSaveError),this.listenTo(this.model,"sync",this.handleSubscriptionSaveSuccess)},initializeModel:function(){this.model=new App.Models.Subscription({trigger:this.options.trigger||"deal-alert",name:this.options.name||null,query:{categories:this.options.categories||null,flags:this.options.flags||null,genders:this.options.genders||null,merchants:this.options.merchants||null,search_string:this.options.searchString||null}}),this.registerEvents()},render:function(){this.$el.html(this.template()),this.$validator=this.$("form").validate({onfocusout:!1,onkeyup:!1,errorContainer:"form .error",errorLabelContainer:"form .error",rules:{keyword_search:{required:!0,maxlength:255}},messages:{keyword_search:{required:"You'll need some words to go with that. Please enter a term to create an alert for."}}})},renderSuccessMessage:function(e){this.$("#create_subscription_input").append(this.successMessageTemplate({success:e}))},handleFormSubmit:function(e){e.preventDefault(),this.requireFullUser&&!this.options.user.isFullUser()?(this.options.user.userAction.done(this.saveSubscription),this.options.user.isSubscriber()?App.Dispatcher.trigger("showModal",{modalClass:App.Views.CreateProfileModal}):App.Dispatcher.trigger("showModal",{modalClass:App.Views.SignUpModal,to:5})):this.saveSubscription()},saveSubscription:function(){var e="Looks like this deal alert is already created",t=this.$("#keyword_search").val();this.model.set({user_id:this.options.user.get("id")}),this.model.setSearchString(t),this.isSubscribed()?this.$validator.showErrors({keyword_search:e}):this.model.save()},handleSubscriptionSaveSuccess:function(){var e=this.model.getName()+" Alert Created";this.options.user.get("subscriptions").add(this.model),this.stopListening(this.model),this.initializeModel(),this.render(),this.renderSuccessMessage(e)},handleSubscriptionSaveError:function(){var e="Something went wrong. Try refreshing the page.";this.$validator.showErrors({keyword_search:e})},isSubscribed:function(){var e=this.model.get("query"),t=this.model.get("trigger");return!!this.options.user.get("subscriptions").findByQueryAndTrigger(e,t)}}),App.Views.SubscriptionButtons=App.Views.BaseView.extend({template:JST["templates/subscription_buttons"],initialize:function(){this.listenTo(this.collection,"error",this.handleSubscriptionSaveError),this.listenTo(this.collection,"sync",this.handleSubscriptionSaveSuccess),this.modelViews=[],this.createModelViews(),this.render()},render:function(){return this.$el.html(this.template()),this.renderModelViews(),this.$el},renderModelViews:function(){this.modelViews.each(this.renderModelView,this)},renderModelView:function(e){this.$el.append(e.render())},createModelViews:function(){this.collection.each(this.createModelView,this)},createModelView:function(e){this.modelViews.push(new this.options.modelView({model:e,user:this.options.user}))},handleSubscriptionSaveError:function(){this.$(".error").removeClass("hide")},handleSubscriptionSaveSuccess:function(){this.$(".error").addClass("hide")}}),App.Views.AltSubscriptionModule=App.Views.BaseView.extend({template:JST["templates/alt_subscription_module"],events:{"click .subscription-create":"handleSubscriptionCreateClick"},initialize:function(){_.bindAll(this,"render"),this.model=new App.Models.Subscription({user_id:this.options.userID,trigger:this.options.trigger,name:this.options.name||null,query:{categories:this.options.categories||null,flags:this.options.flags||null,genders:this.options.genders||null,merchants:this.options.merchants||null,search_string:this.options.searchString||null}}),this.render()},render:function(){return this.$el.html(this.template())},handleSubscriptionCreateClick:function(){this.model.save().done(this.render)}}),App.Views.ExpandableCoupons=App.Views.BaseView.extend({template:JST["templates/expandable_coupons"],events:{"click .more-coupons":"handleCouponFetch"},initialize:function(){_.bindAll(this,"enableButton"),this.collection.on("sync",this.render,this),this.render()},render:function(){return this.$el.html(this.template()),this.collectionView&&this.collectionView.remove(),this.createViews(),this.$el},createViews:function(){this.collectionView=new App.Views.CouponTiles({el:"#coupon-collection",collection:this.collection}),this.collectionView.render()},handleCouponFetch:function(){this.disableButton(),this.collection.fetchNext().fail(this.enableButton)},enableButton:function(){this.$(".more-coupons").removeClass("disabled")},disableButton:function(){this.$(".more-coupons").addClass("disabled")}}),App.Views.ExpandableDeals=App.Views.BaseView.extend({template:JST["templates/expandable_deals"],events:{"click .more-deals":"handleDealFetch"},initialize:function(){_.bindAll(this,"enableButton"),this.collection.on("sync",this.render,this),this.render()},render:function(){return this.$el.html(this.template()),this.collectionView&&this.collectionView.remove(),this.createViews(),this.$el},createViews:function(){this.collectionView=new App.Views.DealTiles({el:"#deal-collection",collection:this.collection,itemClassName:"col large-3 medium-3 small-6"}),this.collectionView.render()},handleDealFetch:function(){this.disableButton(),this.collection.fetchNext().fail(this.enableButton)},enableButton:function(){this.$(".more-deals").removeClass("disabled")},disableButton:function(){this.$(".more-deals").addClass("disabled")}}),App.Views.ExpandableBlogPosts=App.Views.BaseView.extend({template:JST["templates/expandable_blog_posts"],events:{"click .more-posts":"handlePostFetch"},initialize:function(){_.bindAll(this,"enableButton"),this.collection.on("sync",this.render,this),this.render()},render:function(){return this.$el.html(this.template()),this.collectionView&&this.collectionView.remove(),this.createViews(),this.$el},createViews:function(){this.collectionView=new App.Views.BlogPostTiles({el:"#blog-post-collection",collection:this.collection}),this.collectionView.render()},handlePostFetch:function(){this.disableButton(),this.collection.fetchNext().fail(this.enableButton)},enableButton:function(){this.$(".more-posts").removeClass("disabled")},disableButton:function(){this.$(".more-posts").addClass("disabled")}}),App.Views.BlogPostTile=App.Views.CollectionItemView.extend({template:JST["templates/blog_post_tile"],className:"col large-3 medium-4 small-6",tagName:"li",render:function(){return this.$el.html(this.template()),this.$el}}),function(){var e=App.Views.CollectionView.prototype;App.Views.BlogPostTiles=App.Views.CollectionView.extend({modelName:"Post",modelView:App.Views.BlogPostTile,initialize:function(){e.initialize.apply(this,arguments),this.initializeViews()}})}(),App.Views.DealsShowPage=App.Views.BaseView.extend({events:{"click .show-details":"handleShowDetailsClick"},initialize:function(){this.showAdvertiserDisclosure(this.model.get("merchant").merchant_rules),this.initEngagementModule(),this.model.get("topic")&&this.initDiscussion(),this.model.isExpired()&&this.triggerExpiredDealDetail()},handleShowDetailsClick:function(){var e=this.$(".expired-details"),t=e.is(":visible")?"Show Details":"Hide Details";this.$(".show-details").text(t),e.slideToggle()},initEngagementModule:function(){this.engagementModuleView=new App.Views.ItemEngagementModule({el:this.$(".engagement-module-container"),model:this.model}),this.engagementModuleView.render()},initDiscussion:function(){App.Dispatcher.trigger("initDiscussion",this.model.get("topic"),{discussionOpen:!1})},triggerExpiredDealDetail:function(){var e=moment().diff(this.model.get("expires_at"),"hours");App.Dispatcher.trigger("expiredDealDetail",{id:this.model.get("id"),expired:e})},getVariant:function(){return $("html").data("variant")||App.Data.currentUrlParameters().r}}),App.Views.DealTile=App.Views.CollectionItemView.extend({template:JST["templates/deals/tile"],tagName:"li",className:"col large-4 medium-4 small-6",attributes:function(){return{"data-position":this.options.index,"data-id":this.model.get("id"),"data-item-type":"deal","data-flags":this.model.get("flag_slugs")}},render:function(){return this.$el.html(this.template()),this.model.get("merchant").merchant_rules.advertising_disclosure&&(App.Dispatcher.trigger("showAdvertiserDisclosure"),this.$(".advertiser-disclosure-link").attr("hidden",!1)),this.$el}}),function(){var e=App.Views.CollectionView.prototype;App.Views.DealTiles=App.Views.CollectionView.extend({modelName:"Deal",modelView:App.Views.DealTile,initialize:function(){e.initialize.apply(this,arguments),this.render()}})}(),function(){var e=App.Views.CollectionView.prototype;App.Views.DealTilesWithBookmarks=App.Views.CollectionView.extend({modelName:"Deal",modelView:App.Views.DealTileWithBookmark,initialize:function(){e.initialize.apply(this,arguments),this.render()}})}(),App.Views.StaleDealModule=App.Views.BaseView.extend({template:JST["templates/stale_deal_module"],events:{"click .close-button":"remove"},initialize:function(){this.render()},render:function(){this.$el.html(this.template())}}),App.Views.Travel=App.Views.BaseView.extend({el:"#travel",initialize:function(e){App.Dispatcher.on("travel:pillClick",this.handlePillClick,this),e.slug?this.handlePillClick(e.slug):(this.createDealCollection(e),this.createDealView(this.dealCollection),this.createCouponCollection(e),this.createCouponView(this.couponCollection),this.createPostCollection(e),this.createBlogPostView(this.postCollection)),this.travelPills=new App.Views.TravelPills(e)},handlePillClick:function(e){this.updateLocation(e),this.updateTracking(e),this.handleDealsChange(e),this.handleCouponsChange(e),this.handlePostsChange(e)},updateLocation:function(e){var t=App.Routes.travel_path();"everything"!==e&&(t=t+"?slug="+e),history.pushState&&history.pushState({path:t},"",t)},updateTracking:function(e){"everything"===e&&(e="");var t="Travel Category Page - Deal List "+e;$("#deals").data("module",t.trim())},handleDealsChange:function(e){var t={};t.slug=e,this.expandableDealsView&&this.expandableDealsView.show(),this.createDealCollection(t),this.createDealView(this.dealCollection),this.dealCollection.on("sync",function(){this.dealCollection.isEmpty()&&this.expandableDealsView.hide()},this),this.dealCollection.fetchNext()},handleCouponsChange:function(e){var t={};t.slug=e,this.expandableCouponsView&&this.expandableCouponsView.hide(),"everything"===e&&(this.expandableCouponsView.show(),this.createCouponCollection(t),this.createCouponView(this.couponCollection),this.couponCollection.fetchNext())},handlePostsChange:function(e){var t={};t.slug=e,this.expandableBlogPostsView&&this.expandableBlogPostsView.show(),this.createPostCollection(t),this.createBlogPostView(this.postCollection),this.postCollection.on("sync",function(){this.postCollection.isEmpty()&&this.expandableBlogPostsView.hide()},this),this.postCollection.fetchNext()},createDealCollection:function(e){e=this.configureDealOptions(e),this.dealCollection&&this.dealCollection.remove(),this.dealCollection=new App.Collections.Deals(e.records,{total:e.total,limit:8,query:e.query})},createCouponCollection:function(e){var t,i=[];this.couponCollection&&this.couponCollection.remove(),e.couponsResponseJSON&&(i=e.couponsResponseJSON.records,t=e.couponsResponseJSON.total),this.couponCollection=new App.Collections.Coupons(i,{total:t,limit:6,query:{category_slug:"travel",sort:"start",type:"promotion",limit_per_merchant:1}})},createPostCollection:function(e){e=this.configurePostOptions(e),this.postCollection&&this.postCollection.remove(),this.postCollection=new App.Collections.BlogPosts(e.records,{total:e.total,limit:8,query:e.query})},configureDealOptions:function(e){var t={records:[],query:{sort:"start"}};return e.dealsResponseJSON&&(t.records=e.dealsResponseJSON.records,t.total=e.dealsResponseJSON.total),e.slug&&"everything"!==e.slug?t.query.flag_slug=e.slug:t.query.category_slug="travel",t},configurePostOptions:function(e){var t={records:[],query:{include:"id,slug,thumbnail,title"}};return e.blogPostsResponseJSON&&(t.records=e.blogPostsResponseJSON.records,t.total=e.blogPostsResponseJSON.total),e.slug&&"everything"!==e.slug?t.query.tag_slug=e.slug:t.query.category_slug="travel",t},createDealView:function(e){this.expandableDealsView&&this.expandableDealsView.sever(),this.expandableDealsView=new App.Views.ExpandableDeals({el:"#deals",collection:e})},createCouponView:function(e){this.expandableCouponsView&&this.expandableCouponsView.sever(),this.expandableCouponsView=new App.Views.ExpandableCoupons({el:"#coupons",collection:e})},createBlogPostView:function(e){this.expandableBlogPostsView&&this.expandableBlogPostsView.sever(),this.expandableBlogPostsView=new App.Views.ExpandableBlogPosts({el:"#blog-posts",collection:e})}}),App.Views.TravelPills=App.Views.BaseView.extend({el:"#pill-container",template:JST["templates/travel_pills"],events:{"click .pill-button":"handlePillClick"},initialize:function(e){var t=(e=e||{}).slug;_.bindAll(this,"handlePillClick"),this.render(),t?this.activatePill(t):this.activatePill("everything")},render:function(){return this.$el.html(this.template())},activatePill:function(e){var t=this.$(".pill-button"),i=this.$("[data-slug="+e+"]");t.removeClass("active"),i.addClass("active")},handlePillClick:function(e){e.preventDefault(),this.slug=$(e.target).closest("a.pill-button").data("slug"),this.activatePill(this.slug),App.Dispatcher.trigger("travel:pillClick",this.slug)}});var Coreg=function(){function e(){if(t()){if(i())return s();r.reject({errors:d,created:!1})}else r.reject({errors:h,created:!1})}function t(){return _.every(_.keys(l),function(e){return _.contains(p,e)&&!_.isEmpty(l[e])},this)}function i(){return _.every(c,function(e){return _.has(l,e)},this)}function s(){$.ajax({type:"post",url:App.Routes.users_path(),data:l,dataType:"json",success:n,error:o})}function n(e){e.user&&!0===e.user.created?(App.Dispatcher.trigger("initUserApplication",e.user),r.resolve({errors:null,email:e.user.email,created:!0})):r.reject({errors:a(e),
created:!1})}function o(e){r.reject({errors:a(e.responseJSON),created:!1})}function a(e){return e.user?"User already exists.":e.errors?e.errors.email?"Invalid email address":e.errors:"Something went wrong"}var r,l,p=["email","medium","signuplocation"],c=["email","medium"],d="Require fields not present",h="Missing values or invalid fields";return this.signUp=function(t){return t=t||{},r=$.Deferred(),l=t,e(),r},this}();App.Lib.Deferred=function(){var e=this;this.promise=new Promise(function(t,i){e.resolve=t,e.reject=i})};var Prebid=function(e){function t(){pbjs.initAdserverSet||(pbjs.initAdserverSet=!0,googletag.cmd.push(function(){pbjs.que.push(function(){pbjs.setTargetingForGPTAsync(),i.resolve()})}))}e=e||[];var i,s=1e3,n=3e3,o={buckets:[{min:0,max:2,increment:.1},{min:2,max:5,increment:.25},{min:5,max:10,increment:.5},{min:10,max:20,increment:.75},{min:20,max:100,increment:1}]};this.bid=function(){return i=$.Deferred(),e.length?(pbjs.que.push(function(){pbjs.addAdUnits(e),pbjs.setConfig({bidderTimeout:s,priceGranularity:o}),pbjs.requestBids({bidsBackHandler:t})}),setTimeout(t,n),i):i.resolve()}};App.Lib.PageItems=function(e){function t(e){n.add(e.models)}function i(e){n.add(e)}var s=this;if(!e||e.prototype.get!==Backbone.Collection.prototype.get)throw new Error("CollectionClass must be a Backbone Collection");var n=new e;return s.get=function(e){return n.get(e)},s.add=function(e){return n.add(e)},s.registerCollection=function(e){t(e),e.on("sync",t),e.on("add",i)},s},App.Data.facebook={sdk_uri:"//connect.facebook.net/en_US/sdk.js"},App.Data.google={sdk_uri:"//apis.google.com/js/client:platform.js"},App.Data.AdSlots={nativeLocations:["deal-feed-1","deal-feed-2","deal-feed-3","deal-feed-4","deal-feed-5","deal-feed-6","deal-feed-7"]},App.Data.PageItems.Deals=new App.Lib.PageItems(App.Collections.Deals),App.Data.PageItems.Coupons=new App.Lib.PageItems(App.Collections.Coupons),App.Data.PageItems.Merchants=new App.Lib.PageItems(App.Collections.Merchants),(App.GoLinks={initialize:function(){_.bindAll(this,"handleGoLinkClick","handleDealGoLinkClick","handleCouponGoLinkClick","handleMerchantGoLinkClick","sendGoogleTagManagerEvent"),this.registerEvents()},registerEvents:function(){$(document).on("click",'a[href*="/go/p/"]',this.handleDealGoLinkClick),$(document).on("click",'a[href*="/go/c/"]',this.handleCouponGoLinkClick),$(document).on("click",'a[href*="/go/m/"]',this.handleMerchantGoLinkClick)},handleDealGoLinkClick:function(e){this.sendGoogleTagManagerEvent("deal"),this.handleGoLinkClick(e,"deal")},handleMerchantGoLinkClick:function(e){this.sendGoogleTagManagerEvent("merchant"),this.handleGoLinkClick(e,"merchant")},handleCouponGoLinkClick:function(e){this.sendGoogleTagManagerEvent("coupon"),this.handleGoLinkClick(e,"coupon")},handleGoLinkClick:function(e,t){e.preventDefault();var i=this.parseItemId(e.currentTarget.href);App.Dispatcher.trigger("goLinkClick",{itemType:t,itemId:i});var s=$(e.currentTarget),n=s.attr("href")+"?"+this.eventQueryParams(s);this.openGoLink(n,window)},openGoLink:function(e,t){this.isFacebookInAppBrowser(navigator.userAgent)?t.location.replace(e):t.open(e)},isFacebookInAppBrowser:function(e){return/FB_IAB/.test(e)},sendGoogleTagManagerEvent:function(e){window.dataLayer=window.dataLayer||undefined,dataLayer&&dataLayer.push({event:"goLinkClick",itemType:e})},eventQueryParams:function(e){var t=e.parents("[data-module]"),i=e.parents("[data-position]"),s={channel:"web",url:window.location.protocol+"//"+window.location.hostname+window.location.pathname},n=$("html").attr("data-loc");n!==undefined&&(s.location=n);var o=t.data("module");o!==undefined&&(s.module=o);var a=i.data("position");return a!==undefined&&(s.position=a+1),$.param(s)},parseItemId:function(e){var t=(e=e||"").match(/\/go\/[pcm]\/(\d+)/);if(t&&2==t.length)return parseInt(t[1])}}).initialize(),(App.Forms={initialize:function(){$(document).on("change","#show_password",this.togglePassword)},togglePassword:function(e){var t=$(e.target);t.closest("form").find('input[name="password"]').prop({type:t.is(":checked")?"text":"password"})}}).initialize(),App.Forms.Validations={rules:{comment_body:{required:!0,maxlength:1e3},password:{required:!0,minlength:8},password_confirmation:{equalTo:"#new_password"},current_password:{required:!0},email:{required:!0,email:!0}},messages:{comment_body:{required:"You'll need some words to go with that.",maxlength:"We want you to share, just not so much. (1000 characters please)"},password:{required:"You'll need tell us what you want your <em>password</em> to be.",minlength:"Make sure your <em>password</em> is at least 8 characters."},password_confirmation:{equalTo:"Please make sure your passwords match."},current_password:{required:"Please enter your current <em>password</em>."},email:{required:"Please enter your email address.",email:"Make sure your email address is entered correctly and try again."}},errorPlacement:{before:function(e,t){e.insertBefore(t)},inputListBefore:function(e,t){e.addClass("error"),t.closest("li").before(e)}},showErrors:{inline:function(e){var t=$(this.currentForm).find("label");t.removeClass("error");var i=this.groups;_.each(e,function(e,s){var n=$(App.Forms.Validations.__determineLabel(i,s,t));n.find("span.error").html(e),n.addClass("error")})}},contestProfileForm:function(){return{onfocusout:!1,onkeyup:!1,rules:{first_name:{required:!0},last_name:{required:!0},password:App.Forms.Validations.rules.password,location:{required:!0},day:{required:!0},month:{required:!0},year:{required:!0}},groups:{full_name:"first_name last_name",birthday:"month day year"},messages:{first_name:"Be sure to include your <em>first and last name</em>.",last_name:"Be sure to include your <em>first and last name</em>.",password:App.Forms.Validations.messages.password,location:"Be sure to include your <em>location</em>.",day:"Be sure to include your <em>birthday</em>.",month:"Be sure to include your <em>birthday</em>.",year:"Be sure to include your <em>birthday</em>."},showErrors:App.Forms.Validations.showErrors.inline}},__determineLabel:function(e,t,i){return i.filter("[for="+t+"]")[0]||(s=_.inject(_.pairs(e),function(i,s){return s[1]===e[t]&&i.push(s[0]),i},[]),n=_.map(s,function(e){return"label[for="+e+"]"}).join(","),i.filter(n)[0]);var s,n}},(App.Forms.Password={initialize:function(){this.initValidation()},initValidation:function(){$(".password-edit-form").validate({errorLabelContainer:".errors",rules:{password:App.Forms.Validations.rules.password},messages:{password:App.Forms.Validations.messages.password}})}}).initialize(),App.Forms.Profile={setSavedMessage:function(e){var t=e.find(".submit-list");t.find(".form-notice").remove();var i=$('<li class="form-notice success icon checkmark">Saved</li>');i.one("webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend",function(){$(this).remove()}),t.append(i)}},(App.FB={initialize:function(){App.Dispatcher.on("initializeFacebook",this.initializeApplication,this)},initializeApplication:function(e){_.bindAll(this,"handleFacebookLoginClick","initializeFacebook","manageFacebookLoginResponse","handleFacebookLoginSuccess"),_.extend(App.Data.facebook,e),this.loadFacebookSDK()},loadFacebookSDK:function(){var e=this;$(function(){$.ajax({dataType:"script",cache:!0,url:App.Data.facebook.sdk_uri,success:e.initializeFacebook})})},initializeFacebook:function(){FB.init({appId:App.Data.facebook.app_id,version:"v2.12",status:!0,cookie:!0,xfbml:!0}),this.registerEvents()},registerEvents:function(){$(document).on("click",".facebook-login-button.signup",this.handleFacebookLoginClick),App.Dispatcher.on("bdFacebookShare",this.handleFacebookShare)},disableEvents:function(){$(document).off("click",".facebook-login-button.signup",this.handleFacebookLoginClick),App.Dispatcher.off("bdFacebookShare")},handleFacebookLoginClick:function(){var e={scope:"email"};return this.disableEvents(),this.deferred=new App.Lib.Deferred,FB.login(this.manageFacebookLoginResponse,e),this.deferred.promise},handleFacebookShare:function(e){FB.ui({method:"feed",link:e.model.shareURL()})},manageFacebookLoginResponse:function(e){e.authResponse?this.requestUser({access_token:e.authResponse.accessToken}).done(this.handleFacebookLoginSuccess):(this.registerEvents(),this.deferred.reject({errors:"unable to signin to facebook",created:!1}),$(document).trigger("bdForm:failure"))},handleFacebookLoginSuccess:function(e){this.registerEvents(),this.deferred.resolve(e),this.deferred.promise.then(this.setCurrentUser)},setCurrentUser:function(e){App.Dispatcher.trigger("initUserApplication",e),$(document).trigger("externalForm:success"),App.Dispatcher.trigger("socialLoginSuccess")},requestUser:function(e){return $.ajax({type:"POST",url:"/facebook",data:e})}}).initialize(),(App.Google={initialize:function(){App.Dispatcher.on("initializeGoogle",this.initializeApplication,this)},initializeApplication:function(e){_.bindAll(this,"handleGoogleLoginClick","googleTokenSuccess","handleGoogleLoginSuccess"),_.extend(App.Data.google,e),this.loadGoogleSDK(),this.registerEvents()},loadGoogleSDK:function(){var e=this;$(function(){$.ajax({dataType:"script",cache:!0,url:App.Data.google.sdk_uri,success:e.initializeGoogle})})},initializeGoogle:function(){gapi.load("auth2",function(){App.Google.auth2=gapi.auth2.init({client_id:App.Data.google.app_id})})},registerEvents:function(){$(document).on("click",".google-login-button.signup",this.handleGoogleLoginClick)},disableEvents:function(){$(document).off("click",".google-login-button.signup",this.handleGoogleLoginClick)},handleGoogleLoginClick:function(){return this.deferred=new App.Lib.Deferred,this.auth2.grantOfflineAccess({redirect_uri:"postmessage"}).then(this.googleTokenSuccess,this.googleError),this.deferred.promise},googleTokenSuccess:function(e){e.code&&this.requestUser({token:e.code}).success(this.handleGoogleLoginSuccess).error(this.googleError)},googleError:function(e){this.deferred.reject({errors:e,created:!1})},handleGoogleLoginSuccess:function(e){this.registerEvents(),this.deferred.resolve(e),this.deferred.promise.then(this.setCurrentUser)},setCurrentUser:function(e){App.Dispatcher.trigger("initUserApplication",e),$(document).trigger("externalForm:success"),App.Dispatcher.trigger("socialLoginSuccess")},requestUser:function(e){return $.ajax({type:"POST",url:"/google",data:e})}}).initialize(),(App.Twitter={initialize:function(){App.Dispatcher.on("initializeTwitter",this.initTwitter,this)},initTwitter:function(){$.getScript("https://platform.twitter.com/widgets.js")}}).initialize(),App.UserHelpers={logIn:function(e){return $.ajax({type:"POST",url:"/sessions",dataType:"json",data:{email:e}}).done(this.initializeUser)},initializeUser:function(e){App.Controllers.UserApplicationController.initApplication(e.user)}},(App.FuzzyTime={fuzzyTimeAttributes:"[data-created-at]",initialize:function(){App.Dispatcher.on("bdFuzzyTime:initialize",this.initFuzzyTime,this)},initFuzzyTime:function(){_.each($(this.fuzzyTimeAttributes),this.setFuzzyTime)},setFuzzyTime:function(e){var t=$(e);t.text(moment(t.data("created-at")).fromNow())}}).initialize(),(App.Scrolling={viewDidScroll:!1,initialize:function(){_.bindAll(this,"onViewScroll","onScrollTimeOut"),App.Dispatcher.on("trackScrolling",this.initScrollTracking,this)},initScrollTracking:function(){$(window).on("scroll",this.onViewScroll),this.scrollTimer=setInterval(this.onScrollTimeOut,150)},onViewScroll:function(){this.viewDidScroll=!0},onScrollTimeOut:function(){this.viewDidScroll&&(App.Dispatcher.trigger("viewDidScroll"),this.viewDidScroll=!1)}}).initialize(),(App.Controllers.AcquisitionsController={initialize:function(){_.bindAll(this,"toggleModal","determineAcquisitionModal"),App.Dispatcher.on("bdAcquisition:initialize",this.initFlow,this),App.Dispatcher.on("initAcquisitionLandingV2",this.initAcquisitionLandingV2,this)},initFlow:function(e){this.params=e,/dd_/.test(e.v)||this.defaultFlow(),$(".view-metrics").hide()},initAcquisitionLandingV2:function(e){new App.Views.AcquisitionLandingV2({el:e})},defaultFlow:function(){this.params.user&&!this.params.user.loggedIn()&&this.hackBackButton()},hackBackButton:function(){var e=window.location.search.replace("?modal=y&","?");e=e.replace(/.modal=y/,""),History.replaceState({showModal:!1},document.title,e),$(window).on("statechange",this.toggleModal),e+=e.length?"&":"?",History.pushState({showModal:!0},document.title,e+"modal=y")},toggleModal:function(){History.getState().data.showModal?this.showSignUpModal():this.hideSignUpModal()},determineAcquisitionModal:function(){return"m2"===this.params.v||"m3"===this.params.v?App.Views.AcquisitionSignUpModalAlt:App.Views.AcquisitionSignUpModal},showSignUpModal:function(){var e=_.extend({modalClass:this.determineAcquisitionModal()},this.params);App.Dispatcher.trigger("showModal",e)},hideSignUpModal:function(){App.Dispatcher.trigger("hideModal",this.params)}}).initialize(),(App.Controllers.OauthController={initialize:function(){App.Dispatcher.on("initAlexa",this.initAlexa,this),App.Dispatcher.on("initAlexaPasswordSignIn",this.initSignIn,this)},initAlexa:function(){this.signUpForm&&this.signUpForm.sever(),this.passwordSignInForm&&this.passwordSignInForm.sever(),App.Data.currentUser.get("id")?this.initAuthorizationForm():this.initSignUpForm()},initSignUpForm:function(){this.signUpForm=new App.Views.AlexaSignUp({el:"#alexa-form"})},initAuthorizationForm:function(){this.authorizationForm=new App.Views.AlexaAuthorization({el:"#alexa-form"})},initSignIn:function(e){this.signUpForm&&this.signUpForm.sever(),this.passwordSignInForm=new App.Views.AlexaPasswordSignIn({el:"#alexa-form",user:e})}}).initialize(),(App.Controllers.Ads={initialize:function(){window.abp||(App.Dispatcher.on("initializeAdvertisements",this.initializeAdvertisements,this),App.Dispatcher.on("initializeNativeAds",this.initializeNativeAds,this)),App.Dispatcher.on("needsStickyAds",this.initFixedAd,this),App.Dispatcher.on("disableStickyAds",this.disableStickyAds,this)},defaults:{unit:"/1053034/BradsDeals_Misc",environment:"development",divIds:{leaderboard:"gpt-ad-leaderboard",promo:"gpt-ad-promo",top:"gpt-ad-top",middle:"gpt-ad-middle",bottom:"gpt-ad-bottom"},sizes:{leaderboard:[[728,90],[970,90]],promo:[[300,250],[300,125]],top:[300,250],middle:[300,250],bottom:[[300,250],[300,600]]},positions:{}},mergeDefaults:function(e,t){return e.unit=e.unit||t.unit,e.environment=e.environment||t.environment,e.targeting=e.targeting||{},e.targeting.environment=e.environment,e.sizes=_.defaults(e.sizes||{},t.sizes),e.divIds=t.divIds,e.positions=e.positions||t.positions,e},initializeAdvertisements:function(e){this.options=e=this.mergeDefaults(e,this.defaults);var t=this.renderBatchAds(e.divIds);this.handleSmallScreenAds(document.documentElement.clientWidth),_.each(e.divIds,function(t,i){var s=e.positions[i]&&e.positions[i].sizes||e.sizes[i],n={pos:i},o=$("#"+t);!(e.positions[i]&&e.positions[i].disabled)&&o.length?googletag.cmd.push(this.createSlot(e.unit,s,t,n)):o.remove()},this),googletag.cmd.push(this.initGlobalSettings(e.targeting));var i=[];_.each(e.positions,function(t,s){var n=e.divIds[s],o=e.sizes[s],a=[];n&&t.bidders&&(_.each(t.bidders,function(e){a.push({bidder:e.name,params:e.params})}),i.push({code:n,sizes:o,bids:a}))}),new Prebid(i).bid().done(function(){googletag.cmd.push(t)})},initializeNativeAds:function(e){(e=e||[]).forEach(function(e,t){var i=["fluid",[1,1],[870,250],[350,400]],s={pos:"native",slot:t+1};googletag.cmd.push(this.createSlot(this.options.unit,i,e,s))},this),googletag.cmd.push(this.renderBatchAds(e))},handleSmallScreenAds:function(e){e<760&&$("#gpt-ad-leaderboard").remove()},initGlobalSettings:function(e){return function(){googletag.pubads().collapseEmptyDivs(),_.each(e,function(e,t){googletag.pubads().setTargeting(t,e.toString())}),googletag.enableServices()}},createSlot:function(e,t,i,s){return s=s||{},function(){var n=googletag.defineSlot(e,t,i).addService(googletag.pubads());_.each(s,function(e,t){n.setTargeting(t,e.toString())})}},renderBatchAds:function(e){return function(){_.each(e,function(e){googletag.display(e)})}},setFixedAd:function(){var e=$(".sticky"),t=e.find("> div"),i=$(window).height()+$(window).scrollTop()>$(".body-content").offset().top+$(".body-content").innerHeight(),s=120;$(window).scrollTop()>e.offset().top-s?i?t.removeClass("fixed").css({position:"absolute",bottom:$(window).height()-t.innerHeight()}):t.css({position:"",bottom:""}).addClass("fixed"):t.removeClass("fixed").css({position:"",bottom:""})},initFixedAd:function(){($("#internal-ridealong").css({display:"block"}),"matchMedia"in window)&&(window.matchMedia("(min-device-width: 700px)").matches&&App.Dispatcher.on("viewDidScroll",this.setFixedAd,this))},disableStickyAds:function(){App.Dispatcher.off("viewDidScroll")}}).initialize(),(App.Controllers.AppboyController={initialize:function(){App.Dispatcher.on("UIdReady",this.handleUIdReady,this)},handleUIdReady:function(e){window.appboy&&(e&&window.appboy.changeUser(e),appboy.openSession())}}).initialize(),(App.Controllers.ApplicationController={initialize:function(){App.Dispatcher.on("applicationLoaded",this.initApplication,this),App.Dispatcher.on("showAdvertiserDisclosure",this.showAdvertiserDisclosure,this)},initApplication:function(e){App.Data.currentUser=new App.Models.User,this.user=App.Data.currentUser,this.initMobileCode(),this.initCookies(),this.initUserApplication(),this.initConfirmation(),App.Dispatcher.trigger("initModals"),App.Dispatcher.once("bdUserReady",this.initAcquisition,this),"lightPage"!==e&&(this.initAdvertisements(),this.initFuzzyTime(),this.initScrollTracking(),this.initInlineSubscribe(),this.initContactUs(),this.initNavigation(),this.initSocialShare())},initAcquisition:function(){var e=App.ViewHelpers.hashFromQueryString(window.location.search);"true"!==e.acq||App.ViewHelpers.isDealDetailAndExpired()||(e.user=this.user,App.Dispatcher.trigger("bdAcquisition:initialize",e))},initConfirmation:function(){App.Dispatcher.trigger("initConfirmation")},initFuzzyTime:function(){App.Dispatcher.trigger("bdFuzzyTime:initialize")},initAdvertisements:function(){var e=App.Data.currentUrlParameters(),t="true"===e.acq||"true"===e.newsub||"false"===e.newsub,i=!!$("body.deal-detail-page").length;t&&i?$("#gpt-ad-leaderboard, #gpt-ad-promo, #gpt-ad-top, #gpt-ad-middle, #gpt-ad-bottom").remove():App.Dispatcher.trigger("initializeAdvertisements",App.Data.AdSlots)},initUserApplication:function(){var e=this.triggerUserInit,t=function(e){$.ajax(_.extend({url:"/me.json",type:"GET"},e))};t({success:e,error:function(){t({url:"/me.json?retry=true",success:e,error:e})}})},initScrollTracking:function(){App.Dispatcher.trigger("trackScrolling")},initNavigation:function(){App.Dispatcher.trigger("initNavigation")},triggerUserInit:function(e){var t=e.user&&e.user.md5_hash;App.Dispatcher.trigger("initUserApplication",e.user),$("head").append('<meta content="authenticity_token" name="csrf-param"><meta name="csrf-token" content="'+e.token+'"/><meta name="user-md5-hash" content="'+t+'"/>'),$('form input[name="authenticity_token"]').val(e.token)},initMobileCode:function(){App.Dispatcher.trigger("initMobileCode")},initInlineSubscribe:function(){App.Dispatcher.on("initInlineSubscribe",function(){new App.Views.InlineSubscriptionForm({el:"#subscription-form",model:App.Data.currentUser})})},initCookies:function(){App.Dispatcher.trigger("initCookies")},showAdvertiserDisclosure:function(){$(".advertiser-disclosure").attr("hidden",!1)},initContactUs:function(){App.Dispatcher.on("initContactUs",function(){new App.Views.ContactUs({el:".body-content"})})},initSocialShare:function(){App.Dispatcher.trigger("initSocialShare")}}).initialize(),(App.Controllers.BlogsController={initialize:function(){App.Dispatcher.on("initializeBlogPostShow",this.initShow,this)},initShow:function(e){var t=new App.Models.BlogPost(e),i=$("a[data-deal-id]");i.length&&this.renderEmbeddedDeals(i),this.socialMediaWidget=new App.Views.SocialMediaWidget({el:$(".social-media-widget"),model:t}),this.commentLinkModule=new App.Views.CommentLinkModule({el:$("footer.row .chat-pack"),model:t}),App.Dispatcher.trigger("initDiscussion",t.get("topic"))},renderEmbeddedDeals:function(e){e.each(function(e,t){var i=$(t),s=new App.Models.Deal({id:i.data().dealId}),n=new App.Views.DealsPageItem({model:s,tagName:"div",index:e});s.fetch().done(function(){i.replaceWith(n.render()),n.render()})})}}).initialize(),(App.Controllers.ConfirmationsController={initialize:function(){App.Dispatcher.on("initUserApplication",this.initNewUser,this),App.Dispatcher.on("initConfirmation",this.renderNotifications,this)},renderCompleteSubscription:function(){App.Dispatcher.trigger("addInfo","To complete your subscription, please check your email to confirm your account",0)},renderConfirmation:function(e){"true"===e?App.Dispatcher.trigger("addSuccess","Thank you for signing up to Brad's Deals"):App.Dispatcher.trigger("addError","Unable to confirm email; please try again from your email.")},initNewUser:function(e){e&&e.created&&!e.confirmed&&this.renderCompleteSubscription()},renderNotifications:function(){var e=App.Data.currentUrlParameters();e.confirm&&this.renderConfirmation(e.confirm),e.acqconfirm&&this.renderCompleteSubscription()}}).initialize(),(App.Controllers.ContestsController={initialize:function(){App.Dispatcher.on("initContest",this.initContest,this)},initContest:function(e){this.model=new App.Models.Contest(e),this.entry=new App.Models.Entry,this.contestView=new App.Views.Contest({model:this.model,entry:this.entry,user:App.Data.currentUser,el:"#contest-entry-area"})}}).initialize(),(App.Controllers.CookiesController={TWO_YEARS:730,SESSION_EXPIRE:18e5,initialize:function(){App.Dispatcher.on("initCookies",this.initCookies,this),App.Dispatcher.on("initUserApplication",this.setGenderCookie,this),App.Dispatcher.on("updateTracking",this.setTrackingCookies,this)},initCookies:function(){this.setSessionCookies(),this.setPersistentCookies(),this.setTimestampCookies()},setGenderCookie:function(e){var t=e&&e.gender||"";t=t.toLowerCase(),/[mf]/.test(t)&&this.setCookie("u_g",t,this.TWO_YEARS)},setTimestampCookies:function(){var e=Date.now(),t=parseInt($.cookie("lp_view"))||undefined;this.setCookie("lp_view",e,this.TWO_YEARS),$.cookie("ls_end")&&!this.isSessionExpired(t)||(this.setCookie("ls_end",t),this.setCookie("s_start",e))},isSessionExpired:function(e){return Date.now()-e>=this.SESSION_EXPIRE},setSessionCookies:function(){this.setCookiesFromUrlParameters(["TID","s","medium","signuplocation","utm_campaign","utm_content","utm_medium","utm_source","utm_term"])},setPersistentCookies:function(){this.setCookiesFromUrlParameters(["BD_BETA"],90),this.setCookiesFromUrlParameters(["u_g"],this.TWO_YEARS)},setCookiesFromUrlParameters:function(e,t){var i=App.Data.currentUrlParameters(),s=this.setCookie;e.forEach(function(e){var n=i[e.toLowerCase()]||i[e.toUpperCase()];n!==undefined&&s(e,n,t)})},setTrackingCookies:function(e,t){var i=this.setCookie;_.keys(e).forEach(function(s){i(s,e[s],t)})},setCookie:function(e,t,i){$.cookie(e,t,{expires:i,path:"/"})}}).initialize(),(App.Controllers.DealsController={initialize:function(){App.Dispatcher.on("initDealShow",this.initDealShow,this)},initDealShow:function(e,t){new App.Views.DealsShowPage({el:t,model:App.Data.PageItems.Deals.get(e)})}}).initialize(),(App.Controllers.DiscussionController={initialize:function(){App.Dispatcher.on("initDiscussion",this.initDiscussion,this)},initDiscussion:function(e,t){this.commentsArea=new App.Views.CommentsArea({el:"#comments",model:e,discussionOpen:this.determineDiscussionState(t)}),this.commentsArea.render()},determineDiscussionState:function(e){var t=e&&e.discussionOpen;return t===undefined&&(t=!0),!App.ViewHelpers.detectMobileDevice()&&t}}).initialize(),(App.Controllers.EmailPreferencesController={initialize:function(){_.bindAll(this,"lookupEmailPreferences","revealEmailPreferences","revealEmailGate","knownEmail","initShow"),App.Dispatcher.on("emailPreferencesControllerGateShow",this.initShow),this.options={}},initShow:function(e){e=e||{},this.options.email=e.email||this.options.email,this.options.unsubscribe=e.unsubscribe||this.options.unsubscribe||!1,this.options.newsletterTypes=e.newsletterTypes||this.options.newsletterTypes,this.getMD5QueryParam()||this.knownEmail()?this.lookupEmailPreferences():(App.Dispatcher.on("bdUserReady",this.initShow,this),this.revealEmailGate())},lookupEmailPreferences:function(){new App.Models.EmailPreference({md5:this.md5()}).fetch({success:this.revealEmailPreferences,error:this.revealEmailGate})},revealEmailPreferences:function(e,t){var i;i=e.get("user_id")===App.Data.currentUser.get("id")?App.Data.currentUser:new App.Models.User({id:t.user_id,email:t.email,md5:t.md5}),this.emailGateView&&this.emailGateView.sever(),this.emailPreferencesView=new App.Views.User.EmailPreferences({el:"#email-preferences",model:e,user:i,newsletterTypes:new App.Collections.NewsletterTypes(this.options.newsletterTypes)}),this.options.unsubscribe&&this.revealUnsubscribe(e)},revealEmailGate:function(){this.emailGateView&&this.emailGateView.sever(),this.emailGateView=new App.Views.EmailGate({email:this.knownEmail(),el:"#email-preferences"})},revealUnsubscribe:function(e){App.Dispatcher.trigger("showModal",{modalClass:App.Views.UnsubscribeModal,model:e})},knownEmail:function(){return this.options.email||this.getFillEmail()||this.getEmailQueryParam()||App.Data.currentUser.get("email")},md5:function(){return this.getMD5QueryParam()||CryptoJS.MD5(this.knownEmail().toLowerCase().trim()).toString()},getEmailQueryParam:function(){return App.Data.currentUrlParameters().email?unescape(App.Data.currentUrlParameters().email):null},getMD5QueryParam:function(){return App.Data.currentUrlParameters().md5_hash},getFillEmail:function(){return App.Data.currentUrlParameters().fill?CryptoJS.enc.Base64.parse(App.Data.currentUrlParameters().fill).toString(CryptoJS.enc.Utf8):null}}).initialize(),(App.Controllers.FacebookPixelController={initialize:function(){App.Dispatcher.on("initUserApplication",this.trackSignUp,this),App.Dispatcher.on("goLinkClick",this.trackGoClick,this)},trackSignUp:function(e){var t=App.Data.currentUrlParameters(),i=window.location.pathname;this.isNotLanding(i)&&(e&&e.created||"true"===t.newsub)&&this.sendSignUpEvent(window.fbq)},isNotLanding:function(e){return!e.match(/^\/landing($|\/mobile)$/)},sendSignUpEvent:function(e){e?e("trackCustom","signUp"):this.tryLater(_.bind(this.sendSignUpEvent,this))},trackGoClick:function(e){this.sendGoClickEvent({item_type:e.itemType,item_id:e.itemId},window.fbq)},sendGoClickEvent:function(e,t){t?t("trackCustom","goClick",e):this.tryLater(_.bind(this.sendGoClickEvent,this,e))},tryLater:function(e){setTimeout(function(){e(window.fbq)},200)}}).initialize(),(App.Controllers.HomePageController={initialize:function(){App.Dispatcher.on("initHomePage",this.initHomePage,this)},initHomePage:function(){"hp_pro"===this.getVariant()?(this.homePageProView=new App.Views.HomePagePro({el:".body-content"}),this.homePageWelcomeView=new App.Views.HomePageWelcome({el:"#home-page-welcome",user:App.Data.currentUser}),this.homePageProView.$el.addClass("homepage-pro"),$(".sidebar-steal-of-the-day").show(),$(".sidebar-editors-picks").show()):(this.homePageView=new App.Views.HomePage({el:".body-content"}),$(".editors-pick-series").show())},getVariant:function(){return $("html").data("variant")||App.Data.currentUrlParameters().v}}).initialize(),(App.Controllers.InfiniteScrollController={dangerZone:0,currentIndex:0,wrapperAttr:"data-url",articles:[],listenToDangerZone:!0,getDelay:1e3,initialize:function(){_.bindAll(this,"success","error"),App.Dispatcher.on("initInfiniteScroll",this.initInfiniteScroll,this)},initInfiniteScroll:function(e){e=e||{},this.$window=$(window),this.$document=$(document),this.collection=new App.Collections.Deals,this.scope=e.scope||{},this.$target=$(e.target||".body-content"),$("body").addClass("infinite-scroll"),this.addArticle(this.$target.children(":first")),this.getCollection()},getCollection:function(){this.collection.on("sync",this.initScroll,this),this.collection.fetch({data:this.scope})},initScroll:function(){this.callToAction=new App.Views.InfiniteScrollCallToAction({el:this.$target}),this.setDangerZone(this.callToAction),this.listenToScroll(!0)},listenToScroll:function(e){var t=e?"on":"off";App.Dispatcher[t]("viewDidScroll",this.evalScrollPosition,this)},renderModel:function(e){try{var t=this.collection.at(e);this.resolveRequest(t)}catch(i){throw"Failed to render view"}},resolveRequest:function(e){$.when(this.getPage(e),this.delaySuccess()).then(this.success,this.error)},getPage:function(e){return Backbone.ajax({type:"GET",url:e.url()+location.search+"&variant=infinite",dataType:"html"})},delaySuccess:function(){var e=$.Deferred();return _.delay(function(){e.resolve()},this.getDelay),e},success:function(e){var t=e[0];history.scrollRestoration="manual";var i=this.insertArticle(t);this.initDealShow(this.currentIndex,i),this.currentIndex+=1,this.currentIndex===this.collection.length?this.callToAction.$view.find("div").toggleClass("hide"):this.listenToDangerZone=!0},error:function(){this.callToAction.$view.find("div").toggleClass("hide")},initDealShow:function(e,t){var i=this.collection.at(e);App.Data.PageItems.Deals.add(i),new App.Views.DealsShowPage({el:t,model:i}),App.FuzzyTime.setFuzzyTime(t.find("[data-created-at]")),App.Dispatcher.trigger("infiniteScrollDealLoaded",{id:i.id,position:e+2})},insertArticle:function(e){var t=$(e);return t.addClass("fade-in"),t.insertBefore(this.callToAction.$view),this.addArticle(t),t},evalScrollPosition:function(){var e=this.$window.scrollTop(),t=this.$document.height(),i=this.$window.height(),s=t-e-i,n=e+i/2;this.listenToDangerZone&&this.inDangerZone(s)?(this.listenToDangerZone=!1,this.renderModel(this.currentIndex)):this.evalCurrentPath(n)},setDangerZone:function(e){return this.dangerZone=this.$document.height()-e.$view.offset().top,this.dangerZone},inDangerZone:function(e){return e<this.dangerZone},addArticle:function(e){this.articles.push(e)},evalCurrentPath:function(e){var t=_.find(this.articles,function(t){return t.offset().top+t.height()>e},this);if(t){var i=t.attr(this.wrapperAttr);if(location.pathname!==i){var s=t.find("h1").text();document.title=s,history.replaceState(null,null,i+location.search)}}}}).initialize(),(App.Controllers.LiveIntentController={initialize:function(){window.liQ=window.liQ||[];var e=$.Deferred(),t=$.Deferred();App.Dispatcher.on("goLinkClick",this.handleGoLinkClick,this),App.Dispatcher.once("initDealShow",e.resolve,this),App.Dispatcher.once("bdUserReady",t.resolve,this),$.when(e,t).then(this.handleDealShow.bind(this))},handleGoLinkClick:function(e){e=e||{};var t=this.getDeal(e.itemId);this.canSendEvent(e,t)&&this.sendLIEvent({amount:this.price(t),currency:"USD",event:"conversion",name:"product_purchase",email:this.email(),items:[{id:this.id(t),price:this.price(t),quantity:1,currency:"USD"}]})},handleDealShow:function(e){var t=this.getDeal(e[0]);t&&this.sendLIEvent({contentId:this.id(t),contentType:"Product",email:this.email(),event:"viewContent",name:this.name(t)})},getDeal:function(e){return App.Data.PageItems.Deals.get(e)},sendLIEvent:function(e){window.liQ&&window.liQ.push(e)},canSendEvent:function(e,t){return"deal"===e.itemType&&t},email:function(){return App.Data.currentUser.get("email")},price:function(e){return parseFloat(e.get("price"))},id:function(e){return"p"+e.get("id")},name:function(e){return e.get("title")}}).initialize(),(App.Controllers.MobileDevicesController={initialize:function(){App.Dispatcher.on("initMobileCode",this.initMobileCode,this),App.Dispatcher.on("initMobileNav",this.initMobileNav,this),App.Dispatcher.on("toggleiPhoneViewport",this.toggleiPhoneViewport,this)},initMobileCode:function(){App.ViewHelpers.detectMobileDevice()&&this.setMobileTouchHelper(),this.detectResponsiveLayout(),this.initFooterExpander(),this.initCategoryDrawer()},initMobileNav:function(e){this.mobileSearchView=new App.Views.MobileSearchView({el:".autocomplete-container",searchApiUrl:e}),this.mobileMenuView=new App.Views.MobileMenuView({el:"nav.site-wide"})},toggleiPhoneViewport:function(e){if(/iPhone|iPod/.test(navigator.userAgent)){var t=$(".leaderboard, header, .spanning, .body-content, footer");"hide"===e?(t.show(),$('meta[name="viewport"]').attr("content","initial-scale=-1.0, maximum-scale=-1.0")):"show"===e&&(t.hide(),$('meta[name="viewport"]').attr("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1"))}},detectResponsiveLayout:function(){$("body").hasClass("responsive")&&App.Dispatcher.off("toggleiPhoneViewport")},setMobileTouchHelper:function(){$("body").addClass("mobile-touch-helper")},initFooterExpander:function(){
$(document).on("click",".footer-expander",function(){$(".text-container").toggleClass("fade-in"),$(this).toggleClass("arrow-down arrow-up")})},initCategoryDrawer:function(){$(document).on("click",".category-expander",function(){$(".category-drawer").toggleClass("fade-in"),$(this).toggleClass("arrow-down arrow-up")})}}).initialize(),(App.Controllers.Modals={initialize:function(){App.Dispatcher.on("initModals",this.initModals,this)},initModals:function(){var e=App.Data.currentUrlParameters();this.createModalOverlay(),_.bindAll(this,"modalLinkClick","hideModalLinkClick","handleFormSuccess"),$(document).on("click",".modal-link",this.modalLinkClick),$(document).on("click","#modal-overlay",this.hideModalLinkClick),$(document).on("click",".close-modal",this.hideModalLinkClick),$(document).on("externalForm:success",this.handleFormSuccess),App.Dispatcher.on("showModal",this.showModal,this),App.Dispatcher.on("hideModal",this.hideModal,this),e.m&&this.showModalByName(e.m)},showModal:function(e){if(!e.modalClass&&!e.html)throw"Modal Error: must provide modalClass or html to show a modal";e.html&&!e.modalClass&&(e.modalClass=App.Views.Modal),this.modalView&&this.modalView.sever(),e.el="#modal .content",this.modalView=new e.modalClass(e),this.modalView.render()},showModalByName:function(e){var t=this.lookUpModalClass(e);if(!t)throw"Modal Error: unknown modal name";this.showModal({modalClass:t})},hideModal:function(){this.modalView&&this.modalView.hideModal()},createModalOverlay:function(){if($("#modal").length<1)return $(JST["templates/modal"]()).appendTo("body")},modalLinkClick:function(e){e.preventDefault();var t=$(e.target).data();if(t.modalClass=this.lookUpModalClass(t.modal),!t.modalClass)throw"Modal Error: unknown modal name specified on modal link";this.showModal(t)},hideModalLinkClick:function(e){this.modalView.isClosable()&&("modal-overlay"===e.target.id||$(e.currentTarget).hasClass("close-modal"))&&(e.preventDefault(),App.Dispatcher.trigger("bdResetUserAction"),App.Dispatcher.trigger("bdModalCancel"),this.hideModal())},handleFormSuccess:function(){this.modalView&&this.modalView.isClosable()&&this.hideModal()},lookUpModalClass:function(e){return{login:App.Views.LoginModal,create_profile:App.Views.CreateProfileModal,sign_up:App.Views.SignUpModal,reset_password:App.Views.ResetPasswordModal,sign_up_alt:App.Views.AcquisitionSignUpModalAlt,sub_unsub:App.Views.SubscriptionUnsubscribeModal,sub_pause:App.Views.SubscriptionPauseModal}[e]}}).initialize(),(App.Controllers.NavigationController={initialize:function(){App.Dispatcher.on("initStickyNav",this.initStickyNav,this),App.Dispatcher.on("initNavigation",this.initNavigation,this)},initStickyNav:function(){var e=$("#scrolling-sticky-nav");App.ViewHelpers.detectMobileDevice()||App.Dispatcher.on("viewDidScroll",function(){this.setStickyNav(e)},this)},setStickyNav:function(e){var t=$(window).scrollTop(),i=300,s=250;$(window).height()>e.height()&&(t<i&&t>s?e.addClass("invisible"):t>i?e.css({position:"",bottom:""}).removeClass("invisible").addClass("fixed"):e.removeClass("fixed invisible").css({position:"",bottom:""}))},initNavigation:function(){this.navigationView=new App.Views.NavigationView({el:"nav.site-wide"})}}).initialize(),(App.Controllers.NotificationsController={initialize:function(){App.Dispatcher.on("addError",this.addError,this),App.Dispatcher.on("addInfo",this.addInfo,this),App.Dispatcher.on("addSuccess",this.addSuccess,this),this.$el=$(".notification-house ul")},addNotification:function(e,t,i){if(this.$el.length>0){var s=new App.Views[t]({msg:e,timeout:i});this.$el.append(s.render())}},addError:function(e,t){this.addNotification(e,"ErrorNotification",t)},addInfo:function(e,t){this.addNotification(e,"InfoNotification",t)},addSuccess:function(e,t){this.addNotification(e,"SuccessNotification",t)}}).initialize(),(App.Controllers.PixelController={initialize:function(){App.Dispatcher.on("initUserApplication",this.showPixel,this),this.options=App.Data.currentUrlParameters()},showPixel:function(e){"true"==this.options.acq&&e&&e.created&&(this.pixelView=new App.Views.Pixel({el:"#pixel",pixel:this.options.p}))}}).initialize(),(App.Controllers.SearchesController={initialize:function(){App.Dispatcher.on("searchesControllerShow",this.initShow,this),App.Dispatcher.on("initSubscriptionModule",this.initSubscriptionModule,this)},initShow:function(e){this.search=new App.Models.Search(e),this.searchPage=new App.Views.SearchPage({model:this.search}),this.search.on("change",this.searchPage.render,this.searchPage),this.initBrandSubscriptionModule()},initBrandSubscriptionModule:function(){var e;this.search&&(e=this.search.brands().first()),e&&(this.brandSubscriptionModule=new App.Views.SubscriptionModule({el:".brand",trigger:"deal-alert",label:"Brand",brands:[e.get("slug")],name:e.get("name"),user:App.Data.currentUser}))},initSubscriptionModule:function(){this.search&&(this.subscriptionModule=new App.Views.SubscriptionModule({el:".keyword",trigger:"deal-alert",searchString:this.search.get("query").search_string,user:App.Data.currentUser}))}}).initialize(),(App.Controllers.SingleUseCouponController={initialize:function(){App.Dispatcher.on("showSingleUseCoupon",this.showSingleUseCoupon,this)},showSingleUseCoupon:function(e){new App.Views.SingleUseCoupon({el:e.el,model:new App.Models.SingleUseCoupon({merchantId:e.merchantId}),codeLink:e.codeLink,goLink:e.goLink,goLinkText:e.goLinkText||"Copy Code",errorLink:e.errorLink,errorLinkText:e.errorLinkText||"View Coupons",getCouponText:e.getCouponText||"Click to Reveal",disableWithText:e.disableWithText||"Retrieving Code...",copySuccessText:e.copySuccessText||"Code Copied",copyErrorText:e.copyErrorText||"Could not copy your code. Please copy thecoupon code and click the link again"})}}).initialize(),(App.Controllers.Social={initialize:function(){_.bindAll(this,"handleFacebookShareClick","handleTwitterShareClick","handleGoogleShareClick"),App.Dispatcher.on("initSocialShare",this.initSocialShare,this)},initSocialShare:function(){$(document).on("click","a.social.facebook",this.handleFacebookShareClick),$(document).on("click","a.social.twitter",this.handleTwitterShareClick),$(document).on("click","a.social.google-plus",this.handleGoogleShareClick)},handleFacebookShareClick:function(e){e.preventDefault();var t=e.currentTarget.href.split("?")[1],i=App.ViewHelpers.hashFromQueryString("?"+t),s=decodeURIComponent(i.u);this.triggerFbUi(s)},handleTwitterShareClick:function(e){e.preventDefault(),this.triggerWindowOpen({href:e.currentTarget.href,width:600,height:450})},handleGoogleShareClick:function(e){e.preventDefault(),this.triggerWindowOpen({href:e.currentTarget.href,width:400,height:500})},triggerWindowOpen:_.debounce(function(e){var t=e.width||600,i=e.height||500,s="menubar=no,toolbar=no,resizable=yes,scrollbars=yes",n=Math.round(screen.width/2-t/2),o=0;screen.height>i&&(o=Math.round(screen.height/2-i/2)),s+=",width="+t+",height="+i+",left="+n+",top="+o,window.open(e.href,"",s)},500,!0),triggerFbUi:_.debounce(function(e){FB.ui({method:"feed",link:e})},500,!0)}).initialize(),(App.Controllers.SubscriptionsController={initialize:function(){App.Dispatcher.on("initSubscriptionShow",this.initSubscriptionShow,this)},initSubscriptionShow:function(e){(e=e||{}).userID=e.userID||App.Data.currentUrlParameters().u_id,this.subscriptionModule=new App.Views.AltSubscriptionModule(e)}}).initialize(),(App.Controllers.DealAlertsLandingController={initialize:function(){App.Dispatcher.on("initDealAlertsShow",this.initDealAlertsShow,this)},initDealAlertsShow:function(e){e=e||{},this.subscriptionButton=new App.Views.SubscriptionButtons({el:"#top-alert-container",user:App.Data.currentUser,modelView:App.Views.TrendingAlertButtonModule,collection:new App.Collections.Subscriptions(e.subscriptionButtons)}),this.createSubscriptionForm=new App.Views.CreateSubscriptionForm({el:"#create-deal-alert-form",user:App.Data.currentUser,requireFullUser:!0}),this.dealAlertInstructions=new App.Views.DealAlertInstructions({el:"#deal-alert-instructions",model:App.Data.currentUser})}}).initialize(),(App.Controllers.TrackingController={initialize:function(){_.bindAll(this,"trackLocation"),App.Dispatcher.on("initUserApplication",this.trackUser),App.Dispatcher.on("initTracking",this.initTracking,this),App.Dispatcher.on("userUnsubscribe",this.trackUnsubscribe),App.Dispatcher.on("updateTracking",this.handleUpdateTracking,this)},initTracking:function(e){sst.config.settings.urls.el=e.eventlog_url,sst.config.settings.urls.id=e.idservice_url;var t=$("html").data();this.loc=t.loc,this.variant=t.variant;var i=sst.init().then(this.trackUser);!location.hash&&this.loc&&i.then(this.trackLocation),App.Dispatcher.on("hashChange",this.handleHashChange,this)},handleHashChange:function(e){var t;e=this.normalizeAnchor(e),(t=_.compact([this.loc,e]).join(" "))&&this.trackLocation(t)},normalizeAnchor:function(e){var t=App.ViewHelpers.currentLocationHref();if(!t.match(/#/g)||1!==t.match(/#/g).length||t.match(/#(coupons|deals|stores)/i)||!t.match(/\?(?=.*?#)/))return e=(e=e.split("?")[0]).charAt(0).toUpperCase()+e.slice(1)},trackUser:function(e){App.UId.trackUser(e)},trackUnsubscribe:function(){sst.el.sendTrackEvent({event:"unsubscribe"})},trackLocation:function(e){var t={loc:e||this.loc};this.variant&&(t.variant=this.variant),sst.el.changeLocation(t)},handleUpdateTracking:function(e){var t=sst.id.parseSessionParams(e,sst.config.settings.params.session);t=sst.id.normalizeChannelId(t);var i=sst.id.generateSessionHash(t,sst.config.settings.params.session);if(i!=sst.id.s_hash.get()){var s=sst.id.d_id.get();sst.id.createSession(t,i,s)}else sst.id.update("session",t)}}).initialize(),(App.Controllers.UserApplicationController={initialize:function(){App.Dispatcher.on("initUserApplication",this.initApplication,this),App.Dispatcher.on("bdResetUserAction",this.resetUserAction,this)},initApplication:function(e){this.user=App.Data.currentUser,this.createUser(e),this.userBadgeView=new App.Views.UserBadge({el:"#user-badge-area",model:this.user})},createUser:function(e){this.user.set(e),App.Dispatcher.trigger("bdUserReady")},resetUserAction:function(){this.user.userAction.reject(),this.user.userAction=$.Deferred()}}).initialize(),(App.Controllers.UserProfileController={initialize:function(){_.bindAll(this,"showAccountSettingsPage","showSavedItemsPage"),App.Dispatcher.on("initAccountSettingsPage",this.initAccountSettingsPage,this),App.Dispatcher.on("initSavedItemsPage",this.initSavedItemsPage,this)},initAccountSettingsPage:function(e){this.loginGate(e).done(this.showAccountSettingsPage)},showAccountSettingsPage:function(){new App.Views.User.AccountSettings({el:"#account-settings-page",model:this.user})},initSavedItemsPage:function(e){this.loginGate(e).done(this.showSavedItemsPage)},showSavedItemsPage:function(){new App.Views.User.SavedItemsPage({el:"#saved-items-page",model:this.user})},loginGate:function(e){this.user=e;var t=$.Deferred();return this.user.isFullUser()?t.resolve():(this.user.on("logUp",t.resolve),this.startLoginFlow()),t},startLoginFlow:function(){App.Dispatcher.once("bdModalCancel",function(){window.location="/"}),this.user.isSubscriber()?App.Dispatcher.trigger("showModal",{modalClass:App.Views.CreateProfileModal}):App.Dispatcher.trigger("showModal",{modalClass:App.Views.LoginModal})}}).initialize(),(App.Controllers.DynamicYieldController={initialize:function(){window.DY=window.DY||{},App.Dispatcher.on("goLinkClick",this.handleGoLinkClick,this),App.Dispatcher.on("initUserApplication",this.handleUserSignup,this),App.Dispatcher.on("infiniteScrollDealLoaded",this.handleInfiniteScrollDealLoad,this),App.Dispatcher.on("expiredDealDetail",this.handleExpiredDealDetail,this),App.Dispatcher.once("onboardingComplete",this.handleOnboardingComplete,this),App.Dispatcher.once("onboardingInit",this.handleOnboardingInit,this)},handleGoLinkClick:function(e){if("deal"===(e=e||{}).itemType){var t=1,i=1,s=App.Data.PageItems.Deals.get(e.itemId);s&&(t=parseFloat(s.get("msrp"))||t,i=parseFloat(s.get("price"))||i),this.sendDYEvent({name:"Get_it",properties:{product_id:"p"+e.itemId,value:t,discount_value:i}})}},handleUserSignup:function(e){if(e&&e.created){var t={name:"Newsletter Subscription",properties:{dyType:"newsletter-subscription-v1"}};if(e.email){var i=CryptoJS.SHA256(e.email).toString();t.properties.hashedEmail=i}this.sendDYEvent(t)}},handleInfiniteScrollDealLoad:function(e){e=e||{},this.sendDYEvent({name:"Infinite Scroll Deal Load",properties:{product_id:"p"+e.id,position:e.position}})},handleExpiredDealDetail:function(e){this.sendDYEvent({name:"Expired Deal Page View",properties:{product_id:"p"+e.id,expired:e.expired}})},handleOnboardingComplete:function(){this.sendDYEvent({name:"Onboarding Complete"})},handleOnboardingInit:function(){this.sendDYEvent({name:"Onboarding Session Start"})},sendDYEvent:function(e){window.DY&&window.DY.API&&DY.API("event",e)}}).initialize(),(App.Controllers.NewRelicController={initialize:function(){App.Dispatcher.on("errorOccurred",this.handleError,this)},handleError:function(e){"string"==typeof e&&(e=new Error(e)),window.newrelic&&window.newrelic.noticeError&&newrelic.noticeError(e)}}).initialize(),(App.Controllers.TravelController={initialize:function(){App.Dispatcher.on("initTravelPage",this.initTravelPage,this)},initTravelPage:function(e){this.travelView=new App.Views.Travel(e)}}).initialize();