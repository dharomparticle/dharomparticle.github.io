!function(s){function t(t){for(var e,n,r=t[0],i=t[1],a=0,o=[];a<r.length;a++)n=r[a],c[n]&&o.push(c[n][0]),c[n]=0;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(s[e]=i[e]);for(u&&u(t);o.length;)o.shift()()}var n={},c={1:0};function i(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.e=function(a){var t=[],n=c[a];if(0!==n)if(n)t.push(n[2]);else{var e=new Promise(function(t,e){n=c[a]=[t,e]});t.push(n[2]=e);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=i.p+""+a+".bundle.js",r=function(t){o.onerror=o.onload=null,clearTimeout(s);var e=c[a];if(0!==e){if(e){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+a+" failed.\n("+n+": "+r+")");i.type=n,i.request=r,e[1](i)}c[a]=void 0}};var s=setTimeout(function(){r({type:"timeout",target:o})},12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(t)},i.m=s,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var e=window.tl_jsonp=window.tl_jsonp||[],r=e.push.bind(e);e.push=t,e=e.slice();for(var a=0;a<e.length;a++)t(e[a]);var u=r;i(i.s=120)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"m",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return f}),n.d(e,"t",function(){return h}),n.d(e,"o",function(){return p}),n.d(e,"n",function(){return v}),n.d(e,"g",function(){return m}),n.d(e,"r",function(){return y}),n.d(e,"j",function(){return _}),n.d(e,"w",function(){return I}),n.d(e,"s",function(){return A}),n.d(e,"l",function(){return w}),n.d(e,"f",function(){return b}),n.d(e,"u",function(){return E}),n.d(e,"v",function(){return k}),n.d(e,"k",function(){return M}),n.d(e,"q",function(){return S}),n.d(e,"p",function(){return T}),n.d(e,"h",function(){return x}),n.d(e,"a",function(){return C}),n.d(e,"i",function(){return L}),n.d(e,"x",function(){return D}),n.d(e,"b",function(){return O});n(18),n(40);var r=n(16),i=n.n(r),a=(n(45),n(28),n(29)),s=n.n(a),o=(n(20),n(24),n(12),n(13),n(65),n(115),n(6)),c=n(4);function u(t,e){var n=e%t;return n<0?n+t:n}function l(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Array.from(e);return Object.assign.apply(null,r.map(function(e){var n={};return Object.keys(e).forEach(function(t){"_"!==t[0]&&(n[t]=e[t])}),n}))}function d(t,e){return!!t&&!!(t&Math.pow(2,e))}function f(t){return t/(180/Math.PI)}function h(t){return o.a.setStyle(t,"display","inline"),o.a.setStyle(t,"box-sizing","content-box"),o.a.setStyle(t,"-webkit-box-sizing","content-box"),o.a.setStyle(t,"-moz-box-sizing","content-box"),o.a.setStyle(t,"padding","0"),o.a.setStyle(t,"border","0"),o.a.setStyle(t,"margin","0"),o.a.setStyle(t,"float","none"),o.a.setStyle(t,"outline","none"),o.a.setStyle(t,"object-fit","fill"),o.a.setStyle(t,"background","none"),t}function p(t){if(g(t))return t;if(Array.isArray(t))return t.reduce(function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return function(t,e){return t[e]=n,t}}(null),{});throw new TypeError("invalid arguments, objectify takes an object or an array")}function g(t){return"object"===s()(t)&&!Array.isArray(t)&&null!==t}function v(t,e){var n=t.filter(i.bind(null,e)),r=e.filter(i.bind(null,t));return n.concat(r);function i(t,e){return-1===t.indexOf(e)}}function m(t){return t.reduce(function(t,e){return t.concat(Array.isArray(e)?m(e):e)},[])}function y(t){return Math.floor((t+1)*Math.random())}function _(t){return!isNaN(t)&&"number"==typeof t}function I(r,i,a){if(t=r,parseFloat(t)!==parseInt(t,10)||!_(t))throw new TypeError("arg 0 of updateCopyAndHref must be an integer");var t,e;if(e=i,!("object"===("undefined"==typeof Node?"undefined":s()(Node))?e instanceof Node:e&&"object"===s()(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))throw new TypeError("arg 1 of updateCopyAndHref must be DOM element");if(!Array.isArray(a))throw new TypeError("arg 2 of updateCopyAndHref must be an array");c.a.TEXT_FIELDS.forEach(function(t){for(var e=i.getElementsByClassName("".concat(c.a.TL_CLASS_PREFIX).concat(t)),n=0;n<e.length;n++)e[n].textContent=a[r][t]});for(var n=i.getElementsByClassName("".concat(c.a.TL_CLASS_PREFIX,"clickthrough-url")),o=0;o<n.length;o++)n[o].href=a[r].clickthrough_url}function A(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function w(t,e){return isNaN(t)&&isNaN(e)?NaN:isNaN(t)?e:isNaN(e)?t:Math.min(t,e)}function b(r,i){var a=!1;return function(){if(!a){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.apply(i||null,e)}a=!0}}function E(t){return i()(t).reverse()}function k(t,e){return function(){Math.random()<t&&e.apply(void 0,arguments)}}function M(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"?";!1!==r&&(n.cb=S(5));var a,o,s,c=(a=n,o={},Object.keys(a).forEach(function(t){var e=a[t];null!=e&&(o[t]=e)}),o),u=(s=c,Object.keys(s).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(s[t]))}).join("&")),l=t.replace(/\/$/,"");return C("//".concat(l,"/").concat(e).concat(i).concat(u))}function S(t){if(t<1)return NaN;if(1===t)return Math.floor(10*Math.random());var e=Math.pow(10,t-1);return Math.floor(9*Math.random()*e)+e}function T(t){for(var r=T.options,e=r.parser[r.strictMode?"strict":"loose"].exec(t),i={},n=14;n--;)i[r.key[n]]=e[n]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}function x(t){if(!t)return t;var e=T(t),n="";return""!==e.port&&(n=":".concat(e.port)),"//".concat(e.host).concat(n).concat(e.relative)}function C(t){return t?"data:"===t.substring(0,5)?t:function(t){if(0<=t.indexOf("3lift.")||0<=t.indexOf("triplelift."))return"https:";var e=T(t);if("http"===e.protocol||"https"===e.protocol)return"".concat(e.protocol,":");try{return window.location.protocol}catch(t){return"https:"}}(t)+x(t):t}function L(){return!!document.getElementById("tl-app")}function D(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toUpperCase()}T.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var O=function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"GET";return new Promise(function(e,n){var r=new XMLHttpRequest;r.open(i,t,!0),r.addEventListener("load",function(t){200<=r.status&&r.status<300?e(t):n(r.statusText)}),r.addEventListener("error",function(t){return n(t)}),r.send()})}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,n){"use strict";e.a={BASE_Z_INDEX:0,DEFAULT_ADCHOICES_URL:"https://optout.aboutads.info",TEXT_FIELDS:["heading","caption"],TINY_IMG_DATA:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",TL_CLASS_PREFIX:"tl-",LOGO_CORNERS:{NW:0,NE:1,SW:2,SE:3},ERROR_LEVELS:{UNKNOWN:0,ERROR:1,WARNING:2,LOG:3},COLORS:{BLACK:"#000",WHITE:"#fff"},DCO_PROTOCOLS:{DYNAMIC_CONTENT:1,NATIVE_ADS:2,DV_BLOCKING:3}}},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(2),i=n.n(r),a=n(46),o=n.n(a),s=n(26),c=n.n(s),u=n(83),l=n.n(u),d=n(47),f=n.n(d),h=n(112),p=n.n(h),g=n(0),v=n.n(g),m=n(4),y=function(t){function r(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m.a.ERROR_LEVELS.ERROR;return i()(this,r),e=o()(this,c()(r).call(this,t)),v()(l()(e),"errorLevel",null),e.errorLevel=n,e}return f()(r,t),r}(p()(Error))},function(t,e,n){"use strict";var r=n(5);function i(t,e,n){if(!t)throw new r.a("Tried to set style ".concat(e," to ").concat(n," on an invalid element."));t.style.setProperty(e,n,"important")}e.a={setStyle:i,setStyleProperties:function(t,e){if(!Array.isArray(e))throw new r.a("arg2 of setStyleProperties must be an array");for(var n=0;n<e.length;n++)i(t,e[n][0],e[n][1]);return t},getPropertyValue:function(t,e){return window.getComputedStyle(t).getPropertyValue(e)}}},function(t,e,n){"use strict";n.d(e,"n",function(){return r}),n.d(e,"q",function(){return i}),n.d(e,"D",function(){return a}),n.d(e,"i",function(){return o}),n.d(e,"u",function(){return s}),n.d(e,"t",function(){return c}),n.d(e,"v",function(){return u}),n.d(e,"P",function(){return l}),n.d(e,"g",function(){return d}),n.d(e,"h",function(){return f}),n.d(e,"k",function(){return h}),n.d(e,"a",function(){return p}),n.d(e,"f",function(){return g}),n.d(e,"x",function(){return v}),n.d(e,"H",function(){return m}),n.d(e,"G",function(){return y}),n.d(e,"I",function(){return _}),n.d(e,"J",function(){return I}),n.d(e,"K",function(){return A}),n.d(e,"L",function(){return w}),n.d(e,"M",function(){return b}),n.d(e,"N",function(){return E}),n.d(e,"O",function(){return k}),n.d(e,"F",function(){return M}),n.d(e,"E",function(){return S}),n.d(e,"y",function(){return T}),n.d(e,"A",function(){return x}),n.d(e,"B",function(){return C}),n.d(e,"m",function(){return L}),n.d(e,"l",function(){return D}),n.d(e,"r",function(){return O}),n.d(e,"s",function(){return N}),n.d(e,"d",function(){return j}),n.d(e,"e",function(){return R}),n.d(e,"w",function(){return P}),n.d(e,"C",function(){return V}),n.d(e,"z",function(){return F}),n.d(e,"j",function(){return U}),n.d(e,"o",function(){return B}),n.d(e,"p",function(){return W}),n.d(e,"c",function(){return H}),n.d(e,"b",function(){return z});var r="log",i="mute",a="unmute",o="ended",s="play",c="pause",u="playerReady",l="vpaidFallback",d="csrReady",f="csrUpdate",h="forceCsrUpdate",p="adOnPage",g="clickThrough",v="positionUpdate",m="vpaid.AdLog",y="vpaid.AdImpression",_="vpaid.AdPlaying",I="vpaid.AdStarted",A="vpaid.AdVideoComplete",w="vpaid.AdVideoFirstQuartile",b="vpaid.AdVideoMidpoint",E="vpaid.AdVideoStart",k="vpaid.AdVideoThirdQuartile",M="vpaid.AdClickThru",S="vastVideoError",T="scroll",x="transform",C="transitionEnd",L="goRight",D="goLeft",O="onTriggerEnter",N="onTriggerExit",j="clickPause",R="clickPlay",P="playAttempt",V="twoSecondViewable",F="trackClick",U="firstPlay",B="mouseenter",W="mouseleave",H="auctionResponse",z="auctionComplete"},function(t,e,n){"use strict";n(85),n(45),n(12),n(28);var o,r=n(6);function i(t,e){if(!t)return!1;for(var n in t)t.hasOwnProperty(n)&&e(n,t[n]);return!0}function a(t,e,n){return!!t&&function(t,e,n){if(0===t.length)return n;n=n||t.shift();var r=t.shift();return a(t,e,e(n,r))}(t.slice(),e,n)}function s(t){return Array.isArray(t)}function c(t){return"function"==typeof t}e.a={addResizeListener:function(t,e){return c(o)&&(e=o(e)),t.addEventListener("DOMContentLoaded",e,!1),t.addEventListener("load",e,!1),t.addEventListener("resize",e,!1),e},addScrollListener:function(t,e){return t=t||window,c(o)&&(e=o(e)),t.addEventListener("DOMContentLoaded",e,!1),t.addEventListener("load",e,!1),t.addEventListener("scroll",e,!1),t.addEventListener("resize",e,!1),e},addOrientationChangeHandler:function(t,e){c(o)&&(e=o(e)),t.addEventListener("orientationchange",e)},blacklistToStyles:function(t){return[-1===t.indexOf("W")?"left":"right",-1===t.indexOf("N")?"top":"bottom"]},chooseN:function(e,t){if(!s(e))return[];if(0===t)return[];if(e.length<t)return e;for(var n=e.slice(),r=[],i=0;i<t;i++){var a=Math.floor(Math.random()*n.length);r.push(e.indexOf(n.splice(a,1)[0]))}return r.sort().map(function(t){return e[t]})},doAll:function(){var e=[].slice.apply(arguments);return function(){for(var t=0;t<e.length;t++)e[t]()}},escapeRegExp:function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},filter:function(t,e){if(!t)return!1;for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n},find:function(t,e){if(!t)return!1;for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return!1},flatten:function e(t){if(!s(t))return[t];var n=[];return t.forEach(function(t){s(t)?n=n.concat(e(t)):n.push(t)}),n},forEach:function(t,e){if(!t)return!1;for(var n=0;n<t.length;n++)e(t[n]);return!0},forEachObj:i,funcOrValue:function(t,e){return c(t[e])?t[e]():t[e]},getDateString:function(){var t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return e<10&&(e="0".concat(e)),n<10&&(n="0".concat(n)),"".concat(r,"-").concat(n,"-").concat(e)},iframeHide:function(t){return r.a.setStyle(t,"display","none"),r.a.setStyle(t,"width",0),r.a.setStyle(t,"height",0),t},isAll:function(t,e){if(!s(t))return!1;for(var n=0;n<t.length;n++)if(!e(t[n]))return!1;return!0},isArray:s,isEqualUrlNoProtocol:function(t,e){var n=/^https?\:/i;return t.replace(n,"")===e.replace(n,"")},isFlashEnabled:function(){var e=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){navigator.mimeTypes&&null!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=!0)}return e},isFunction:c,isMatch:function(t,e){return-1!==t.indexOf(e)},listen:function(t,e,n,r,i){var a;return c(o)&&(n=o(n)),i&&(a=n,n=function(t){t.stopPropagation(),t.preventDefault(),a.apply(this,arguments)}),t.addEventListener(e,n,r),n},map:function(t,e){if(!t)return!1;for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r]);return n},msToTime:function(t){if(t<0)return NaN;var e,n,r,i,a=t;return a-=36e5*(e=Math.floor(a/36e5)),i=(a-=6e4*(n=Math.floor(a/6e4)))-1e3*(r=Math.floor(a/1e3)),e=e<10?"0".concat(e):e,n=n<10?"0".concat(n):n,r=r<10?"0".concat(r):r,i<10?i="00".concat(i):i<100&&(i="0".concat(i)),"".concat(e,":").concat(n,":").concat(r,".").concat(i)},objMerge:function(){return a([].slice.apply(arguments),function(t,e){if(!t&&!e)return{};if(!t)return e;if(!e)return t;var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r})},pluck:function(t,e){return t.map(function(t){return t[e]})},reduce:a,removeKeys:function(t,n){var r={};return i(t,function(t,e){-1===n.indexOf(t)&&(r[t]=e)}),r},removeAllChildren:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},removeQueryStringParam:function(t,e){return t.split("&").filter(function(t){return-1===t.indexOf("".concat(e,"="))}).join("&")},removeResizeListener:function(t,e){t.removeEventListener("DOMContentLoaded",e,!1),t.removeEventListener("load",e,!1),t.removeEventListener("resize",e,!1)},setDims:function(t,e,n,r){r=r||"px",t.style.setProperty("width",e+r,"important"),t.style.setProperty("min-width",e+r,"important"),t.style.setProperty("max-width",e+r,"important"),t.style.setProperty("height",n+r,"important"),t.style.setProperty("min-height",n+r,"important"),t.style.setProperty("max-height",n+r,"important")},setErrorDecorator:function(t){o=t},sizeLogoSrc:function(t,e,n){if(!t||!e)return t;if(t.indexOf("images.3lift")<0)return t;if(n&&n<e)return t;var r;r=e<=100?"_w90":e<=200?"_w192":e<=350?"_w300":e<=650?"_w600":"";var i=t.split(".");return i[i.length-2]+=r,i.join(".")},swapElement:function(t,e){e.parentElement.insertBefore(t,e),e.parentElement.removeChild(e)},throttle:function(i,a){var o,s=0;return function(){o&&clearTimeout(o);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o=setTimeout(i.bind.apply(i,[null].concat(e)),a);var r=Date.now();a<r-s&&(s=r,i.apply(void 0,e))}},timeoutWrap:function(t,e){var n=c(o)?o(t):t;return setTimeout(n,e)},timeToMS:function(t){if(!t)return NaN;var e=t.split("."),n=e[0].split(":"),r=parseInt(e[1],10)||0;return 60*parseInt(n[0],10)*60*1e3+60*parseInt(n[1],10)*1e3+1e3*parseInt(n[2],10)+r},truncate:function(t,e){return e<3||t.length<=e?t:"".concat(t.slice(0,e-3),"...")},truncateUrl:function(t,e){return t?e?t.length<=e?t:-1!==(t=t.slice(0,e)).lastIndexOf("&")?t.slice(0,t.lastIndexOf("&")):t:t:""},triggerEvent:function(t,e,n){var r=n.createEvent("Event");r.initEvent(e,!0,!0),t.dispatchEvent(r)},URIEncodeFields:function(t){t=t||{};var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=encodeURIComponent(t[e]));return n},waitFor:function(t,e){var n=0;return function(){++n===t&&e()}},sortArrOfObjectsByKey:function(t,n){return"desc"===(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"asc")?t.sort(function(t,e){return e[n]-t[n]}):t.sort(function(t,e){return t[n]-e[n]})}}},function(t,e,n){var i=n(0);t.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}},function(t,e,n){t.exports=n(131)},function(t,e,n){"use strict";n.d(e,"g",function(){return r}),n.d(e,"h",function(){return i}),n.d(e,"f",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"e",function(){return l}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return f}),n.d(e,"m",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"l",function(){return g}),n.d(e,"k",function(){return v}),n.d(e,"j",function(){return m}),n.d(e,"i",function(){return y});var r="r",i="sce",a="pmd",o="ed",s="ci",c="eee",u="ec",l="em",d="ev",f="evv",h="ev1",p="eev",g="vpa",v="evd",m="px",y="tpvpx"},function(t,e,n){for(var r=n(20),i=n(57),a=n(31),o=n(17),s=n(34),c=n(49),u=n(14),l=u("iterator"),d=u("toStringTag"),f=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),g=0;g<p.length;g++){var v,m=p[g],y=h[m],_=o[m],I=_&&_.prototype;if(I&&(I[l]||s(I,l,f),I[d]||s(I,d,m),c[m]=f,y))for(v in r)I[v]||a(I,v,r[v],!0)}},function(t,e,n){var r=n(22);r(r.S+r.F,"Object",{assign:n(122)})},function(t,e,n){var r=n(72)("wks"),i=n(55),a=n(17).Symbol,o="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=r},function(t,e){function c(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(s){return function(){var t=this,o=arguments;return new Promise(function(e,n){var r=s.apply(t,o);function i(t){c(r,e,n,i,a,"next",t)}function a(t){c(r,e,n,i,a,"throw",t)}i(void 0)})}}},function(t,e,n){var r=n(132),i=n(133),a=n(134);t.exports=function(t){return r(t)||i(t)||a()}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";var r,i,a,o,s=n(67),c=n(17),u=n(37),l=n(69),d=n(22),f=n(23),h=n(50),p=n(116),g=n(124),v=n(91),m=n(101).set,y=n(126)(),_=n(103),I=n(127),A=n(128),w=n(129),b="Promise",E=c.TypeError,k=c.process,M=k&&k.versions,S=M&&M.v8||"",T=c[b],x="process"==l(k),C=function(){},L=i=_.f,D=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(14)("species")]=function(t){t(C,C)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e&&0!==S.indexOf("6.6")&&-1===A.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},N=function(l,n){if(!l._n){l._n=!0;var r=l._c;y(function(){for(var c=l._v,u=1==l._s,t=0,e=function(t){var e,n,r,i=u?t.ok:t.fail,a=t.resolve,o=t.reject,s=t.domain;try{i?(u||(2==l._h&&P(l),l._h=1),!0===i?e=c:(s&&s.enter(),e=i(c),s&&(s.exit(),r=!0)),e===t.promise?o(E("Promise-chain cycle")):(n=O(e))?n.call(e,a,o):a(e)):o(c)}catch(t){s&&!r&&s.exit(),o(t)}};r.length>t;)e(r[t++]);l._c=[],l._n=!1,n&&!l._h&&j(l)})}},j=function(a){m.call(c,function(){var t,e,n,r=a._v,i=R(a);if(i&&(t=I(function(){x?k.emit("unhandledRejection",r,a):(e=c.onunhandledrejection)?e({promise:a,reason:r}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",r)}),a._h=x||R(a)?2:1),a._a=void 0,i&&t.e)throw t.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(e){m.call(c,function(){var t;x?k.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},V=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},F=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw E("Promise can't be resolved itself");(n=O(t))?y(function(){var e={_w:r,_d:!1};try{n.call(t,u(F,e,1),u(V,e,1))}catch(t){V.call(e,t)}}):(r._v=t,r._s=1,N(r,!1))}catch(t){V.call({_w:r,_d:!1},t)}}};D||(T=function(t){p(this,T,b,"_h"),h(t),r.call(this);try{t(u(F,this,1),u(V,this,1))}catch(t){V.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(117)(T.prototype,{then:function(t,e){var n=L(v(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=u(F,t,1),this.reject=u(V,t,1)},_.f=L=function(t){return t===T||t===o?new a(t):i(t)}),d(d.G+d.W+d.F*!D,{Promise:T}),n(70)(T,b),n(92)(b),o=n(44)[b],d(d.S+d.F*!D,b,{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!D),b,{resolve:function(t){return w(s&&this===o?T:this,t)}}),d(d.S+d.F*!(D&&n(93)(function(t){T.all(t).catch(C)})),b,{all:function(t){var o=this,e=L(o),s=e.resolve,c=e.reject,n=I(function(){var r=[],i=0,a=1;g(t,!1,function(t){var e=i++,n=!1;r.push(void 0),a++,o.resolve(t).then(function(t){n||(n=!0,r[e]=t,--a||s(r))},c)}),--a||s(r)});return n.e&&c(n.v),e.promise},race:function(t){var e=this,n=L(e),r=n.reject,i=I(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(81),i=n(135),a=n(49),o=n(58);t.exports=n(105)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(23);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var g=n(17),v=n(44),m=n(34),y=n(31),_=n(37),I="prototype",A=function(t,e,n){var r,i,a,o,s=t&A.F,c=t&A.G,u=t&A.S,l=t&A.P,d=t&A.B,f=c?g:u?g[e]||(g[e]={}):(g[e]||{})[I],h=c?v:v[e]||(v[e]={}),p=h[I]||(h[I]={});for(r in c&&(n=e),n)a=((i=!s&&f&&void 0!==f[r])?f:n)[r],o=d&&i?_(a,g):l&&"function"==typeof a?_(Function.call,a):a,f&&y(f,r,a,t&A.U),h[r]!=a&&m(h,r,o),l&&p[r]!=a&&(p[r]=a)};g.core=v,A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,t.exports=A},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(35),i=n(57);n(82)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){t.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}e.exports=n},function(t,e,n){var r=n(21),i=n(97),a=n(68),o=Object.defineProperty;e.f=n(25)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var E=n(21),r=n(35),k=n(33),M=n(52),S=n(77),T=n(78),x=Math.max,C=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(80)("replace",2,function(i,a,A,w){return[function(t,e){var n=i(this),r=null==t?void 0:t[a];return void 0!==r?r.call(t,n,e):A.call(String(n),t,e)},function(t,e){var n=w(A,t,this,e);if(n.done)return n.value;var r=E(t),i=String(this),a="function"==typeof e;a||(e=String(e));var o=r.global;if(o){var s=r.unicode;r.lastIndex=0}for(var c=[];;){var u=T(r,i);if(null===u)break;if(c.push(u),!o)break;""===String(u[0])&&(r.lastIndex=S(i,k(r.lastIndex),s))}for(var l,d="",f=0,h=0;h<c.length;h++){u=c[h];for(var p=String(u[0]),g=x(C(M(u.index),i.length),0),v=[],m=1;m<u.length;m++)v.push(void 0===(l=u[m])?l:String(l));var y=u.groups;if(a){var _=[p].concat(v,g,i);void 0!==y&&_.push(y);var I=String(e.apply(void 0,_))}else I=b(p,i,g,v,y,e);f<=g&&(d+=i.slice(f,g)+I,f=g+p.length)}return d+i.slice(f)}];function b(a,o,s,c,u,t){var l=s+a.length,d=c.length,e=p;return void 0!==u&&(u=r(u),e=h),A.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return a;case"`":return o.slice(0,s);case"'":return o.slice(l);case"<":n=u[e.slice(1,-1)];break;default:var r=+e;if(0===r)return t;if(d<r){var i=f(r/10);return 0===i?t:i<=d?void 0===c[i-1]?e.charAt(1):c[i-1]+e.charAt(1):t}n=c[r-1]}return void 0===n?"":n})}})},function(e,t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(t){return n(t)}:e.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(t)}e.exports=r},function(t,e,n){"use strict";var r=n(22),i=n(119)(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),n(81)(a)},function(t,e,n){var a=n(17),o=n(34),s=n(36),c=n(55)("src"),r=n(121),i="toString",u=(""+r).split(i);n(44).inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,n,r){var i="function"==typeof n;i&&(s(n,"name")||o(n,"name",e)),t[e]!==n&&(i&&(s(n,c)||o(n,c,t[e]?""+t[e]:u.join(String(e)))),t===a?t[e]=n:r?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,i,function(){return"function"==typeof this&&this[c]||r.call(this)})},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r,i,a=n(9),u=n.n(a),o=n(2),l=n.n(o),s=n(0),c=n.n(s),d=n(4),f=n(7),h=d.a.ERROR_LEVELS,p=h.ERROR,g=h.WARNING,v=function s(t){var e=t.eventController,c=t.errorHandler;l()(this,s),e.on(f.E,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=s.VAST_CODE_LEVELS,r=s.VAST_UNDEFINED_ERROR,i=s.VAST_CODE_MAP[t]&&n[t]?t:r,a="".concat(s.VAST_CODE_MAP[i]).concat(e.message?" ".concat(e.message):""),o=s.VAST_CODE_LEVELS[i];c.fireError("".concat(i,": ").concat(a),o,u()({errorCode:t},e.diagnosticContext))})};c()(v,"VAST_ERROR_XML_PARSING",100),c()(v,"VAST_ERROR_VAST_SCHEMA",101),c()(v,"VAST_TRAFFICKING_ERROR",200),c()(v,"VAST_UNEXPECTED_DURATION_ERROR",202),c()(v,"VAST_WRAPPER_ERROR",300),c()(v,"VAST_WRAPPER_TIMEOUT",301),c()(v,"VAST_TOO_MANY_REDIRECTS",302),c()(v,"VAST_NO_ADS_AFTER_WRAPPER",303),c()(v,"VAST_LINEAR_ERROR",400),c()(v,"VAST_MEDIA_NOT_FOUND",401),c()(v,"VAST_MEDIA_LOAD_TIMEOUT",402),c()(v,"VAST_MEDIA_ASSET_MISMATCH",403),c()(v,"VAST_PROBLEM_DISPLAYING_MEDIA_FILE",405),c()(v,"VAST_UNDEFINED_ERROR",900),c()(v,"VAST_VPAID_ERROR",901),c()(v,"ERROR_BLOCK","Video"),c()(v,"VAST_CODE_MAP",(r={},c()(r,v.VAST_ERROR_XML_PARSING,"XML Parsing error."),c()(r,v.VAST_ERROR_VAST_SCHEMA,"VAST schema validation error."),c()(r,v.VAST_TRAFFICKING_ERROR,"Trafficking error. Media player received an Ad type that it was not expecting and/or cannot play"),c()(r,v.VAST_UNEXPECTED_DURATION_ERROR,"Media player expecting different duration."),c()(r,v.VAST_WRAPPER_ERROR,"General Wrapper error."),c()(r,v.VAST_WRAPPER_TIMEOUT,"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element."),c()(r,v.VAST_TOO_MANY_REDIRECTS,"Wrapper limit reached, as defined by the media player. Too many Wrapper responses have been received with no InLine response."),c()(r,v.VAST_NO_ADS_AFTER_WRAPPER,"No VAST response after one or more Wrappers."),c()(r,v.VAST_LINEAR_ERROR,"General Linear error. Media player is unable to display the Linear Ad."),c()(r,v.VAST_MEDIA_NOT_FOUND,"File not found. Unable to find Linear/MediaFile from URI."),c()(r,v.VAST_MEDIA_LOAD_TIMEOUT,"Timeout of MediaFile URI."),c()(r,v.VAST_MEDIA_ASSET_MISMATCH,"Couldn't find MediaFile that is supported by this media player, based on the attributes of the MediaFile element."),c()(r,v.VAST_PROBLEM_DISPLAYING_MEDIA_FILE,"Problem displaying MediaFile. Media player found a MediaFile with supported type but couldn't display it."),c()(r,v.VAST_UNDEFINED_ERROR,"Undefined error."),c()(r,v.VAST_VPAID_ERROR,"General VPAID error."),r)),c()(v,"VAST_CODE_LEVELS",(i={},c()(i,v.VAST_ERROR_XML_PARSING,p),c()(i,v.VAST_ERROR_VAST_SCHEMA,p),c()(i,v.VAST_TRAFFICKING_ERROR,p),c()(i,v.VAST_UNEXPECTED_DURATION_ERROR,g),c()(i,v.VAST_WRAPPER_ERROR,p),c()(i,v.VAST_WRAPPER_TIMEOUT,p),c()(i,v.VAST_TOO_MANY_REDIRECTS,p),c()(i,v.VAST_NO_ADS_AFTER_WRAPPER,p),c()(i,v.VAST_LINEAR_ERROR,p),c()(i,v.VAST_MEDIA_NOT_FOUND,p),c()(i,v.VAST_MEDIA_LOAD_TIMEOUT,p),c()(i,v.VAST_MEDIA_ASSET_MISMATCH,p),c()(i,v.VAST_PROBLEM_DISPLAYING_MEDIA_FILE,p),c()(i,v.VAST_UNDEFINED_ERROR,p),c()(i,v.VAST_VPAID_ERROR,p),i))},function(t,e,n){var r=n(52),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(27),i=n(56);t.exports=n(25)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(39);t.exports=function(t){return Object(r(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var a=n(50);t.exports=function(r,i,t){if(a(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(27).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||n(25)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},function(t,e,n){"use strict";e.a=function(a,t){var e=t.creative,n=t.placement,r=t.analytics,o=t.util,i=n.customOptions.openCtUrlInSameWindow;return a.addInit(function(t){var e,n,r,i;e=t.domRefs.adWrapperWithDims,n=a.mouseover||s,r=!1,i=null,o.listen(e,"mouseenter",function(){r=!0,i=o.timeoutWrap(function(){r&&n()},c)}),o.listen(e,"mouseleave",function(){clearTimeout(i),r=!1})}),{doClickThrough:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:e.params.clickthrough_url;t&&window.open(t,i?"_self":"_blank")}};function s(){r.mouseover()}};var c=300},function(t,e,n){"use strict";n(13),n(18),n(65),n(155),n(12),n(20),n(24),n(156);var C=n(1),v=function(t){var e=Object(C.o)(t.supportedDomRefs),n=Object(C.o)(t.initState);return Object.seal(e),Object.seal(n),{domRefs:e,state:n,csrOptions:{},promises:[]}};var m=n(110),r=function(t,e){var n=e.creative,r=e.util,i=n.getParams().adchoices_url;return t.addInit(function(t){r.listen(t.domRefs.adchoices,"click",a,!1,!0)}),{};function a(){window.open(i,"popup","width=".concat(o,",height=").concat(s))}},o=650,s=316;n(45),n(30);var i=n(0),L=n.n(i),D=n(6),O=(n(28),n(4)),N=function(t){var i=t.creative,a=t.errorHandler;return{get:function(t){var e=function(t){var e=document.createElement("iframe");D.a.setStyle(e,"display","none"),document.body.appendChild(e);try{var n=e.contentWindow.document;n.open(),n.close()}catch(t){a.fireError("Logo Placement: Attempted to open iframe document but failed.",O.a.ERROR_LEVELS.WARNING)}return e.contentWindow[c]=t,e}(t),n=(r=document.createElement("script"),r.src=i.params.image_url.replace("/?","/lp?"),r);var r;e.contentWindow.document.body.appendChild(n)}}},c="updateLogoZones";var a,j=n(7),R="logo",P="adchoices",V="blacklisted",F=["NE","NW","SE","SW"],U=(a={},L()(a,"NW",{PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCA0NSkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGw0NSA0NUgweiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjEwIiB5PSIxNCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjIyIiByeD0iMiIvPjxwYXRoIGQ9Ik0yNy40NzkgMTcuMjI1YS44MTYuODE2IDAgMCAwLS41OC0uMjM2SDE3LjYxYS44MTYuODE2IDAgMCAwLS41OC4yMzYuODI3LjgyNyAwIDAgMCAwIDEuMTZsMi4zMjIgMi4zMjMtMi4wMzIgMi4wMzFjLTIuOTc1IDIuOTc2LTYuMTUgNy4yMDItNC4yODEgMTEuNTkzLjU4IDEuMzQyIDEuNTI0IDIuNDg1IDIuNTQgMy41IDEuMjcgMS4yNyAzLjU2NCAyLjI5NiA1LjI0MiAyLjk0LjMwOS4xMDkuNjk5LjI5OSAxLjAyNS4zNTMuMTU0LjAyOC4yODEuMDI4LjQwOC0uMS4xODItLjE4LjE0Ni0uNDM1LS4wMjctLjYwNy0uMTQ1LS4xNDUtLjM0NS0uMjcyLS40OTktLjQwOC0uMzk5LS4zNDUtLjc4OS0uNjk5LTEuMTYtMS4wNy00LjMyNy00LjMyNy0yLjUxMy03LjY0NyAxLjM5Ni0xMS41NTZsMi4wMzItMi4wMzIgMi4zMjIgMi4zMjJhLjgyNy44MjcgMCAwIDAgMS4xNjEgMCAuODE2LjgxNiAwIDAgMCAuMjM2LS41OHYtOS4yODlhLjgxNi44MTYgMCAwIDAtLjIzNi0uNTh6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==",styleCornerEl:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;D.a.setStyleProperties(t,[["top",n],["right","auto"],["bottom","auto"],["left",e]])}}),L()(a,"NE",{PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTgwIDIyLjUgMjIuNSkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGw0NSA0NUgweiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjEwIiB5PSIxNCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjIyIiByeD0iMiIvPjxwYXRoIGQ9Ik0yNy40NzkgMTcuMjI1YS44MTYuODE2IDAgMCAwLS41OC0uMjM2SDE3LjYxYS44MTYuODE2IDAgMCAwLS41OC4yMzYuODI3LjgyNyAwIDAgMCAwIDEuMTZsMi4zMjIgMi4zMjMtMi4wMzIgMi4wMzFjLTIuOTc1IDIuOTc2LTYuMTUgNy4yMDItNC4yODEgMTEuNTkzLjU4IDEuMzQyIDEuNTI0IDIuNDg1IDIuNTQgMy41IDEuMjcgMS4yNyAzLjU2NCAyLjI5NiA1LjI0MiAyLjk0LjMwOS4xMDkuNjk5LjI5OSAxLjAyNS4zNTMuMTU0LjAyOC4yODEuMDI4LjQwOC0uMS4xODItLjE4LjE0Ni0uNDM1LS4wMjctLjYwNy0uMTQ1LS4xNDUtLjM0NS0uMjcyLS40OTktLjQwOC0uMzk5LS4zNDUtLjc4OS0uNjk5LTEuMTYtMS4wNy00LjMyNy00LjMyNy0yLjUxMy03LjY0NyAxLjM5Ni0xMS41NTZsMi4wMzItMi4wMzIgMi4zMjIgMi4zMjJhLjgyNy44MjcgMCAwIDAgMS4xNjEgMCAuODE2LjgxNiAwIDAgMCAuMjM2LS41OHYtOS4yODlhLjgxNi44MTYgMCAwIDAtLjIzNi0uNTh6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==",styleCornerEl:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;D.a.setStyleProperties(t,[["top",n],["right",e],["bottom","auto"],["left","auto"]])}}),L()(a,"SE",{PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgNDUgMCkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGw0NSA0NUgweiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjEwIiB5PSIxNCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjIyIiByeD0iMiIvPjxwYXRoIGQ9Ik0yNy40NzkgMTcuMjI1YS44MTYuODE2IDAgMCAwLS41OC0uMjM2SDE3LjYxYS44MTYuODE2IDAgMCAwLS41OC4yMzYuODI3LjgyNyAwIDAgMCAwIDEuMTZsMi4zMjIgMi4zMjMtMi4wMzIgMi4wMzFjLTIuOTc1IDIuOTc2LTYuMTUgNy4yMDItNC4yODEgMTEuNTkzLjU4IDEuMzQyIDEuNTI0IDIuNDg1IDIuNTQgMy41IDEuMjcgMS4yNyAzLjU2NCAyLjI5NiA1LjI0MiAyLjk0LjMwOS4xMDkuNjk5LjI5OSAxLjAyNS4zNTMuMTU0LjAyOC4yODEuMDI4LjQwOC0uMS4xODItLjE4LjE0Ni0uNDM1LS4wMjctLjYwNy0uMTQ1LS4xNDUtLjM0NS0uMjcyLS40OTktLjQwOC0uMzk5LS4zNDUtLjc4OS0uNjk5LTEuMTYtMS4wNy00LjMyNy00LjMyNy0yLjUxMy03LjY0NyAxLjM5Ni0xMS41NTZsMi4wMzItMi4wMzIgMi4zMjIgMi4zMjJhLjgyNy44MjcgMCAwIDAgMS4xNjEgMCAuODE2LjgxNiAwIDAgMCAuMjM2LS41OHYtOS4yODlhLjgxNi44MTYgMCAwIDAtLjIzNi0uNTh6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==",styleCornerEl:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;D.a.setStyleProperties(t,[["top","auto"],["right",e],["bottom",n],["left","auto"]])}}),L()(a,"SW",{PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMCAwbDQ1IDQ1SDB6Ii8+PHJlY3QgZmlsbD0iIzAwMCIgeD0iMTAiIHk9IjE0IiB3aWR0aD0iMjEiIGhlaWdodD0iMjIiIHJ4PSIyIi8+PHBhdGggZD0iTTI3LjQ3OSAxNy4yMjVhLjgxNi44MTYgMCAwIDAtLjU4LS4yMzZIMTcuNjFhLjgxNi44MTYgMCAwIDAtLjU4LjIzNi44MjcuODI3IDAgMCAwIDAgMS4xNmwyLjMyMiAyLjMyMy0yLjAzMiAyLjAzMWMtMi45NzUgMi45NzYtNi4xNSA3LjIwMi00LjI4MSAxMS41OTMuNTggMS4zNDIgMS41MjQgMi40ODUgMi41NCAzLjUgMS4yNyAxLjI3IDMuNTY0IDIuMjk2IDUuMjQyIDIuOTQuMzA5LjEwOS42OTkuMjk5IDEuMDI1LjM1My4xNTQuMDI4LjI4MS4wMjguNDA4LS4xLjE4Mi0uMTguMTQ2LS40MzUtLjAyNy0uNjA3LS4xNDUtLjE0NS0uMzQ1LS4yNzItLjQ5OS0uNDA4LS4zOTktLjM0NS0uNzg5LS42OTktMS4xNi0xLjA3LTQuMzI3LTQuMzI3LTIuNTEzLTcuNjQ3IDEuMzk2LTExLjU1NmwyLjAzMi0yLjAzMiAyLjMyMiAyLjMyMmEuODI3LjgyNyAwIDAgMCAxLjE2MSAwIC44MTYuODE2IDAgMCAwIC4yMzYtLjU4di05LjI4OWEuODE2LjgxNiAwIDAgMC0uMjM2LS41OHoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+",styleCornerEl:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;D.a.setStyleProperties(t,[["top","auto"],["right","auto"],["bottom",n],["left",e]])}}),a);var l=n(66),u=function(){var r,i,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,o=t.creative,s=t.positionService,c=t.eventController;return Object.assign({},a,{render:function(t){a.render&&a.render(t);r=t.domRefs,i=t.state;var e=r.adWrapper.querySelector(".".concat(d));e?(r.adchoices=e,i.isAdChoiceFromTemplate=!0):(r.adchoices=((n=document.createElement("img")).className=d,n.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHBhdGggZD0iTTIuMDguMDQyQy40NDcuNDM3LS4wODMgMi4zMDYuMDU0IDMuNzg4LS4wNTYgOS45OC4wNDIgMTYuMTc0IDAgMjIuMzY3Yy4wNTEgMi40OTgtLjA4MyA1LjAxLjE2NiA3LjQ5Ny4xNTggMS44MjIgMi4wMzQgMi40NTEgMy41NzcgMS45OTEgMS41OTYtLjQyNyAyLjk2OS0xLjM5NSA0LjQzOS0yLjExNCAxLjg1LS43NTkgMS42NzUtNC4xLS42NTktMy43OTUtMS4zMTguNjk0LTMuMzIuNTEtMy4xNDktMS40NTQtLjAxLTYuMDA2LS4wOTQtMTIuMDI0LjA0My0xOC4wMjYuMzMtMS45MTggMi41NC0xLjMzNiAzLjYyMS0uNDU2IDEuOTI3IDEuMDIzIDMuODE0IDIuMDkgNS43NSAzLjA5OGE2NzEuNTUgNjcxLjU1IDAgMCAwIDUuODc3IDMuMTk2YzEuNTcuODg1IDMuMjMzIDEuNjQyIDQuNzA4IDIuNjc2IDEuMzQyIDEuNDkzLS45MDMgMi41NDgtMi4wNSAzLjAxLTEuOTY0LjkxNy0zLjgzOSAxLjk4Ny01Ljg0MiAyLjgxOC0uNzU0LjM1Ny0yLjM4NSAxLjYzOC0yLjczNS45ODYtLjEyNy0xLjg3LjA4Ny0zLjc4LS4xMDYtNS42MjYtLjM0LTEuNzc5LTMuMzQ3LTEuODY4LTMuNzMtLjA3OS0uMDQzIDMuMTgxLS4wMTYgNi4zNjgtLjAzMiA5LjU1Ljg4IDEuNjkgMy4yMjQgMS45MTkgNC42NDQuNzc0IDEuNjItLjgxMiAzLjIwNi0xLjYzMyA0LjgyNi0yLjQ1NSAxLjgwMy0uOTQzIDMuNjQtMS44NjkgNS40NTgtMi44MDcgMi4wNi0xLjE1NSA0LjI4Mi0yLjAxOCA2LjIxNy0zLjM4MyAxLjk4MS0xLjM1NC42MzYtNC4wNTUtMS4yNi00LjY4My0xLjkwNS0xLjA2My0zLjg5LTEuOTg5LTUuODE2LTMuMDM2YTkyMS42OCA5MjEuNjggMCAwIDEtNi45OTMtMy42MTdjLTEuMjI3LS42MS0yLjQzNi0xLjI3Mi0zLjY3Mi0xLjg5NUMxMC42MzggMy4xOSA4LjAyIDEuNzg3IDUuMzgzLjQ1IDQuMzg1LS4xNjcgMy4xOTEuMDI0IDIuMDguMDQyem05LjA3OCAxMC4yN2MtMS41NDkuMzU1LTEuNzc1IDIuNzc0LS4zNDYgMy40NSAxLjQxLjgzOCAzLjQ4Ni0uNTIxIDIuOTY3LTIuMTg1LS4yMzUtMS4xNjUtMS42MDEtMS41NDctMi42MjEtMS4yNjV6IiBmaWxsPSIjMTlhYmNjIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",D.a.setStyleProperties(n,[["width","".concat(f,"px")],["height","".concat(h,"px")],["position","absolute"],["z-index",Object(l.b)(o,l.a.ADCHOICES)],["background","none"]])),c.on(j.h,u));var n}});function u(){var t,e,n=(t=r.mainImageCsrDiv,(e=s.getElDims(t)).width*e.height>=p&&(!o.isAutoplay()||!i.isEnded&&i.isPlaying)?"inline":"none");D.a.setStyle(r.adchoices,"display",n)}},d="".concat(O.a.TL_CLASS_PREFIX,"adchoices"),f=15,h=15,p=15e3;var g=n(9),_=n.n(g),y=function(){var u,n,l,d,f,h,r,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,a=t.creative,o=t.eventController,p=t.util,s=a.getParams(),g=null,e={render:function(t){if(r=t,i.render(r),!s.logo_image_url||!r.domRefs.mainImageCsrDiv||a.isPharma()||a.isVast())return;n=Object(C.p)("?".concat(s.img_server_params)),l=parseInt(n.queryKey.minLogoPct,10),d=parseInt(n.queryKey.maxLogoPct,10),u=parseInt(n.queryKey.logo_width,10),f=s.logo_image_url,h=s.logo_width,e=document.createElement("img"),e.className="tl-logo",Object(C.t)(e),D.a.setStyle(e,"position","absolute"),D.a.setStyle(e,"display","none"),e.onload=function(){o.publish(j.k),D.a.setStyle(e,"display","block")},e.src=s.logo_image_url,g=e,o.on(j.h,c),r.domRefs.logo=g;var e},_getLogoDims:v};return Object.assign({},i,e);function c(t){if(g&&g.naturalHeight&&t.width&&t.height){var e=t.width,n=t.height,r=g,i=r.naturalWidth,a=r.naturalHeight,o={imgWidth:e,imgHeight:n,logoAspectRatio:i/a,scaleFactor:I,logoWidth:u,minLogoPct:l,maxLogoPct:d},s=v(o);p.setDims(g,s.width,s.height);var c=p.sizeLogoSrc(f,s.width,h);p.isEqualUrlNoProtocol(g.src,c)||(g.src=c)}}function v(t){var e=t.imgWidth,n=t.imgHeight,r=t.logoAspectRatio,i=t.logoWidth,a=t.minLogoPct,o=t.maxLogoPct,s=t.scaleFactor,c={};if(i)return c.width=i,c.height=i*(1/r),m(c,r,{imgWidth:e,imgHeight:n});if(c.width=e*s,c.height=c.width*(1/r),c.width/e<c.height/n&&(c.height=n*s,c.width=c.height*r),function(t,e){if(isNaN(t)&&isNaN(e))return!1;var n=isNaN(t)?0:t,r=isNaN(e)?100:e;return n<=r&&0<=n&&n<=100&&0<=r&&r<=100}(a,o)){var u=e*n,l=c.width*c.height;l<u*(a/100)?(c.width=Math.sqrt(u*r*(a/100)),c.height=c.width/r):u*(o/100)<l&&(c.width=Math.sqrt(u*r*(o/100)),c.height=c.width/r)}return(c=m(c,r,{imgWidth:e,imgHeight:n})).width=Math.round(c.width),c.height=Math.round(c.height),c}function m(t,e,n){var r=n.imgWidth,i=n.imgHeight,a=_()({},t);return y(a,{imgWidth:r,imgHeight:i})&&(a.width=r*A,a.height=a.width*(1/e),y(a,{imgWidth:r,imgHeight:i})&&(a.height=i*A,a.width=a.height*e)),a}function y(t,e){var n=t.width,r=t.height,i=e.imgWidth,a=e.imgHeight;return i/2<n||a/2<r}},I=.25,A=.5;var w=n(5),b=(e.a=function(e,n){var r=n.positionService,i=n.featureConfigs,a={initState:(p=i.reduce(function(t,e){return Object.assign(t,e.initState)},Object(C.o)(e.initState)),Object.assign({},b,p)),supportedDomRefs:g("supportedDomRefs",E)},o=v(a),t=g("renderers",k),s=g("eventManagers",M),c=(h=t,h.reduce(function(t,e){return e(t,n)},{})),u=(l=s,d=Object(m.a)(),f=l.map(function(t){return new t(d,n)}),f.unshift(d),Object.assign.apply(null,f));var l,d,f;var h;var p;return{render:function(){c.render(o),r.setAdContainer(o.domRefs.adWrapperWithDims);var t=Object(C.n)(Object.keys(o.domRefs),a.supportedDomRefs);if(0<t.length)throw new w.a("domRefs invalid. Unmatched keys: ".concat(t.join(", ")));return Object.freeze(o.domRefs),u.init(o),Promise.all(o.promises).then(function(){return o})},context:o};function g(n,t){return i.reduce(function(t,e){return t.concat(e[n])},e[n]).concat(t)}},{adChoicesCorner:"",isAdChoiceFromTemplate:!1,isBackgroundImage:!1,imageBoxingOffsetX:0,imageBoxingOffsetY:0,logoOffsetX:0,logoOffsetY:0,visibleImageWidth:0,visibleImageHeight:0}),E=["adchoices","adWrapper","adWrapperWithDims","logo","mainClickTarget","mainImage","mainImageCsrDiv"],k=[y,u,function(){var t,e,n,r,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=1<arguments.length?arguments[1]:void 0,h=a.creative,o=a.placement,p=a.positionService,s=a.errorHandler,c=a.util,u=a.eventController,l=h.getParams(),d=Object(C.p)("?".concat(l.img_server_params)),f=(t=o.logoBlackList,n=Object(C.x)(t).split(","),e={},L()(e,"NW",null),L()(e,"NE",null),L()(e,"SE",null),L()(e,"SW",null),r=e,n.forEach(function(t){t&&(r[t]=V)}),r),g=!h.isAdChoicesOptOut(),v=null,m=null,y=null,_=null,I=[{domRefName:"revealTrigger",placeFunc:function(t,e){var n=h.params.customization.reveal,r=n.trigger.type,i=S(n.trigger.corner);if(M(t,e,i),i)switch(r){case"peelback":t.setAttribute("src",U[i].PEELBACK_URL);break;case"info_icon":t.setAttribute("src","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUiIGhlaWdodD0iMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsLW9wYWNpdHk9Ii44MTUiIGZpbGw9IiMwMDAiIGQ9Ik0wIDBoMzV2MzVIMHoiLz48cGF0aCBkPSJNMjEuNjY3IDI1LjMxM3YtMi42MDVhLjUwNy41MDcgMCAwIDAtLjE0Ny0uMzc0LjUwNy41MDcgMCAwIDAtLjM3NC0uMTQ2aC0xLjU2M3YtOC4zMzRhLjUwNy41MDcgMCAwIDAtLjE0Ni0uMzc0LjUwNy41MDcgMCAwIDAtLjM3NS0uMTQ3aC01LjIwOGEuNTA3LjUwNyAwIDAgMC0uMzc0LjE0Ny41MDcuNTA3IDAgMCAwLS4xNDcuMzc0djIuNjA0YzAgLjE1Mi4wNS4yNzcuMTQ3LjM3NWEuNTA3LjUwNyAwIDAgMCAuMzc0LjE0NmgxLjU2M3Y1LjIwOWgtMS41NjNhLjUwNy41MDcgMCAwIDAtLjM3NC4xNDYuNTA3LjUwNyAwIDAgMC0uMTQ3LjM3NHYyLjYwNWMwIC4xNTEuMDUuMjc2LjE0Ny4zNzRhLjUwNy41MDcgMCAwIDAgLjM3NC4xNDZoNy4yOTJhLjUwNy41MDcgMCAwIDAgLjM3NC0uMTQ2LjUwNy41MDcgMCAwIDAgLjE0Ny0uMzc1em0tMi4wODQtMTMuNjE3VjguNzJhLjYyNi42MjYgMCAwIDAtLjE0Ni0uNDI4LjQ3NS40NzUgMCAwIDAtLjM3NS0uMTY3aC0zLjEyNWEuNDc1LjQ3NSAwIDAgMC0uMzc0LjE2Ny42MjYuNjI2IDAgMCAwLS4xNDYuNDI4djIuOTc2YzAgLjE3NC4wNDguMzE3LjE0Ni40MjhhLjQ3NS40NzUgMCAwIDAgLjM3NC4xNjhoMy4xMjZhLjQ3NS40NzUgMCAwIDAgLjM3NC0uMTY4LjYyNi42MjYgMCAwIDAgLjE0Ni0uNDI4ek0zMCAxNy41YzAgMi4yNjgtLjU1OSA0LjM2LTEuNjc2IDYuMjc0YTEyLjQ0NCAxMi40NDQgMCAwIDEtNC41NSA0LjU1QzIxLjg2IDI5LjQ0IDE5Ljc2OCAzMCAxNy41IDMwcy00LjM2LS41NTktNi4yNzQtMS42NzZhMTIuNDQ0IDEyLjQ0NCAwIDAgMS00LjU1LTQuNTVDNS41NiAyMS44NiA1IDE5Ljc2OCA1IDE3LjVzLjU1OS00LjM2IDEuNjc2LTYuMjc0YTEyLjQ0NCAxMi40NDQgMCAwIDEgNC41NS00LjU1QzEzLjE0IDUuNTYgMTUuMjMyIDUgMTcuNSA1czQuMzYuNTU5IDYuMjc0IDEuNjc2YTEyLjQ0NCAxMi40NDQgMCAwIDEgNC41NSA0LjU1QzI5LjQ0IDEzLjE0IDMwIDE1LjIzMiAzMCAxNy41eiIgZmlsbD0iI0ZGRiIvPjwvZz48L3N2Zz4=")}}},{domRefName:R,placeFunc:function(t,e){var n=S(d.queryKey.lp),r=k(d.queryKey,v.state);M(t,e,n,r.x,r.y)}}];return Object.assign({},i,{render:function(t){i&&i.render(t);var e,n,r=v=t;(m=r.domRefs,y=r.state,e=m,c.find(I,function(t){return!!e[t.domRefName]})||!y.isAdChoiceFromTemplate)&&(m.mainImageCsrDiv?(_=m.mainImageCsrDiv,b()):((n=document.createElement("div")).className="tl-transparent",D.a.setStyle(n,"position","absolute"),D.a.setStyle(n,"pointer-events","none"),_=n,c.addResizeListener(window,A),m.mainImage&&m.mainImage.addEventListener("load",w),N({creative:h,errorHandler:s}).get(function(t){f[Object(C.x)(t.lp)]=R,b()})),u.on(j.h,T))},_getLogoOffsets:k,_setOverlayContainer:function(t){_=t}});function A(){!function(){if(null===_.parentElement){var t=(e=m.adWrapperWithDims,n=e,r=D.a.getPropertyValue(n,"position"),["static","","relative"].indexOf(r)<0?n=document.body:D.a.setStyle(n,"position","relative"),n!==e&&s.fireError("Invalid position style set on ad wrapper",O.a.ERROR_LEVELS.WARNING),n);t.appendChild(_)}var e,n,r;_.parentElement}();var t=m.mainImage;t&&t.complete&&w()}function w(){var t=m.mainImage.getBoundingClientRect(),e=_.parentElement.getBoundingClientRect(),n=t.top-e.top,r=t.left-e.left;D.a.setStyle(_,"top","".concat(n,"px")),D.a.setStyle(_,"left","".concat(r,"px")),D.a.setStyle(_,"width","".concat(t.width,"px")),D.a.setStyle(_,"height","".concat(t.height,"px"))}function b(){var t;I.forEach(function(t){var e=m[t.domRefName];e&&t.placeFunc(e,t.domRefName)}),g&&!y.isAdChoiceFromTemplate&&(t=E(x())||E(Object.keys(f).filter(function(t){return f[t]===V})),(v.state.adChoicesCorner=t)?M(m[P],P,t):s.fireError("No available corner for AdChoices icon",O.a.ERROR_LEVELS.WARNING))}function E(e){return F.find(function(t){return-1<e.indexOf(t)})}function k(t,e){var n,r,i,a,o,s,c,u=parseInt(t.logo_x_pct,10),l=parseInt(t.logo_y_pct,10);r=isNaN(u)&&isNaN(l)?(n=parseInt(t.lox,10),parseInt(t.loy,10)):(a=e.visibleImageWidth||e.visibleImageHeight?(i=e.visibleImageWidth,e.visibleImageHeight):(i=(o=p.getElDims(_)).width,o.height),n=f(u,i),f(l,a));var d=isNaN(n)&&isNaN(r);return h.isCinemagraph()&&d&&(r=n=10),c=e.imageBoxingOffsetX||e.imageBoxingOffsetY?(s=e.imageBoxingOffsetX,e.imageBoxingOffsetY):e.logoOffsetX||e.logoOffsetY?(s=e.logoOffsetX,e.logoOffsetY):s=0,{x:"".concat((n||0)+s,"px"),y:"".concat((r||0)+c,"px")};function f(t,e){return Math.floor(.01*t*e)}}function M(t,e,n,r,i){var a;n&&(f[n]=e,a=t,D.a.setStyle(a,"pointer-events","all"),_.appendChild(a),U[n].styleCornerEl(t,r,i))}function S(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"NW",e=Object(C.x)(t);return null===f[e]?e:x()[0]}function T(){var e,t=(e=R,Object.keys(f).filter(function(t){return f[t]===e})[0]);if(t){var n=k(d.queryKey,v.state);U[t].styleCornerEl(m[R],n.x,n.y)}}function x(){return Object.keys(f).filter(function(t){return null===f[t]})}}],M=[r]},function(t,e,n){"use strict";var d=n(21),f=n(33),h=n(77),p=n(78);n(80)("match",1,function(r,i,u,l){return[function(t){var e=r(this),n=null==t?void 0:t[i];return void 0!==n?n.call(t,e):new RegExp(t)[i](String(e))},function(t){var e=l(u,t,this);if(e.done)return e.value;var n=d(t),r=String(this);if(!n.global)return p(n,r);for(var i,a=n.unicode,o=[],s=n.lastIndex=0;null!==(i=p(n,r));){var c=String(i[0]);""===(o[s]=c)&&(n.lastIndex=h(r,f(n.lastIndex),a)),s++}return 0===s?null:o}]})},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var d=n(76),_=n(21),I=n(91),A=n(77),w=n(33),b=n(78),f=n(79),r=n(19),E=Math.min,h=[].push,o="split",p="length",g="lastIndex",k=4294967295,M=!r(function(){RegExp(k,"y")});n(80)("split",2,function(i,a,v,m){var y;return y="c"=="abbc"[o](/(b)*/)[1]||4!="test"[o](/(?:)/,-1)[p]||2!="ab"[o](/(?:ab)*/)[p]||4!="."[o](/(.?)(.?)/)[p]||1<"."[o](/()()/)[p]||""[o](/.?/)[p]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!d(t))return v.call(n,t,e);for(var r,i,a,o=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,u=void 0===e?k:e>>>0,l=new RegExp(t.source,s+"g");(r=f.call(l,n))&&!(c<(i=l[g])&&(o.push(n.slice(c,r.index)),1<r[p]&&r.index<n[p]&&h.apply(o,r.slice(1)),a=r[0][p],c=i,o[p]>=u));)l[g]===r.index&&l[g]++;return c===n[p]?!a&&l.test("")||o.push(""):o.push(n.slice(c)),o[p]>u?o.slice(0,u):o}:"0"[o](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:v.call(this,t,e)}:v,[function(t,e){var n=i(this),r=null==t?void 0:t[a];return void 0!==r?r.call(t,n,e):y.call(String(n),t,e)},function(t,e){var n=m(y,t,this,e,y!==v);if(n.done)return n.value;var r=_(t),i=String(this),a=I(r,RegExp),o=r.unicode,s=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(M?"y":"g"),c=new a(M?r:"^(?:"+r.source+")",s),u=void 0===e?k:e>>>0;if(0===u)return[];if(0===i.length)return null===b(c,i)?[i]:[];for(var l=0,d=0,f=[];d<i.length;){c.lastIndex=M?d:0;var h,p=b(c,M?i:i.slice(d));if(null===p||(h=E(w(c.lastIndex+(M?0:d)),i.length))===l)d=A(i,d,o);else{if(f.push(i.slice(l,d)),f.length===u)return f;for(var g=1;g<=p.length-1;g++)if(f.push(p[g]),f.length===u)return f;d=l=h}}return f.push(i.slice(l)),f}]})},function(t,e,n){var r=n(29),i=n(83);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(84);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){"use strict";n(141);var r=n(21),i=n(59),a=n(25),o="toString",s=/./[o],c=function(t){n(31)(RegExp.prototype,o,t,!0)};n(19)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)}):s.name!=o&&c(function(){return s.call(this)})},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(D,t){!function(t){"use strict";var c,e=Object.prototype,u=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag",o="object"==typeof D,s=t.regeneratorRuntime;if(s)o&&(D.exports=s);else{(s=t.regeneratorRuntime=o?D.exports:{}).wrap=_;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",g={},l={};l[i]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==e&&u.call(m,i)&&(l=m);var y=b.prototype=A.prototype=Object.create(l);w.prototype=y.constructor=b,b.constructor=w,b[a]=w.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(y),t},s.awrap=function(t){return{__await:t}},E(k.prototype),k.prototype[r]=function(){return this},s.AsyncIterator=k,s.async=function(t,e,n,r){var i=new k(_(t,e,n,r));return s.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(y),y[a]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},s.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return a.type="throw",a.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=u.call(i,"catchLoc"),s=u.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),g}}}function _(t,e,n,r){var a,o,s,c,i=e&&e.prototype instanceof A?e:A,u=Object.create(i.prototype),l=new x(r||[]);return u._invoke=(a=t,o=n,s=l,c=d,function(t,e){if(c===h)throw new Error("Generator is already running");if(c===p){if("throw"===t)throw e;return L()}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n){var r=M(n,s);if(r){if(r===g)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===d)throw c=p,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=h;var i=I(a,o,s);if("normal"===i.type){if(c=s.done?p:f,i.arg===g)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(c=p,s.method="throw",s.arg=i.arg)}}),u}function I(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function A(){}function w(){}function b(){}function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(c){var e;this._invoke=function(n,r){function t(){return new Promise(function(t,e){!function e(t,n,r,i){var a=I(c[t],c,n);if("throw"!==a.type){var o=a.arg,s=o.value;return s&&"object"==typeof s&&u.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):Promise.resolve(s).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)})}i(a.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function M(t,e){var n=t.iterator[e.method];if(n===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,M(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=I(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,g):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:c,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){"use strict";n(18),n(40),n(13);var y=n(7),_=n(1);e.a=function(){var a,o,u,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,c=t.placement,l=t.environment,d=t.creative,f=t.browserInfo,h=t.util,p=t.eventController;return Object.assign({},s,{render:function(t){s.render&&s.render(t);var e=u=t,n=e.state,r=e.domRefs;if(!n.isBackgroundImage||!d.isImage()&&!d.isCinemagraph()){var i=r.mainImage;r.mainImageCsrDiv||(r.mainImageCsrDiv=m(i.src,c)),(o=r.mainImageCsrDiv).className+=" tl-csr",function(t){for(var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=0;n[r];)e=n[r],t.style.setProperty(e,n[e],"important"),r++}(a=function(t,e,n){var r,i,a,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",c=(5<arguments.length?arguments[5]:void 0).createElement("img");return c.className="".concat(o," ").concat("tl-dummy-img"),c.id=s,c.style.setProperty("display","none","important"),f.isIE?c.onload=function(){g()}:u.promises.push(new Promise(function(t){c.onload=function(){g(),t()}})),c.src=(r=t,i=e,a=n,Object(_.a)("//".concat(r,"/blank?width=").concat(i,"&height=").concat(a))),c}(l.tlImageAddr,c.imageWidth,c.imageHeight,i.className,i.id,document),i.style),i.parentNode.insertBefore(a,i),h.addResizeListener(window,v),h.swapElement(o,i),r.mainImageCsrDiv=o,p.on(y.k,v),p.on(y.j,v)}},createMainImageCsrDiv:m});function g(){p.publish(y.g),v()}function v(){a&&p.publish(y.h,function(){if(!a)return{width:0,height:0};a.style.setProperty("display","","important");var e,n,t=a.ownerDocument.defaultView.getComputedStyle(a);e=o,n=t,["width","height","float","margin","margin-top","margin-right","margin-bottom","margin-left","max-width","max-height","padding","padding-top","padding-right","padding-bottom","padding-left","border","border-top","border-right","border-bottom","border-left"].forEach(function(t){n[t]&&e.style.setProperty(t,n[t],"important")}),""===n.position||"static"===n.position?e.style.setProperty("position","relative","important"):e.style.setProperty("position",n.position,"important");var r=parseFloat(t.width),i=parseFloat(t.height);return a.style.setProperty("display","none","important"),{width:r,height:i}}())}function m(t,e){var n=document.createElement("div"),r=e.customOptions.is3pAdPreview?"cover":"contain";return n.style.setProperty("width","".concat(e.imageWidth,"px"),"important"),n.style.setProperty("height","".concat(e.imageHeight,"px"),"important"),n.style.setProperty("background-size",r,"important"),n.style.setProperty("background-position","center","important"),n.style.setProperty("background-repeat","no-repeat","important"),n.style.setProperty("background-image","url(".concat(t,")"),"important"),n}}},function(t,e,n){"use strict";n(43),n(85),n(12),n(30),n(13),n(28),n(62),n(20),n(24),n(45);var r=n(2),i=n.n(r),a=n(3),o=n.n(a),_=n(1),I=function(){function s(){i()(this,s)}return o()(s,null,[{key:"build",value:function(t,e,n){var r=s.getImageUrlKey(e),i=Object(_.a)(e[r]);i&&(e[r]=i);var a=e[r],o=s.parseSizedImgMacros(t,a);return e=n.objMerge(e,o),s.interpolate(t,e)}},{key:"parseSizedImgMacros",value:function(t,a){var o=Object(_.p)(a),e=t.match(/%%%IMAGE_URL_\d+_X_\d+%%%/gi)||[],s={};return e.forEach(function(t){var e,n=t.slice(3,-3),r=n.split("_");if("data"===o.protocol)s[n]=a;else{0<=o.host.indexOf("img.3lift")&&(o.queryKey.width=r[2],o.queryKey.height=r[4]);var i=(e=o.queryKey,Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&"));s[n]=Object(_.a)("//".concat(o.host).concat(o.path,"?").concat(i))}}),s}},{key:"interpolate",value:function(n,r){var i,a,o=n;return Object.keys(r).forEach(function(t){var e;i=r[t],a=new RegExp("%%%".concat(t,"%%%"),"gi"),n.match(a)&&(o=o.replace(a,(e=i,function(){return e})))}),o}},{key:"getImageUrlKey",value:function(t){var e,n,r=Object.keys(t);for(n=0;n<r.length;n+=1)if("image_url"===(e=r[n]).toLowerCase())return e;return null}}]),s}(),A={init:function(t){var e=t.adWrapper,n=t.creative,r=t.analytics,i=t.util,a=n.getVastTag(),o=a&&a.getVastClickThroughUrl(),s=[].slice.call(e.getElementsByClassName("tl-cta"));n.params.clickthrough_url||o?s.forEach(function(t){i.listen(t,"click",function(){r.fireEEE("click_cta")})}):s.forEach(_.s)}};var s=n(4);var w={init:function(t,e){if(!e.params.logo_image_url){var n=t.getElementsByClassName("".concat(s.a.TL_CLASS_PREFIX,"logo-img"))[0];n&&(n.src=s.a.TINY_IMG_DATA,Object(_.s)(n));var r=t.getElementsByClassName("".concat(s.a.TL_CLASS_PREFIX,"logo"))[0];r&&Object(_.s)(r)}}};var b={init:function(t,e){var n=t.getElementsByClassName("".concat(s.a.TL_CLASS_PREFIX,"sub-headline"));if(!e.params.subheadline&&0<n.length){var r=n[0];r&&Object(_.s)(r)}}},E=(e.a=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,n=e.environment,c=e.placement,u=e.creative,l=e.templateCode,d=e.analytics,f=e.util,h=u.getParams(),p=null,g=null,r={render:function(t){g=t.domRefs;var e=function(t){var e=document.createElement("div");e.innerHTML=t,e.style.display="inline",e.className="tlod";var n=f.find(e.children,function(t){return-1===k.indexOf(i(t))});return{adWrapper:function(){var t;t=c.customOptions.unwrappedUnit?(f.filter(e.children,r).forEach(function(t){n.appendChild(t)}),n):e;return t.setAttribute("plid",c.id),t}(),adWrapperWithDims:n};function r(t){return"script"===i(t)}function i(t){var e=t&&t.tagName;return e&&e.toLowerCase&&e.toLowerCase()}}(I.build(l.templateDetail.string,h,f));g.adWrapper=e.adWrapper,g.adWrapperWithDims=e.adWrapperWithDims,p||(i=g.adWrapper.getElementsByTagName("img"),p=v(f.filter(i,m))||(n=g.adWrapper.getElementsByTagName("*"),r=Object(_.p)(h.image_url),f.find(n,function(t){var e=t.style&&t.style["background-image"],n=t.hasAttribute&&t.hasAttribute("data-background");return e&&e.match(r.query)||n&&n.match(r.query)})));var n,r,i;"div"===y(g.mainImage=p)&&(t.state.isBackgroundImage=!0);"img"===y(p)&&h.image_srcset_2x&&!p.getAttribute("srcset")&&c.imageWidth<=E&&c.imageHeight<=E&&p.setAttribute("srcset",h.image_srcset_2x);if(w.init(g.adWrapper,u),A.init({adWrapper:g.adWrapper,creative:u,analytics:d,util:f}),b.init(g.adWrapper,u),!h.clickthrough_url)for(var a=g.adWrapper.getElementsByClassName("tl-clickthrough-url"),o=0;o<a.length;o++)a[o].removeAttribute("href"),a[o].removeAttribute("target");var s=g.adWrapper.getElementsByClassName("tl_clickthrough")[0];g.mainClickTarget=s||g.adWrapperWithDims},_bestImage:v};return Object.assign({},t,r);function v(t){return t.sort(function(t,e){var n="none"===s(t),r="none"===s(e),i=!n&&!r;if(n&&r||i){var a=t.width*t.height,o=e.width*e.height;return isNaN(a)?1:isNaN(o)?-1:o-a}if(n)return 1;return-1})[0];function s(t){return t&&t.style&&t.style.display}}function m(t){var e=[h.image_url,n.tlImageAddr];return t.src&&e.some(f.isMatch.bind(null,t.src))}function y(t){var e=t&&t.tagName;return e&&e.toLowerCase&&e.toLowerCase()}},600),k=["iframe","style","meta","script","link","br","hr"]},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(98),i=n(75);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(73),i=n(39);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(21);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(22),i=n(88)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),n(81)("includes")},function(t,e,n){"use strict";var r=n(22),i=n(142),a="includes";r(r.P+r.F*n(143)(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var r=n(17),a=n(107),i=n(27).f,o=n(87).f,s=n(76),c=n(59),u=r.RegExp,l=u,d=u.prototype,f=/a/g,h=/a/g,p=new u(f)!==f;if(n(25)&&(!p||n(19)(function(){return h[n(14)("match")]=!1,u(f)!=f||u(h)==h||"/a/i"!=u(f,"i")}))){u=function(t,e){var n=this instanceof u,r=s(t),i=void 0===e;return!n&&r&&t.constructor===u&&i?t:a(p?new l(r&&!i?t.source:t,e):l((r=t instanceof u)?t.source:t,r&&i?c.call(t):e),n?this:d,u)};for(var g=function(e){e in u||i(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=o(l),m=0;v.length>m;)g(v[m++]);(d.constructor=u).prototype=d,n(31)(r,"RegExp",u)}n(92)("RegExp")},function(r,t,e){e(26);var a=e(153);function i(t,e,n){return"undefined"!=typeof Reflect&&Reflect.get?r.exports=i=Reflect.get:r.exports=i=function(t,e,n){var r=a(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},i(t,e,n||t)}r.exports=i},function(t,e,n){"use strict";e.a=function(){return{makeZParamsString:function(t,e){var n=t.getParams().viewability.moat,r=e.aid||0,i=e.unid||0;return[{key:"aid",val:r},{key:"sr",val:n},{key:"uid",val:i}].reduce(a,"")}};function a(t,e){return"".concat(t+e.key,":").concat(e.val,";")}}},function(t,e,n){"use strict";var r=n(104)(!0);n(105)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r={VIDEO_COMPASS:0,VIDEO_CONTROL:0,VIDEO_CLICK_BLOCK:0,VIDEO_LOGO:0,VIDEO_END_FRAME:1,CAROUSEL_CIRCLE:1,CAROUSEL_ARROW:2,ADCHOICES:3,REVEAL_TRIGGER:3,REVEAL_CONTENT:4,REVEAL_CLOSE:5},i=function(t,e){return t.getBaseZIndex()+e}},function(t,e){t.exports=!1},function(t,e,n){var i=n(23);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(38),a=n(14)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:o?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(27).f,i=n(36),a=n(14)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e,n){var r=n(23),i=n(17).document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(44),i=n(17),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(67)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(38);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(72)("keys"),i=n(55);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(23),i=n(38),a=n(14)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(104)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var i=n(69),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},function(t,e,n){"use strict";var r,i,o=n(59),s=RegExp.prototype.exec,c=String.prototype.replace,a=s,u="lastIndex",l=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r[u]||0!==i[u]),d=void 0!==/()??/.exec("")[1];(l||d)&&(a=function(t){var e,n,r,i,a=this;return d&&(n=new RegExp("^"+a.source+"$(?!\\s)",o.call(a))),l&&(e=a[u]),r=s.call(a,t),l&&r&&(a[u]=a.global?r.index+r[0].length:e),d&&r&&1<r.length&&c.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=a},function(t,e,n){"use strict";n(130);var l=n(31),d=n(34),f=n(19),h=n(39),p=n(14),g=n(79),v=p("species"),m=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),y=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(n,t,e){var r=p(n),a=!f(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),i=a?!f(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[v]=function(){return e}),e[r](""),!t}):void 0;if(!a||!i||"replace"===n&&!m||"split"===n&&!y){var o=/./[r],s=e(h,r,""[n],function(t,e,n,r,i){return e.exec===g?a&&!i?{done:!0,value:o.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),c=s[0],u=s[1];l(String.prototype,n,c),d(RegExp.prototype,r,2==t?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}}},function(t,e,n){var r=n(14)("unscopables"),i=Array.prototype;null==i[r]&&n(34)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var i=n(22),a=n(44),o=n(19);t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",r)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(n,t){function r(t,e){return n.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.exports=r},function(t,e,n){"use strict";var r=n(22),i=n(50),a=n(35),o=n(19),s=[].sort,c=[1,2,3];r(r.P+r.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!n(152)(s)),"Array",{sort:function(t){return void 0===t?s.call(a(this)):s.call(a(this),i(t))}})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(4),i="".concat(r.a.TL_CLASS_PREFIX,"video");e.b={componentZIndex:1e9,type:{vast:1,vpaid:2}}},function(t,e,n){var r=n(98),i=n(75).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var c=n(58),u=n(33),l=n(114);t.exports=function(s){return function(t,e,n){var r,i=c(t),a=u(i.length),o=l(n,a);if(s&&e!=e){for(;o<a;)if((r=i[o++])!=r)return!0}else for(;o<a;o++)if((s||o in i)&&i[o]===e)return s||o||0;return!s&&-1}}},function(t,e,n){var r=n(49),i=n(14)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},function(t,e,n){var r=n(69),i=n(14)("iterator"),a=n(49);t.exports=n(44).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||a[r(t)]}},function(t,e,n){var i=n(21),a=n(50),o=n(14)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[o])?e:a(n)}},function(t,e,n){"use strict";var r=n(17),i=n(27),a=n(25),o=n(14)("species");t.exports=function(t){var e=r[t];a&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,n){var a=n(14)("iterator"),o=!1;try{var r=[7][a]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],i=r[a]();i.next=function(){return{done:n=!0}},r[a]=function(){return i},t(r)}catch(t){}return n}},function(t,e,r){var i=r(21),a=r(137),o=r(75),s=r(74)("IE_PROTO"),c=function(){},u="prototype",l=function(){var t,e=r(71)("iframe"),n=o.length;for(e.style.display="none",r(102).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l[u][o[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(c[u]=i(t),n=new c,c[u]=null,n[s]=t):n=l(),void 0===e?n:a(n,e)}},function(t,e,n){var r=n(99),i=n(56),a=n(58),o=n(68),s=n(36),c=n(97),u=Object.getOwnPropertyDescriptor;e.f=n(25)?u:function(t,e){if(t=a(t),e=o(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return p});var r=n(0),o=n.n(r),i=(n(60),n(61),n(6)),s="height",c="width",a=function(t,e,n){var r;if(!n||![s,c].includes(n))throw new Error("getResizePct: missing or invalid dimension argument '".concat(n,"'."));var i=n===s?c:s;if(!e[n]||!t[n])return{height:0,width:0};var a=t[n]/e[n];return r={},o()(r,n,t[n]),o()(r,i,e[i]*a),r},u=function(t,e){return a(t,e,s)},l=function(t,e){return a(t,e,c)},d=function(t,e){var n=t.height,r=t.width,i=e.height,a=e.width;return i<=n&&a<=r},f=function(t,e){var n=u(t,e);return d(t,n)?n:l(t,e)},h=function(t,e){if(!t.height||!e.height)return{x:0,y:0};var n,r,i,a,o=u(t,e);return d(t,o)?(i=t,a=o,{x:Math.ceil((i.width-a.width)/2)||0,y:0}):(r=l(n=t,e),{x:0,y:Math.ceil((n.height-r.height)/2)||0})},p=function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(e&&0<=e.x&&0<=e.y)switch(t){case"NW":i.a.setStyle(n,"left","".concat(e.x+r,"px")),i.a.setStyle(n,"top","".concat(e.y+r,"px"));break;case"SE":i.a.setStyle(n,"right","".concat(e.x+r,"px")),i.a.setStyle(n,"bottom","".concat(e.y+r,"px"));break;case"SW":i.a.setStyle(n,"left","".concat(e.x+r,"px")),i.a.setStyle(n,"bottom","".concat(e.y+r,"px"));break;default:i.a.setStyle(n,"right","".concat(e.x+r,"px")),i.a.setStyle(n,"top","".concat(e.y+r,"px"))}}},function(t,e,n){t.exports=!n(25)&&!n(19)(function(){return 7!=Object.defineProperty(n(71)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(36),s=n(58),c=n(88)(!1),u=n(74)("IE_PROTO");t.exports=function(t,e){var n,r=s(t),i=0,a=[];for(n in r)n!=u&&o(r,n)&&a.push(n);for(;e.length>i;)o(r,n=e[i++])&&(~c(a,n)||a.push(n));return a}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var a=n(21);t.exports=function(e,t,n,r){try{return r?t(a(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&a(i.call(e)),t}}},function(t,e,n){var r,i,a,o=n(37),s=n(125),c=n(102),u=n(71),l=n(17),d=l.process,f=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,v=0,m={},y="onreadystatechange",_=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},I=function(t){_.call(t.data)};f&&h||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},h=function(t){delete m[t]},"process"==n(38)(d)?r=function(t){d.nextTick(o(_,t,1))}:g&&g.now?r=function(t){g.now(o(_,t,1))}:p?(a=(i=new p).port2,i.port1.onmessage=I,r=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",I,!1)):r=y in u("script")?function(t){c.appendChild(u("script"))[y]=function(){c.removeChild(this),_.call(t)}}:function(t){setTimeout(o(_,t,1),0)}),t.exports={set:f,clear:h}},function(t,e,n){var r=n(17).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var i=n(50);function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}t.exports.f=function(t){return new r(t)}},function(t,e,n){var c=n(52),u=n(39);t.exports=function(s){return function(t,e){var n,r,i=String(u(t)),a=c(e),o=i.length;return a<0||o<=a?s?"":void 0:(n=i.charCodeAt(a))<55296||56319<n||a+1===o||(r=i.charCodeAt(a+1))<56320||57343<r?s?i.charAt(a):n:s?i.slice(a,a+2):r-56320+(n-55296<<10)+65536}}},function(t,e,n){"use strict";var _=n(67),I=n(22),A=n(31),w=n(34),b=n(49),E=n(136),k=n(70),M=n(118),S=n(14)("iterator"),T=!([].keys&&"next"in[].keys()),x="values",C=function(){return this};t.exports=function(t,e,n,r,i,a,o){E(n,e,r);var s,c,u,l=function(t){if(!T&&t in p)return p[t];switch(t){case"keys":case x:return function(){return new n(this,t)}}return function(){return new n(this,t)}},d=e+" Iterator",f=i==x,h=!1,p=t.prototype,g=p[S]||p["@@iterator"]||i&&p[i],v=g||l(i),m=i?f?l("entries"):v:void 0,y="Array"==e&&p.entries||g;if(y&&(u=M(y.call(new t)))!==Object.prototype&&u.next&&(k(u,d,!0),_||"function"==typeof u[S]||w(u,S,C)),f&&g&&g.name!==x&&(h=!0,v=function(){return g.call(this)}),_&&!o||!T&&!h&&p[S]||w(p,S,v),b[e]=v,b[d]=C,i)if(s={values:f?v:l(x),keys:a?v:l("keys"),entries:m},o)for(c in s)c in p||A(p,c,s[c]);else I(I.P+I.F*(T||h),e,s);return s}},function(t,e,n){var r=n(22),i=n(19),o=n(39),s=/"/g,a=function(t,e,n,r){var i=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(e,t){var n={};n[e]=t(a),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},function(t,e,n){var a=n(23),o=n(148).set;t.exports=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&a(r)&&o&&o(t,r),t}},function(t,e,n){"use strict";var r=n(17),i=n(36),a=n(38),o=n(107),l=n(68),s=n(19),c=n(87).f,u=n(95).f,d=n(27).f,f=n(150).trim,h="Number",p=r[h],g=p,v=p.prototype,m=a(n(94)(v))==h,y="trim"in String.prototype,_=function(t){var e=l(t,!1);if("string"==typeof e&&2<e.length){var n,r,i,a=(e=y?e.trim():f(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var o,s=e.slice(2),c=0,u=s.length;c<u;c++)if((o=s.charCodeAt(c))<48||i<o)return NaN;return parseInt(s,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(m?s(function(){v.valueOf.call(n)}):a(n)!=h)?o(new g(_(e)),n,p):_(e)};for(var I,A=n(25)?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;A.length>w;w++)i(g,I=A[w])&&!i(p,I)&&d(p,I,u(g,I));(p.prototype=v).constructor=p,n(31)(r,h,p)}},function(t,e,n){var r=n(55)("meta"),i=n(23),a=n(36),o=n(27).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(19)(function(){return c(Object.preventExtensions({}))}),l=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return u&&d.NEED&&c(t)&&!a(t,r)&&l(t),t}}},function(t,e,n){"use strict";function r(){var n=[];return{init:function(e){n.forEach(function(t){return t(e)})},addInit:function(t){n.push(t)}}}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(157),i=n(158),a=n(159);t.exports=function(t,e){return r(t)||i(t,e)||a()}},function(e,t,n){var r=n(26),i=n(84),a=n(139),o=n(140);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(t){if(null===t||!a(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return o(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},s(t)}e.exports=s},function(t,e,n){var o=n(149);t.exports=function(t,e){if(null==t)return{};var n,r,i=o(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}},function(t,e,n){var r=n(52),i=Math.max,a=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):a(t,e)}},function(t,e,n){"use strict";var f=n(37),r=n(22),h=n(35),p=n(100),g=n(89),v=n(33),m=n(138),y=n(90);r(r.S+r.F*!n(93)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,i,a=h(t),o="function"==typeof this?this:Array,s=arguments.length,c=1<s?arguments[1]:void 0,u=void 0!==c,l=0,d=y(a);if(u&&(c=f(c,2<s?arguments[2]:void 0,2)),null==d||o==Array&&g(d))for(n=new o(e=v(a.length));l<e;l++)m(n,l,u?c(a[l],l):a[l]);else for(i=d.call(a),n=new o;!(r=i.next()).done;l++)m(n,l,u?p(i,c,[r.value,l],!0):r.value);return n.length=l,n}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(31);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var r=n(36),i=n(35),a=n(74)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){var _=n(37),I=n(73),A=n(35),w=n(33),r=n(145);t.exports=function(d,t){var f=1==d,h=2==d,p=3==d,g=4==d,v=6==d,m=5==d||v,y=t||r;return function(t,e,n){for(var r,i,a=A(t),o=I(a),s=_(e,n,3),c=w(o.length),u=0,l=f?y(t,c):h?y(t,0):void 0;u<c;u++)if((m||u in o)&&(i=s(r=o[u],u,a),d))if(f)l[u]=i;else if(i)switch(d){case 3:return!0;case 5:return r;case 6:return u;case 2:l.push(r)}else if(g)return!1;return v?-1:p||g?g:l}}},function(t,e,n){t.exports=n(160)},function(t,e,n){t.exports=n(72)("native-function-to-string",Function.toString)},function(t,e,n){"use strict";var f=n(57),h=n(123),p=n(99),g=n(35),v=n(73),i=Object.assign;t.exports=!i||n(19)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=i({},t)[n]||Object.keys(i({},e)).join("")!=r})?function(t,e){for(var n=g(t),r=arguments.length,i=1,a=h.f,o=p.f;i<r;)for(var s,c=v(arguments[i++]),u=a?f(c).concat(a(c)):f(c),l=u.length,d=0;d<l;)o.call(c,s=u[d++])&&(n[s]=c[s]);return n}:i},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var f=n(37),h=n(100),p=n(89),g=n(21),v=n(33),m=n(90),y={},_={};(e=t.exports=function(t,e,n,r,i){var a,o,s,c,u=i?function(){return t}:m(t),l=f(n,r,e?2:1),d=0;if("function"!=typeof u)throw TypeError(t+" is not iterable!");if(p(u)){for(a=v(t.length);d<a;d++)if((c=e?l(g(o=t[d])[0],o[1]):l(t[d]))===y||c===_)return c}else for(s=u.call(t);!(o=s.next()).done;)if((c=h(s,l,o.value,e))===y||c===_)return c}).BREAK=y,e.RETURN=_},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var s=n(17),c=n(101).set,u=s.MutationObserver||s.WebKitMutationObserver,l=s.process,d=s.Promise,f="process"==n(38)(l);t.exports=function(){var n,r,i,t=function(){var t,e;for(f&&(t=l.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?i():r=void 0,t}}r=void 0,t&&t.enter()};if(f)i=function(){l.nextTick(t)};else if(!u||s.navigator&&s.navigator.standalone)if(d&&d.resolve){var e=d.resolve(void 0);i=function(){e.then(t)}}else i=function(){c.call(s,t)};else{var a=!0,o=document.createTextNode("");new u(t).observe(o,{characterData:!0}),i=function(){o.data=a=!a}}return function(t){var e={fn:t,next:void 0};r&&(r.next=e),n||(n=e,i()),r=e}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(17).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(21),i=n(23),a=n(103);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(79);n(22)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(51),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(94),i=n(56),a=n(70),o={};n(34)(o,n(14)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var o=n(27),s=n(21),c=n(57);t.exports=n(25)?Object.defineProperties:function(t,e){s(t);for(var n,r=c(e),i=r.length,a=0;a<i;)o.f(t,n=r[a++],e[n]);return t}},function(t,e,n){"use strict";var r=n(27),i=n(56);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(r,t,e){var a=e(84);function i(t,e,n){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?r.exports=i=function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&a(i,n.prototype),i}:r.exports=i=Reflect.construct,i.apply(null,arguments)}r.exports=i},function(t,e,n){n(25)&&"g"!=/./g.flags&&n(27).f(RegExp.prototype,"flags",{configurable:!0,get:n(59)})},function(t,e,n){var r=n(76),i=n(39);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(14)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,!"/./"[e](n)}catch(t){}}return!0}},function(t,e,n){"use strict";n(106)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,n){var r=n(146);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(23),i=n(147),a=n(14)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(38);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,i){var n=i(23),r=i(21),a=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=i(37)(Function.call,i(95).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return a(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:a}},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}},function(t,e,n){var o=n(22),r=n(39),s=n(19),c=n(151),i="["+c+"]",a=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),l=function(t,e,n){var r={},i=s(function(){return!!c[t]()||""!=""[t]()}),a=r[t]=i?e(d):c[t];n&&(r[n]=a),o(o.P+o.F*i,"String",r)},d=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(u,"")),t};t.exports=l},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(19);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(26);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){"use strict";n(106)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,n){var r=n(23),i=n(109).onFreeze;n(82)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(t,e,n){var r=n(23),i=n(109).onFreeze;n(82)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,u){"use strict";u.r(e);var n=u(9),It=u.n(n),r=(u(13),u(18),u(45),u(10)),At=u.n(r),i=(u(51),u(15)),wt=u.n(i),a=u(2),z=u.n(a),o=u(3),v=u.n(o),g=u(11),bt=u(1),Et=u(4),s={click_cta:1,page_flip_left:2,page_flip_right:3,scroll:4,mute:5,unmute:6,expand:7,collapse:8,click_paused:9,transition_up:10,transition_down:11,direction_change:12,reveal_trigger:13},c=2,l=3,kt=function(){function d(t,e){var n=t.environment,r=t.pageInfo,i=t.rev,a=e.creative,o=e.lifecycleManager,s=e.thirdPartyAnalytics,c=e.firePix,u=e.errorHandler,l=e.util;z()(this,d),this.pageInfo=r,this.environment=n,this.rev=i,this.util=l,this.creative=a,this.lifecycleManager=o,this.thirdPartyAnalytics=s,this.firePix=c,this.fireEB=c.fireEB.bind(c),this.errorHandler=u,this.viewedCreativeElements={},this.hasFired={render:!1,play:!1,playAttempt:!1},this.loadCreativeParams()}return v()(d,[{key:"loadCreativeParams",value:function(){this.thirdPartyAnalytics.billOrWait(),this.creativeParams=this.creative.params.additional_data||{},this.creativeParams.caid=this.creative.params.asset_id,this.creativeParams.unid=0,this.rParams=this.util.objMerge(this.creativeParams,this.util.URIEncodeFields(this.pageInfo.get()),{rr:"creative",rev:this.rev,fid:this.creative.params.format_id||0,rb:this.creative.params.render_options_bm||0,g:this.creative.params.ghost?1:0});var t=this.environment.formats;this.creative.params.format_id===t.video&&(this.videoLengthMS=1e3*this.creative.params.length_seconds)}},{key:"render",value:function(){this.hasFired.render||(this.fireEB(g.g,this.rParams),this.thirdParty(),this.hasFired.render=!0,this.lifecycleManager.setPhaseAfterRender(this.creative.isAutoplay()))}},{key:"viewable",value:function(){this.fireEB(g.n,this.getEngagementParams()),this.thirdPartyAnalytics.fireViewable()}},{key:"onePxViewable",value:function(){this.fireEB(g.m,this.getEngagementParams()),this.thirdPartyAnalytics.fireOnePxViewable()}},{key:"elementViewable",value:function(t,e){this.viewedCreativeElements[t]||(this.fireEB(g.p,this.getEngagementParams(t,e)),this.viewedCreativeElements[t]=!0)}},{key:"twoSecondViewable",value:function(){this.fireEB(g.o)}},{key:"playAttempt",value:function(){this.hasFired.playAttempt||(this.hasFired.playAttempt=!0,this.fireEB(g.l))}},{key:"getEngagementParams",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=t||this.creative.params.image_id||0;return It()({},this.creativeParams,{cepos:e,ceid:n})}},{key:"mouseover",value:function(t,e){this.fireEB(g.e,this.getEngagementParams(t,e))}},{key:"click",value:function(t,e){this.fireEB(g.a,this.getEngagementParams(t,e)),this.thirdPartyAnalytics.fireClick(e),this.fireEB(g.j,{add:3006})}},{key:"appendThirdPartyJs",value:function(t,e){this.creative.params.ghost||this.thirdPartyAnalytics.appendJsOnPassthru(t,e)}},{key:"duration",value:function(t,e,n,r){var i=this.getVideoLength(e,n);if(!isNaN(t)&&i.value){var a=this.util.objMerge(this.creativeParams,{duration:t,video_length:i.value,vlt:i.type});0<t&&!this.hasFired.play&&(this.thirdPartyAnalytics.firePlay(),this.hasFired.play=!0,a.start=1,this.hasFired.playAttempt||(this.errorHandler.fireError("Video start evd logged before play attempt",Et.a.ERROR_LEVELS.WARNING),this.playAttempt()),this.lifecycleManager.setPhaseAfterVideoStart()),Object(bt.j)(r)&&.5<=r&&(a.iv=1),this.fireEB(g.k,a)}}},{key:"getVideoLength",value:function(t,e){var n,r;return r=t&&0<t?(n=t,c):(n=e,l),{value:n,type:r}}},{key:"play",value:function(){this.fireEB(g.j,{add:3007})}},{key:"thirdParty",value:function(){this.creative.params.ghost||this.thirdPartyAnalytics.fireImpression()}},{key:"fireEEE",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.fireEB(g.d,{eid:s[t],unid:this.creativeParams.unid||0,ev:e})}}],[{key:"sendAdReadySignal",value:function(){if((e=document.getElementById("tl-app"))&&e.classList.contains("ad-ready-signal")){var t=document.createElement("IFRAME");t.setAttribute("src","js-3lift:ad_ready"),document.documentElement.appendChild(t),t.parentNode.removeChild(t)}var e}}]),d}();u(48);var Mt=function(){function f(t,e){var n=t.placement,r=t.environment,i=t.pageInfo,a=t.document,o=t.specifiedTacticId,s=t.isAdserving,c=t.rev,u=t.gdprVendorConsentData,l=e.util,d=e.urlParams;z()(this,f),this.placement=n,this.environment=r,this.urlParams=d,this.pageInfo=i,this.document=a,this.util=l,this.isAdserving=s,this.rev=c,this.specifiedTacticId=o,this.gdprVendorConsentData=u}return v()(f,[{key:"buildAuctionPath",value:function(){var t=!(!this.placement.customOptions.viewabilityEnabled||this.isAdserving),e=this.getAuctionHostName(this.isAdserving&&this.specifiedTacticId,t);return this.buildDefaultAuctionPath(e)}},{key:"buildSequentialAuctionPath",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=Object(bt.a)("//".concat(this.environment.tlxHost,"/header/auction")),r=["aid=".concat(t),"inv_code=".concat(encodeURIComponent(this.placement.invCode)),"tluid=".concat(e),"referrer=".concat(encodeURIComponent(this.pageInfo.get().ref))];return"".concat(n,"?").concat(r.join("&"))}},{key:"getAuctionHostName",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length?arguments[1]:void 0,n=this.placement.customOptions,r=n.uniqueCreatives,i=n.uniqueBrands,a=this.environment,o=a.tlxStagingRate,s=a.tlxHost;return o&&Math.random()<o&&(s="staging-".concat(s)),this.urlParams.forceBidUrl?Object(bt.a)("//".concat(this.environment.qaHost,"/qa")):this.urlParams.tlBidUrl?Object(bt.a)("//".concat(this.urlParams.tlBidUrl)):t?Object(bt.a)("//".concat(s,"/web/adserving")):e||i||r?Object(bt.a)("//".concat(s,"/vbas/auction")):Object(bt.a)("//".concat(s,"/web/auction"))}},{key:"buildDefaultAuctionPath",value:function(t){var e=this.placement.customOptions.numCreatives,n=void 0===e?1:e,r=["inv_code=".concat(encodeURIComponent(this.placement.invCode)),"referrer=".concat(encodeURIComponent(this.pageInfo.get().ref)),"rev=".concat(encodeURIComponent(this.rev)),"fe=".concat(encodeURIComponent(this.util.isFlashEnabled()?"1":"0")),"ft=".concat(encodeURIComponent(this.pageInfo.getFrameType())),"cb=".concat(Object(bt.q)(10))];return this.isAdserving&&this.specifiedTacticId&&(r.push("tid=".concat(encodeURIComponent(this.specifiedTacticId))),r.push("n=".concat(encodeURIComponent(n.toString())))),this.placement.demandEnabled||this.urlParams.debugFlag||r.push("dd=1"),this.needsAqp()&&r.push(f.getAqpParam()),this.gdprVendorConsentData&&(r.push("gdpr=".concat(encodeURIComponent(this.gdprVendorConsentData.gdprApplies))),null!==this.gdprVendorConsentData.consentData&&r.push("cmp_cs=".concat(encodeURIComponent(this.gdprVendorConsentData.consentData)))),"".concat(t,"?").concat(r.join("&"))}},{key:"needsAqp",value:function(){return-1<this.placement.invCode.indexOf("msn_infeed_")&&0===this.document.getElementsByClassName("xnetvidplayer").length}}],[{key:"getAqpParam",value:function(){return"aqp=".concat(encodeURIComponent(JSON.stringify({_id:{$oid:"0"},format_target:{action:"include",items:[{id:8}]}})))}}]),f}(),St=u(7),Tt=function(){function _(t,e){var n=t.docInfo,r=t.adRendered,i=t.browserInfo,a=t.placement,o=t.pageInfo,s=t.hook,c=t.isAdserving,u=e.errorHandler,l=e.serveDefault,d=e.firePix,f=e.userSync,h=e.util,p=e.eventController;z()(this,_),this.docInfo=n,this.util=h,this.hook=s,this.eventController=p,this.adRendered=r,this.placement=a,this.pageInfo=o,this.userSync=f,this.firePix=d,this.serveDefault=l,this.browserInfo=i,this.errorHandler=u,this.isAdserving=c,this.auctionIFRAME=null;var g=this.docInfo.document,v=this.util.iframeHide(g.createElement("IFRAME"));if(!g.body){var m=g.createElement("body");g.documentElement.appendChild(m)}g.body.appendChild(v);var y=v.contentWindow.document;y.open(),y.write("<html><head></head><body></body></html>"),y.close(),this.auctionIFRAME=v}return v()(_,[{key:"onError",value:function(t,e){this.errorHandler&&this.errorHandler.fireError(t,e)}},{key:"fireAuction",value:function(t){var e=this,n=this.auctionIFRAME;try{var r=n.contentWindow.document.createElement("SCRIPT");r.src=t,n.contentWindow.document.body.appendChild(r)}catch(t){this.onError(t,Et.a.ERROR_LEVELS.ERROR)}var i=this.placement.timeoutDuration,a=this.util.timeoutWrap(function(){var t={adRendered:e.adRendered,defaultCode:e.placement.defaultCode,docInfo:e.docInfo,firePix:e.firePix,hook:e.hook,pageInfo:e.pageInfo,userSync:e.userSync};e.serveDefault.serve(t,"auction_timeout")},i);this.eventController.once(St.b,function(){clearTimeout(a)})}},{key:"run",value:function(o){var s=this;return this.criteoGuard=!1,new Promise(function(r){var t=function(){s.criteoGuard||(s.criteoGuard=!0,r(s.fireAuction(o)))};if(s.browserInfo.isSafari&&!s.isAdserving){var e=s.auctionIFRAME.contentWindow,n=e.document,i="tl_criteo_rtus";e[i]=function(t){if(!s.criteoGuard){s.criteoGuard=!0;var e=s.rtusTimeout;if(e&&(s.docInfo.window.clearTimeout(e),s.rtusTimeout=!1),t&&"OK"===t.status){var n=encodeURIComponent(t.userid);r(s.fireAuction("".concat(o,"&criteo_id=").concat(n)))}else r(s.fireAuction(o))}};var a=n.createElement("SCRIPT");n.body.appendChild(a),a.onerror=t,a.src="//gum.criteo.com/sync?c=157&r=2&j=".concat(i),s.rtusTimeout=setTimeout(t,150)}else r(s.fireAuction(o))})}}]),_}(),d=(u(43),["Dummy","MSIE","Firefox","Chrome","Safari","Opera","iPhone","BlackBerry","Android"]),f=["Dummy","Windows Phone OS","Windows","Android","Linux","iPhone","iPod","iPad","Mac","BlackBerry"],xt=function(){function e(t){z()(this,e),this.userAgent=t}return v()(e,[{key:"isMobile",value:function(){return this.userAgent.match(/blackberry|ipod|iphone|ipad|android/i)}},{key:"isIpad",value:function(){return this.userAgent.match(/ipad/i)}},{key:"isIE",value:function(){return/msie|trident\//i.test(this.userAgent)}},{key:"isEdge",value:function(){return/Edg/.test(this.userAgent)}},{key:"checkIsMicrosoftBrowser",value:function(){return this.isIE()||this.isEdge()}},{key:"checkIsFacebook",value:function(){return-1<this.userAgent.indexOf("FBAV/")}},{key:"getBrowserInfo",value:function(){var t=function(t){if(!t)return{b:"undisclosed",o:"undisclosed"};var e,n,r=["Dummy","MSIE 7.0","MSIE 8.0","MSIE 9.0","MSIE 10.0"],i={};for(e=0,n=d.length;e<n;e++)if(t.match(d[e])){i.b=e;break}if(1===i.b)for(e=0,n=r.length;e<n;e++)if(t.match(r[e])){i.b=8+e;break}for(t.match("rv:11.0")&&(i.b=13),i.b&&4===i.b&&(t.match("Android")&&t.match("Linux")&&(i.b=8),t.match("BlackBerry")&&(i.b=7)),e=0,n=f.length;e<n;e++)if(t.match(f[e])){i.o=e;break}return i}(this.userAgent),e=this.isMobile(),n=this.isIpad();return{browserName:d[t.b],isMobile:e,isSafari:4==+t.b,isIpad:n,isMicrosoftBrowser:this.checkIsMicrosoftBrowser(),isIE:this.isIE(),isSmallScreen:e||n,isFacebook:this.checkIsFacebook()}}}]),e}(),h=u(0),p=u.n(h),m=u(29),y=u.n(m),_=function(e){return"object"===y()(e)&&I.every(function(t){return y()(e[t.field])===t.type&&e[t.field].length>=t.minLength})},I=[{field:"heading",type:"string",minLength:1},{field:"caption",type:"string",minLength:1},{field:"image_url",type:"string",minLength:1},{field:"clickthrough_url",type:"string",minLength:1}];var Ct=u(5),A=(u(12),u(20),u(24),function(){function e(t){z()(this,e),this.creativeComponents=t.ad.creativeComponents}return v()(e,[{key:"getAllComponents",value:function(){var t=this;return{getHeading:function(){return t.getFirst({assetType:"text",componentType:"heading"})},getCaption:function(){return t.getFirst({assetType:"text",componentType:"caption"})},getImageUrl:function(){return t.getFirst({assetType:"image",componentType:"baseImage"})},getLogoUrl:function(){return t.getFirst({assetType:"image",componentType:"brandLogo"})},getClickthroughUrl:function(){return t.getFirst({assetType:"URI",componentType:"clickThroughURL"})},getJsTrackers:function(){return t.getAll({assetType:"javascript"})},getImpPixels:function(){return t.getAll({assetType:"image",componentType:"impressionTracker"})},getClickPixels:function(){return t.getAll({assetType:"image",componentType:"clickTracker"})},getViewPixels:function(){return t.getAll({assetType:"image",componentType:"viewabilityTracker"})}}}},{key:"getFirst",value:function(t){return this.getAll(t)[0]}},{key:"getAll",value:function(t){return this.creativeComponents.filter(this.byObjFields.bind(null,t)).map(this.componentToSource)}},{key:"byObjFields",value:function(e,n){return Object.keys(e).every(function(t){return n[t]===e[t]})}},{key:"componentToSource",value:function(t){return t.assets[0].source}}]),e}()),w=(u(60),u(61),u(144),function(){function e(t){z()(this,e),this.assets=t.assets,this.eventTrackers=t.eventtrackers}return v()(e,[{key:"getAllComponents",value:function(){var t=this;return{getHeading:function(){return t.assets.filter(function(t){return t.title&&t.title.text})[0].title.text},getCaption:function(){return t.assets.filter(function(t){return t.data&&2===t.data.type})[0].data.value},getImageUrl:function(){return t.assets.filter(function(t){return t.img&&3===t.img.type})[0].img.url},getLogoUrl:function(){return t.assets.filter(function(t){return t.img&&1===t.img.type})[0].img.url},getClickthroughUrl:function(){return t.assets.filter(function(t){return t.link&&t.link.url})[0].link.url},getJsTrackers:function(){return t.eventTrackers.filter(function(t){return 2===t.method}).map(function(t){return t.url})},getImpPixels:function(){return t.eventTrackers.filter(function(t){return 1===t.method&&1===t.event}).map(function(t){return t.url})},getViewPixels:function(){return t.eventTrackers.filter(function(t){return 1===t.method&&[2,3,4].includes(t.event)}).map(function(t){return t.url})},getClickPixels:function(){return[]}}}}]),e}()),b=function(t,e){if(Et.a.DCO_PROTOCOLS.DYNAMIC_CONTENT===e)return new A(t);if(Et.a.DCO_PROTOCOLS.NATIVE_ADS!==e)throw new Ct.a("invalid dco_protocol");return new w(t)};var E=function(t,e){var n=b(t,e).getAllComponents(),r={};try{if(r.asset_id=-1,r.image_id=-1,r.img_server_params="",r.heading=n.getHeading(),r.caption=n.getCaption(),r.image_url=n.getImageUrl(),r.logo_image_url=n.getLogoUrl(),r.clickthrough_url=n.getClickthroughUrl(),r.impression_pixels=n.getImpPixels(),r.clickthrough_pixels=n.getClickPixels(),r.viewability_pixels=n.getViewPixels(),r.js_trackers=n.getJsTrackers(),!_(r))throw new Ct.a("invalid asset")}catch(t){throw new Ct.a("translation error. ".concat(t.message||t))}return r};var k=0,M=1,S=["impression_pixels","clickthrough_pixels","viewability_pixels","js_trackers"],Lt=function(){function s(t,e){var n=this,r=t.assets,i=t.settings,a=t.frame,o=e.errorHandler;z()(this,s),p()(this,"mapPayloadToAssetAndMergeTrackers",function(t){return E(t,n.settings.dco_protocol)}),p()(this,"errAndFallBackOrDefault",function(t){var e=t.toString();if(_(n.assets&&n.assets[0]))return n.errorHandler.fireError(e,Et.a.ERROR_LEVELS.WARNING,{dco_tag_url:n.settings.dco_tag_url}),{asset:n.assets[0],isFallback:M};throw n.errorHandler.fireError(e,Et.a.ERROR_LEVELS.ERROR,{dco_tag_url:n.settings.dco_tag_url}),new Ct.a("getOptimizedAsset failed")}),this.assets=r,this.frame=a,this.settings=i,this.errorHandler=o}return v()(s,[{key:"getOptimizedAsset",value:function(){var e=this;return this.fetchDcoPayload().then(function(t){return e.mapPayloadToAssetAndMergeTrackers(t)}).then(function(t){return e._mergeOrRemoveTrackerFields(t)}).catch(function(t){return e.errAndFallBackOrDefault(t)})}},{key:"fetchDcoPayload",value:function(){var n=this,r=this.frame.contentWindow,i=r.document,a=i.createElement("script");return new Promise(function(t,e){r.doDco=t,r.onerror=function(t){return e(new Ct.a("dco jsonp error: ".concat(t)))},a.onerror=function(){return e(new Ct.a("dco script failed to load"))},setTimeout(function(){return e(new Ct.a("dco timeout"))}),a.src=n.settings.dco_tag_url,i.body.appendChild(a)})}},{key:"_mergeOrRemoveTrackerFields",value:function(t){var r=this,i=It()({},t);return S.forEach(function(t){var e=Array.isArray(i[t]),n=Array.isArray(r.settings[t]);e&&n?(i[t]=i[t].concat(r.settings[t]),delete r.settings[t]):n&&delete i[t]}),{asset:i,isFallback:k}}}]),s}(),Dt=(u(40),u(30),function(){function s(t,e){var i=this,n=t.environment,r=t.bundleStartTime,a=e.eventController,o=e.urlParams;z()(this,s),p()(this,"auctionId","none"),p()(this,"formatName","none"),p()(this,"_log",function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console.log(i._makeLogString(t,n))}),this.environment=n,this.bundleStartTime=r,this.eventController=a,o.debugLog&&this._setupListeners()}return v()(s,[{key:"_setupListeners",value:function(){var n=this;this.eventController.on(St.n,this._log),this.eventController.on(St.c,function(t){var e=t.payload;n.auctionId=e.settings.additional_data.aid,n.formatName=n._getFormatName(e.settings.format_id)})}},{key:"_getFormatName",value:function(e){var n=this;return Object.keys(this.environment.formats).find(function(t){return n.environment.formats[t]===e})}},{key:"_makeLogString",value:function(t,e){return"[".concat(this.formatName,"]")+"[".concat(this.auctionId,"]")+"[".concat(this._getTimeSinceStartMS(),"ms]")+"[".concat(t,"]")+"".concat(0<e.length?JSON.stringify(e):"")}},{key:"_getTimeSinceStartMS",value:function(){return Date.now()-this.bundleStartTime}},{key:"warn",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console.warn("tl: ".concat(t.stack||t),It()({},n))}}]),s}()),Ot=function t(e){var n=e.scriptWindow;z()(this,t);var r={window:n,document:n.document};try{Object.assign(this,It()({},r,{topWindow:top,topDocument:top.document,canAccessTop:!0}))}catch(t){Object.assign(this,It()({},r,{topWindow:window,topDocument:window.document,canAccessTop:!1}))}},Nt=function(){function h(t){var e=t.adserverHostName,n=t.bundleRoot,r=t.cookieDomain,i=t.dynamicPath,a=t.ebPath,o=t.formats,s=t.numUserSyncPixels,c=t.qaHost,u=t.renderOptionsMap,l=t.tlImageAddr,d=t.tlxHost,f=t.ttjHostName;z()(this,h),this._adserverHostName=e,this._bundleRoot=n,this._cookieDomain=r,this._dynamicPath=i,this._ebPath=a,this._formats=o,this._numUserSyncPixels=s,this._qaHost=c,this._renderOptionsMap=u,this._tlImageAddr=l,this._tlxHost=d,this._ttjHostName=f}return v()(h,[{key:"adserverHostName",get:function(){return this._adserverHostName}},{key:"bundleRoot",get:function(){return this._bundleRoot}},{key:"cookieDomain",get:function(){return this._cookieDomain}},{key:"dynamicPath",get:function(){return this._dynamicPath}},{key:"ebPath",get:function(){return this._ebPath}},{key:"formats",get:function(){return this._formats}},{key:"numUserSyncPixels",get:function(){return this._numUserSyncPixels}},{key:"qaHost",get:function(){return this._qaHost}},{key:"renderOptionsMap",get:function(){return this._renderOptionsMap}},{key:"tlImageAddr",get:function(){return this._tlImageAddr}},{key:"tlxHost",get:function(){return this._tlxHost}},{key:"ttjHostName",get:function(){return this._ttjHostName}}]),h}(),jt=function(){function a(t){var e=t.debugMessenger,n=t.firePix,r=t.lifecycleManager,i=t.urlParams;z()(this,a),this.debugMessenger=e,this.firePix=n,this.lifecycleManager=r,this.urlParams=i}return v()(a,[{key:"fireError",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Et.a.ERROR_LEVELS.UNKNOWN,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=this.lifecycleManager.getPhase();this.urlParams.debugFlag?this.debugMessenger.warn(t,r,e,n):this._logEbError(t instanceof Error?t.message:t,r,e,n)}},{key:"decorate",value:function(r){var i=!1,a=this;return function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.apply(this,e)}catch(t){i||(i=!0,a.fireError(t,t instanceof Ct.a?t.level:void 0))}return null}}},{key:"_logEbError",value:function(t,e,n,r){return this.firePix.fireEB(g.h,{e:t,block:e,lvl:n,dc:r?JSON.stringify(r):""}),this}}]),a}(),T=u(16),x=u.n(T),Rt=function(){function t(){z()(this,t),p()(this,"events",{})}return v()(t,[{key:"on",value:function(t,e){return this._subscribe(t,e,!1)}},{key:"once",value:function(t,e){return this._subscribe(t,e,!0)}},{key:"_subscribe",value:function(t,e,n){var r=this;return Object.prototype.hasOwnProperty.call(this.events,t)||(this.events[t]=[]),this.events[t]=[].concat(x()(this.events[t]),[{eventHandler:e,once:n}]),function(){return r.off(t,e)}}},{key:"off",value:function(t,e){if(this.events[t]&&0!==this.events[t].length){var n=this.events[t].filter(function(t){return t.eventHandler!==e});this.events[t]=x()(n),0===this.events[t].length&&(this.events=It()({},this.events,{eventName:[]}))}}},{key:"publish",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.publishEvent.apply(this,[t].concat(n)),this.publishLog.apply(this,[t].concat(n))}},{key:"publishEvent",value:function(e){for(var n=this,t=arguments.length,r=new Array(1<t?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.events[e]&&0<this.events[e].length&&this.events[e].forEach(function(t){t.eventHandler.apply(t,r),t.once&&n.off(e,t.eventHandler)})}},{key:"publishLog",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.publishEvent.apply(this,[St.n,t].concat(n))}},{key:"destroy",value:function(){this.events={}}}]),t}(),Pt=function(){function l(t,e){var n=t.docInfo,r=t.rev,i=t.placement,a=void 0===i?{}:i,o=t.debugFlag,s=t.ebPath,c=void 0===s?"eb2.3lift.com":s,u=e.eventController;z()(this,l),this.docInfo=n,this.rev=r,this.placement=a,this.debugFlag=o,this.ebPath=c,this.eventController=u,this.auctionId=null,this._setupListeners()}return v()(l,[{key:"fire",value:function(t,e,n){var r=this;if(t){var i=this.docInfo.topDocument.createElement("IMG");"function"==typeof e&&(i.onload=e),n||(i.onerror=function(){r.debugFlag?console.error("[TL] Bad tracking pixel:",t):r.fireEB(g.c,{eid:10})}),i.src=t}}},{key:"fireEB",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,r={inv_code:this.placement.invCode,aid:this.auctionId,rev_hash:this.rev},i=Object(bt.k)(this.ebPath,t,It()({},r,e));this.fire(i,n,!0)}},{key:"fireDyn",value:function(t){var e={long1:null,long2:null,long3:null,string1:this.auctionId,string2:null,string3:null},n=Object.assign({},e,t),r=Object(bt.k)(this.ebPath,"dyn",n);this.fire(r,!1,!0)}},{key:"setAuctionId",value:function(t){return this.auctionId=t,this}},{key:"getAuctionId",value:function(){return this.auctionId}},{key:"_setupListeners",value:function(){var i=this;this.eventController.on(St.c,function(t){var e=t.payload,n=void 0===e?null:e;if(!n)throw new Ct.a("Missing auction response payload");var r=n.settings.additional_data.aid;i.setAuctionId(r)})}}]),l}(),Vt=function(){function a(t,e){var n=t.contentWindow,r=e.util,i=e.errorDecorator;z()(this,a),this.util=r,this.window=n,this.decorator=i,this.thirdPartyMessage=!1}return v()(a,[{key:"handleRocketfuel",value:function(t){var e=this.window.document.createElement("iframe");this.util.iframeHide(e),e.src="about:blank",this.window.document.body.appendChild(e);var n=e.contentWindow.document;return n.open(),n.write(t),n.close(),e}},{key:"newWriter",value:function(t){var e,n,r,i,a,o,s,c,u;try{if(0<t.indexOf("rfitag"))return void this.handleRocketfuel(t);if((o=this.window.document.createElement("div")).style.display="none",this.window.document.body.appendChild(o),o.innerHTML=t,0===(u=(s=o.getElementsByTagName("script")).length))return;for(a=this.window.document.createElement("iframe"),this.util.iframeHide(a),a.src="about:blank",a.className="tl_ext_iframe",this.window.document.body.appendChild(a),(n=a.contentWindow.document).open(),n.write('<script>window.addEventListener("message",function(msg){window.parent.postMessage(msg.data,"*");});<\/script>'),c=0;c<u;c++)s[c].text.length?n.write("".concat("<script>").concat(s[c].text,"</scr")+"ipt>"):(r=(e=Object(bt.p)(s[c].src)).queryKey,"ad.turn.com"==e.host&&r.cid&&(i=r.cid,a.setAttribute("data-ext-creative-id",i)),n.write("".concat('<script type="text/javascript" src="').concat(s[c].src,'"></sc')+"ript>"));n.close()}catch(t){throw new Ct.a("newWriter failed: ".concat(t.message))}}},{key:"onmessage",value:function(t){if(t&&t.data&&t.data.match&&(t.data.match("get_3p")||t.data.match("get_ext")||t.data.match("get_unit_2"))){if(this.thirdPartyMessage)return;this.thirdPartyMessage=!0;var e=this.window.document.createElement("SCRIPT");e.textContent=t.data,this.window.document.body.appendChild(e)}}},{key:"setListeners",value:function(){this.window.addEventListener("message",this.decorator(this.onmessage)),this.window.document.write=function(){}}}]),a}(),Ft=function(){function g(t,e){var n=t.contentWindow,r=t.docInfo,i=t.hook,a=t.pageInfo,o=t.placement,s=t.uniquenessController,c=e.errorDecorator,u=e.eventController,l=e.firePix,d=e.serveDefault,f=e.userSync,h=e.util,p=e.viewabilityController;z()(this,g),this.adRendered=!1,this.analytics=null,this.defaultServer=d,this.docInfo=r,this.errorDecorator=c,this.eventController=u,this.firePix=l,this.hook=i,this.isUnitGenerated=!1,this.pageInfo=a,this.placement=o,this.uniquenessController=s,this.userSync=f,this.util=h,this.auctionIFrameWindow=n,this.viewabilityController=p}return v()(g,[{key:"getCreativeJSON2",value:function(t,e){this.passthru(t.pixel,e)}},{key:"get3PUnit",value:function(t,e,n,r,i,a){this.passthru(e,a)}},{key:"getExtUnit",value:function(t,e){this.passthru(e)}},{key:"passthru",value:function(t,e){this.analytics.thirdPartyAnalytics.passthru(t,e)}},{key:"dynamicCreativeRender",value:function(t){if(!t)throw new Ct.a("Missing auction response payload");if(!this.isUnitGenerated){this.isUnitGenerated=!0;var e=t.settings.additional_data.aid;this.firePix.setAuctionId(e),this._verboseCreativeResponseLog(e,"dynamicCreativeRender",t),this.eventController.publish(St.c,{payload:t})}}},{key:"serveConditional",value:function(t,e){var n=!1,r=this.uniquenessController;if(r){var i=Object.keys(e)[0],a=e[i],o=It()({},this.getServeDefaultArgs(),{serveDefault:this.defaultServer});n=r.dispatchIfUnique(o,t,i,a)}else this.adRendered=!0,this.viewabilityController.vbasStart(t);return n}},{key:"serveDefault",value:function(t,e){var n=this.placement.defaultCode;this._verboseCreativeResponseLog(e,"serveDefault",n),this.defaultServer.serve(this.getServeDefaultArgs(),t,e)}},{key:"getServeDefaultArgs",value:function(){return{adRendered:this.adRendered,defaultCode:this.placement.defaultCode,docInfo:this.docInfo,firePix:this.firePix,hook:this.hook,pageInfo:this.pageInfo,userSync:this.userSync}}},{key:"registerAuctionListeners",value:function(){var t={get_unit_2:this.wrap(this.getCreativeJSON2),get_3p_unit:this.wrap(this.get3PUnit),get_ext_unit:this.wrap(this.getExtUnit),dynamicCreativeRender:this.wrap(this.dynamicCreativeRender),serveViewable:this.wrap(this.serveConditional),serveConditional:this.wrap(this.serveConditional),serveDefault:this.wrap(this.serveDefault)};Object.assign(this.auctionIFrameWindow,t)}},{key:"wrap",value:function(t){var r=this,i=this.errorDecorator(t);return function(){r.eventController.publish(St.b);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(r,e)}}},{key:"setAnalytics",value:function(t){this.analytics=t}},{key:"_verboseCreativeResponseLog",value:function(t,e,n){var r=this.placement.customOptions.verboseCreativeResponseToggle;if(void 0!==r&&Math.random()<r){var i=p()({},e,n),a=JSON.stringify(i),o={string1:t,string2:"verboseCreativeResponseToggle",string3:a};a.length<=1024&&this.firePix.fireDyn(o)}}}]),g}(),C=u(6),Ut=function(){function s(t,e){var n=t.placement,r=t.docInfo,i=t.ttjHostName,a=e.firePix,o=e.errorHandler;z()(this,s),this.placement=n,this.docInfo=r,this.ttjHostName=i,this.firePix=a,this.errorHandler=o,this.script=null,this.tlScriptCandidates=null}return v()(s,[{key:"getHook",value:function(t){var e,n=this.docInfo.window,r=this.docInfo.document,i=+t,a=this.placement.customOptions.friendlyIframeRender,o=r.getElementsByTagName("SCRIPT");e=this.getTLScript(o);try{n!==top&&n.frameElement&&!a&&(e=function(t){var e,n=t;for(;n!==top;)try{n.frameElement&&(e=n.frameElement),n=n.parent}catch(t){break}return e}(n))}catch(t){this.firePix.fireDyn({string1:"HookFinder: error getting top",string2:"".concat(this.placement.invCode,": ").concat(location.href),string3:t.message})}if(!e){var s=this.getHookCandidates();e=this.getTLScript(s),this.firePix.fireDyn({string1:"HookFinder: using placeholder hook",string2:"".concat(this.placement.invCode,": ").concat(location.href)})}for(;i;)e=e.parentNode,i--;return e||this.errorHandler.fireError("could not find hook",Et.a.ERROR_LEVELS.ERROR),e}},{key:"getTLScript",value:function(t){if(this.script)return this.script;for(var e=0;e<t.length;e++){var n=t[e];if(this.isValidTLScript(n))return n.setAttribute("tl_id",Math.round(1e5*Math.random())),this.script=n}return!1}},{key:"isValidTLScript",value:function(t){var e=t.getAttribute("tl_id"),n=t.getAttribute("data-tl-med-id");return L(t,this.ttjHostName)&&L(t,this.placement.invCode)&&!e&&!n}},{key:"getHookCandidates",value:function(){var e=this;if(this.tlScriptCandidates)return this.tlScriptCandidates;var t=document.getElementsByTagName("SCRIPT"),n=Array.prototype.filter.call(t,function(t){return t.src&&-1<t.src.indexOf(e.ttjHostName)}).map(function(t){var e=document.createElement("P");return e.style.display="none",e.setAttribute("data-src",t.src),t.parentNode.insertBefore(e,t),e});return this.tlScriptCandidates=n}},{key:"getAuctionResponsePseudoId",value:function(){return!!this.script&&this.script.getAttribute("data-auction-response-id")}},{key:"getScriptTag",value:function(){return!!this.script&&this.script.getAttribute("data-auction-response-id")}},{key:"getTagTemplateId",value:function(){return!!this.script&&this.script.getAttribute("data-template-id")}},{key:"getScriptPath",value:function(){var t=this.getScriptSrc();return Object(bt.p)(t).path}},{key:"getScriptSrc",value:function(){return this.script?this.script.getAttribute("data-src")||this.script.src:""}}],[{key:"hideHook",value:function(t){if(!t)throw new Ct.a("hideHook failed: no hook");C.a.setStyle(t,"display","none"),C.a.setStyle(t,"visibility","hidden"),C.a.setStyle(t,"width","0px"),C.a.setStyle(t,"height","0px")}}]),s}();function L(t,e){if(!e)return!1;var n=t.src,r=t.getAttribute("data-src"),i=n&&-1<n.indexOf(e),a=r&&-1<r.indexOf(e);return!(!i&&!a)}var Bt=function(){function t(){z()(this,t)}return v()(t,null,[{key:"needsBusting",value:function(t,e){return t.iframeBuster&&!function(t){var e;try{e=t&&t==top}catch(t){e=!1}return e}(e)}},{key:"bust",value:function(t,e){var n=Object(bt.p)(t.referrer),r=encodeURIComponent(t.URL),i=t.createElement("iframe");if(i.src=Object(bt.a)("//".concat(n.host,"/doubleclick/TLIframe.html?docsrc=").concat(r,"&script_src=").concat(encodeURIComponent(e))),i.width=0,i.height=0,i.style.display="none",null===t.body){var a=t.createElement("body");t.firstElementChild.appendChild(a)}t.body.appendChild(i)}}]),t}(),Wt=function(){function t(){z()(this,t);try{jQuery(),this.jQueryPresent=!0}catch(t){this.jQueryPresent=!1}}return v()(t,[{key:"layout",value:function(t){this.jQueryPresent&&(function(){var n=jQuery(".masonry");n.length||(n=null);n&&1<n.length&&(n=jQuery(n[0]));n||jQuery.each(jQuery.find("*"),function(t,e){jQuery.data(e,"masonry")&&(n=jQuery(e))});n&&n.data("masonry")&&(n.masonry("reloadItems"),n.masonry())}(),function(t){if(jQuery.fn.isotope){var e=jQuery(".isotope");if(1!==e.length)for(var n=t;n.parentNode;)jQuery.data(jQuery(n.parentNode),"isotope")?e=jQuery(n.parentNode):n=n.parentNode;e.data("isotope")||(e=!1),e&&e.isotope("reloadItems").isotope({sortBy:"original-order"})}}(t))}}]),t}();var D="post_render",Ht=function(){function r(t){var e=this,n=t.eventController;z()(this,r),p()(this,"phase","auction"),n.on(St.c,function(){return e.setPhaseAfterAuction()})}return v()(r,[{key:"setPhaseAfterAuction",value:function(){this.phase="render"}},{key:"setPhaseAfterRender",value:function(t){this.phase=t?"video":D}},{key:"setPhaseAfterVideoStart",value:function(){this.phase=D}},{key:"getPhase",value:function(){return this.phase}}]),r}(),O=function(){function H(t){var e=t.defaultCaptionOverride,n=void 0===e?"":e,r=t.defaultHeadingOverride,i=void 0===r?"":r,a=t.disableOutstreamVideoBehavior,o=void 0!==a&&a,s=t.dontWaitForImageLoad,c=void 0!==s&&s,u=t.friendlyIframeRender,l=void 0!==u&&u,d=t.is3pAdPreview,f=void 0!==d&&d,h=t.isAmp,p=void 0!==h&&h,g=t.maxUserSyncs,v=void 0===g?10:g,m=t.numCreatives,y=void 0===m?1:m,_=t.openCtUrlInSameWindow,I=void 0!==_&&_,A=t.playButtonUrl,w=void 0===A?"":A,b=t.postBidIpvAutoplay,E=void 0!==b&&b,k=t.referrerOverride,M=void 0===k?[]:k,S=t.uniqueBrands,T=void 0!==S&&S,x=t.uniqueCreatives,C=void 0!==x&&x,L=t.unwrappedUnit,D=void 0!==L&&L,O=t.userSyncsDisabled,N=void 0!==O&&O,j=t.vbasSelector,R=void 0===j?null:j,P=t.verboseCreativeResponseToggle,V=void 0===P?void 0:P,F=t.videoZIndexOverride,U=void 0===F?null:F,B=t.viewabilityEnabled,W=void 0!==B&&B;z()(this,H),this._defaultCaptionOverride=n,this._defaultHeadingOverride=i,this._disableOutstreamVideoBehavior=o,this._dontWaitForImageLoad=c,this._friendlyIframeRender=l,this._is3pAdPreview=f,this._isAmp=p,this._maxUserSyncs=v,this._numCreatives=y,this._openCtUrlInSameWindow=I,this._playButtonUrl=w,this._postBidIpvAutoplay=E,this._referrerOverride=M,this._uniqueBrands=T,this._uniqueCreatives=C,this._unwrappedUnit=D,this._userSyncsDisabled=N,this._vbasSelector=R,this._verboseCreativeResponseToggle=V,this._videoZIndexOverride=U,this._viewabilityEnabled=W}return v()(H,[{key:"defaultHeadingOverride",get:function(){return this._defaultHeadingOverride}},{key:"defaultCaptionOverride",get:function(){return this._defaultCaptionOverride}},{key:"disableOutstreamVideoBehavior",get:function(){return this._disableOutstreamVideoBehavior}},{key:"dontWaitForImageLoad",get:function(){return this._dontWaitForImageLoad}},{key:"friendlyIframeRender",get:function(){return this._friendlyIframeRender},set:function(t){return this._friendlyIframeRender=t,this}},{key:"is3pAdPreview",get:function(){return this._is3pAdPreview},set:function(t){return this._is3pAdPreview=t,this}},{key:"isAmp",get:function(){return this._isAmp}},{key:"maxUserSyncs",get:function(){return this._maxUserSyncs}},{key:"numCreatives",get:function(){return this._numCreatives}},{key:"openCtUrlInSameWindow",get:function(){return this._openCtUrlInSameWindow}},{key:"playButtonUrl",get:function(){return this._playButtonUrl}},{key:"postBidIpvAutoplay",get:function(){return this._postBidIpvAutoplay}},{key:"referrerOverride",get:function(){return this._referrerOverride}},{key:"uniqueBrands",get:function(){return this._uniqueBrands}},{key:"uniqueCreatives",get:function(){return this._uniqueCreatives}},{key:"unwrappedUnit",get:function(){return this._unwrappedUnit}},{key:"userSyncsDisabled",get:function(){return this._userSyncsDisabled}},{key:"vbasSelector",get:function(){return this._vbasSelector}},{key:"verboseCreativeResponseToggle",get:function(){return this._verboseCreativeResponseToggle}},{key:"videoZIndexOverride",get:function(){return this._videoZIndexOverride}},{key:"viewabilityEnabled",get:function(){return this._viewabilityEnabled}}]),H}(),zt=function(){function M(t){var e=t.async,n=t.captionCharacterLimit,r=t.headingCharacterLimit,i=t.customOptions,a=void 0===i?{}:i,o=t.defaultCode,s=t.demandEnabled,c=t.dvPlacementId,u=t.id,l=t.iframeBuster,d=t.iframeWrap,f=t.imageHeight,h=t.imageWidth,p=t.invCode,g=t.logoBlackList,v=t.publisherId,m=t.replaceParent,y=t.sharingEnabled,_=t.staging,I=t.templateCode,A=t.templates,w=t.timeoutDuration,b=void 0===w?1e4:w,E=t.viewabilityTestingInfo,k=void 0===E?{}:E;z()(this,M),this._async=e,this._captionCharacterLimit=n,this._headingCharacterLimit=r,this._customOptions=new O(It()({},a)),this._defaultCode=o,this._demandEnabled=s,this._dvPlacementId=c,this._id=u,this._iframeBuster=l,this._iframeWrap=d,this._imageHeight=f,this._imageWidth=h,this._invCode=p,this._logoBlackList=g,this._publisherId=v,this._replaceParent=m,this._sharingEnabled=y,this._staging=_,this._templateCode=I,this._templates=A,this._timeoutDuration=b,this._viewabilityTestingInfo=k}return v()(M,[{key:"async",get:function(){return this._async}},{key:"captionCharacterLimit",get:function(){return this._captionCharacterLimit}},{key:"headingCharacterLimit",get:function(){return this._headingCharacterLimit}},{key:"customOptions",get:function(){return this._customOptions}},{key:"defaultCode",get:function(){return this._defaultCode}},{key:"demandEnabled",get:function(){return this._demandEnabled}},{key:"dvPlacementId",get:function(){return this._dvPlacementId}},{key:"id",get:function(){return this._id}},{key:"iframeBuster",get:function(){return this._iframeBuster}},{key:"iframeWrap",get:function(){return this._iframeWrap}},{key:"imageHeight",get:function(){return this._imageHeight},set:function(t){return this._imageHeight=t,this}},{key:"imageWidth",get:function(){return this._imageWidth},set:function(t){return this._imageWidth=t,this}},{key:"invCode",get:function(){return this._invCode}},{key:"logoBlackList",get:function(){return this._logoBlackList}},{key:"publisherId",get:function(){return this._publisherId}},{key:"replaceParent",get:function(){return this._replaceParent}},{key:"sharingEnabled",get:function(){return this._sharingEnabled}},{key:"staging",get:function(){return this._staging}},{key:"templateCode",get:function(){return this._templateCode},set:function(t){return this._templateCode=t,this}},{key:"templates",get:function(){return this._templates}},{key:"timeoutDuration",get:function(){return this._timeoutDuration}},{key:"viewabilityTestingInfo",get:function(){return this._viewabilityTestingInfo}}]),M}(),N=function t(e){if("SCRIPT"===e.tagName&&"tl-third-party"!==e.className)e.parentNode.replaceChild(function(t){var e=document.createElement("SCRIPT");e.text=t.innerHTML;for(var n=t.attributes.length-1;0<=n;n--)e.setAttribute(t.attributes[n].name,t.attributes[n].value);return e}(e),e);else for(var n=0,r=e.childNodes;n<r.length;)t(r[n++]);return e},Qt=function(){function e(t){z()(this,e),this.document=t.document,this.window=t.window}return v()(e,[{key:"wrapAd",value:function(t){var e=this.document.createElement("DIV");return e.style.display="inline",e.className="tlod",e.innerHTML=t,e}}],[{key:"insertAd",value:function(t,e){if(!e||!e.parentNode)throw new Ct.a("insertAd failed: hook element not on dom");e.parentNode.insertBefore(t,e),N(t)}},{key:"serveDefaultFrame",value:function(t,e){if(!e)throw new Ct.a("serveDefaultFrame: tried to write default code but doc is unavailable");e.open(),e.write(t),e.close()}}]),e}(),j=-1;function Gt(t){var n,r,e=t.adWrapperWithDims,i=t.mainContent,a=t.positionService,o=t.pageInfo,s=t.bundleStartTime,c=t.firePix,u=t.errorHandler,l=a.getElDims(e),d=a.getElDims(i),f={ad_w:l.width,ad_h:l.height,img_w:d.width,img_h:d.height,render_time:Date.now()-s,ft:o.getFrameType()};if(o.isClientAware()){var h=a.getClientDims();f.client_w=h.width,f.client_h=h.height}else f.client_w=j,f.client_h=j;if(o.isPositionAware()){var p=function(t,e,n,r){var i,a;try{var o=t.ownerDocument,s=o.defaultView.top.document.body,c=n.getBoundingRect(s);i=e.top-c.top,a=e.left-c.left}catch(t){r.fireError("could not access top when getting ad position",Et.a.ERROR_LEVELS.WARNING),a=i=j}return{top:i,left:a}}(e,a.getBoundingRect(e),a,u);f.pos_left=p.left,f.pos_top=p.top}else f.pos_left=j,f.pos_top=j;c.fireEB(g.f,(n=f,r={},Object.keys(n).forEach(function(t){var e=n[t];r[t]="number"==typeof e?Math.round(e):e}),r))}var Yt=function(){function d(t){z()(this,d),this.done=!1,this.util=t}return v()(d,[{key:"serve",value:function(t,e,n){var r=t.hook,i=t.docInfo,a=t.defaultCode,o=t.pageInfo,s=t.firePix,c=t.userSync,u=t.adRendered;if(this.done||u)return!1;this.done=!0,d.renderDefault(a,r,i);var l=this.util.objMerge(this.util.URIEncodeFields(o.get()),{rr:e});return n&&s.setAuctionId(n),s.fireEB(g.g,l),c&&c.doSyncIfAllDone(),!0}}],[{key:"renderDefault",value:function(t,e,n){if(t)if(n.window!==top)Qt.serveDefaultFrame(t,n.window.document);else{var r=new Qt(n).wrapAd(t);Qt.insertAd(r,e)}}}]),d}(),R=(u(62),u(28),u(113)),P=u.n(R),Zt=(u(108),u(8)),V="tl-img-src-place-holder",F="tl-img-srcset-place-holder",Jt=function(){function i(t){z()(this,i),this.errorHandler=t,this.templateDetail={string:""},this.chosenTemplate=null,this.templateWrapEl=null}return v()(i,[{key:"parse",value:function(t){var e=i.makeTemplateWrapEl(i.getTransformedMacroSrcAttrs(t)),n=i.markElements(e),r=n.innerHTML;Zt.a.removeAllChildren(n),this.templateDetail.string=i.getInterpolatedMacroSrcAttrs(r),this.templateWrapEl=e,this.chosenTemplate=n}},{key:"getAltTemplate",value:function(t,e,n,r){if(!t)return this.errNoAltTemplates(),{};var i=+r||+n||+e;if(isNaN(Number(i)))return{};var a=Zt.a.find(t,function(t){return t.id===i});if(!a)return this.errTemplateNotFound(i),{};a.id;return P()(a,["id"])}},{key:"errNoAltTemplates",value:function(){this.errorHandler.fireError("templateId specified but no templates found on placement. Default templateCode used.",Et.a.ERROR_LEVELS.WARNING)}},{key:"errTemplateNotFound",value:function(t){var e="Cannot find templateCode with id = ".concat(t," in templateList. Default templateCode used");this.errorHandler.fireError(e,Et.a.ERROR_LEVELS.WARNING)}}],[{key:"markElements",value:function(n){return n&&1===n.nodeType&&(i.isClickThroughEl(n)&&n.classList.add("".concat(Et.a.TL_CLASS_PREFIX,"clickthrough-url")),i.isLogoEl(n)&&n.classList.add("".concat(Et.a.TL_CLASS_PREFIX,"logo-img")),i.isSubHeadlineEl(n)&&n.classList.add("".concat(Et.a.TL_CLASS_PREFIX,"sub-headline")),[].forEach.call(n.childNodes,function(e){3===e.nodeType&&Et.a.TEXT_FIELDS.forEach(function(t){-1<e.textContent.toLowerCase().indexOf("%%%".concat(t,"%%%"))&&n.classList.add("".concat(Et.a.TL_CLASS_PREFIX).concat(t))}),i.markElements(e)})),n}},{key:"isClickThroughEl",value:function(t){if(!t||!t.tagName||!t.getAttribute("href"))return!1;var e=t.tagName.toLowerCase(),n=t.getAttribute("href").toLowerCase();return"a"===e&&-1<n.indexOf("%%%clickthrough_url%%%")}},{key:"isLogoEl",value:function(t){if(!t||!t.tagName||!t.getAttribute(V))return!1;var e=t.tagName.toLowerCase(),n=t.getAttribute(V).toLowerCase();return"img"===e&&-1<n.indexOf("%%%logo_image_url%%%")}},{key:"isSubHeadlineEl",value:function(t){return t&&t.tagName&&t.innerHTML&&"%%%subheadline%%%"===t.innerHTML.toLowerCase()}},{key:"getTransformedMacroSrcAttrs",value:function(t){return t.replace(/src([="'\s]+%%%)/gi,"".concat(V,"$1")).replace(/srcset([="'\s]+%%%)/gi,"".concat(F,"$1"))}},{key:"getInterpolatedMacroSrcAttrs",value:function(t){var e=new RegExp(V,"g"),n=new RegExp(F,"g");return t.replace(e,"src").replace(n,"srcset")}},{key:"makeTemplateWrapEl",value:function(t){var e=document.createElement("div");return e.innerHTML=t,e}},{key:"hasMacro",value:function(t){return-1!==t.indexOf("%%%")}}]),i}(),U=u(64),B={moat:1,ias:2,dv:3,fk:4,apx:5,pix:6,adl:7},W=function(){function d(t,e){var n=t.docInfo,r=t.placement,i=t.mainImage,a=t.adDIV,o=t.tacticDetails,s=void 0===o?{}:o,c=t.formatId,u=e.creative,l=e.firePix;z()(this,d),this.docInfo=n,this.placement=r,this.mainImage=i,this.adDIV=a,this.viewabilityElement=a,this.creative=u,this.tacticDetails=s,this.formatId=c,this.firePix=l}return v()(d,[{key:"appendTags",value:function(t){for(var e=this.addViewabilityTestJS(t,window),n=this.getIntegrations(),r=0;r<e.length;r++){for(var i=e[r],a=!1,o=0;o<n.length;o++)if(i&&i.match&&i.match(n[o].regex)){n[o].action(i),a=!0;break}a||this.defaultAction(i)}}},{key:"getViewabilityID",value:function(){return this.viewabilityID||(this.viewabilityID=this.viewabilityElement.id||"tltpvid_".concat(Math.round(1e5*Math.random())),this.viewabilityElement.id=this.viewabilityID),this.viewabilityID}},{key:"getViewabilityClass",value:function(){if(!this.viewabilityClass){if(this.viewabilityClass="tltpvclass_".concat(Math.round(1e5*Math.random())),!this.viewabilityElement||!this.viewabilityElement.classList)throw new Ct.a("getViewabilityClass failed: invalid viewabilityElement",Et.a.ERROR_LEVELS.WARNING);this.viewabilityElement.classList.add(this.viewabilityClass)}return this.viewabilityClass}},{key:"appendScriptVE",value:function(t){var e=this.create3pScript(),n=this.mainImage;if(n.nextSibling)n.parentNode.insertBefore(e,n.nextSibling);else{var r=this.docInfo.document.createElement("IMG");r.style.display="none",n.parentNode.insertBefore(r,n),r.parentNode.insertBefore(n,r),r.parentNode.insertBefore(e,n.nextSibling),r.parentNode.removeChild(r)}e.src=t}},{key:"appendScriptAd",value:function(t){var e=this.create3pScript();this.adDIV.appendChild(e),e.src=t}},{key:"defaultAction",value:function(t){var e=this.create3pScript();this.viewabilityElement.appendChild(e),e.src=t}},{key:"create3pScript",value:function(){var t=this.docInfo.document.createElement("SCRIPT");return t.className="tl-third-party",t}},{key:"interpolateDimensions",value:function(t){var e=this.mainImage.getBoundingClientRect();return t.replace("[WIDTH]",e.width).replace("[HEIGHT]",e.height).replace("[CONTAINER_ID]",this.getViewabilityID())}},{key:"getIntegrations",value:function(){var r=this;return[{regex:/cdn\.adnxs/,action:function(t){r.appendScriptAd(t.replace("%native_dom_id%",r.getViewabilityID()))}},{regex:/cdn\.doubleverify/,action:function(t){var e=(t.match("findclass")?t:"".concat(t,"&findclass=1")).replace(/INSERT_SUPPLIER_ID/,"TripleLift").replace("[PLACEMENT_ID]",r.placement.id).replace("[DV_PLACEMENT_ID]",r.placement.dvPlacementId).replace(/INSERT_BTREG/,r.getViewabilityClass()).replace(/INSERT_BTADSRV/,r.getViewabilityClass());r.appendScriptAd(e)}},{regex:/adsafeprotected/,action:function(t){var e=r.tacticDetails,n=void 0!==r.tacticDetails.advid;r.appendScriptVE(t.replace("$!{AD_ID}",r.placement.id).replace("$!{ADVERTISER_ID}",n?e.advid:"0").replace("$!{INSERTION_ORDER_ID}",n?e.ioid:e.bmid))}},{regex:/voicefive/,action:function(t){var e=t.replace("[PLACEMENT_ID]",r.placement.placementID).replace("[TLVIEW_ID]",r.getViewabilityID());r.appendScriptVE(e)}},{regex:/js\.moatads/,action:function(t){var e=t.replace("_PUBLISHER_",r.placement.publisherId).replace("_PLACEMENT_ID_",r.placement.id).replace("_CREATIVE_",r.tacticDetails.clid).replace("_FORMAT_",r.formatId).replace("[TACTIC]",r.tacticDetails.tid).replace("[DSP]",r.tacticDetails.bmid).replace("[BRAND]",r.tacticDetails.brid).replace("[MOAT_Z_PARAMS]",Object(U.a)().makeZParamsString(r.creative,r.tacticDetails));e=e.match(/\[TLVIEW_ID]/)?e.replace("[TLVIEW_ID]",r.getViewabilityID()):e.concat("&tlview_id=",r.getViewabilityID()),r.appendScriptAd(e)}},{regex:/z\.moatads/,action:function(t){var e=t.replace("_PUBLISHER_",r.placement.publisherId).replace("_PLACEMENT_ID_",r.placement.id).replace("_CREATIVE_",r.tacticDetails.clid).replace("_FORMAT_",r.formatId).replace("[TACTIC]",r.tacticDetails.tid).replace("[DSP]",r.tacticDetails.bmid).replace("[BRAND]",r.tacticDetails.brid).replace("[MOAT_Z_PARAMS]",Object(U.a)().makeZParamsString(r.creative,r.tacticDetails));e=e.match(/\[TLVIEW_ID]/)?e.replace("[TLVIEW_ID]",r.getViewabilityID()):e.concat("&tlview_id=",r.getViewabilityID()),r.appendScriptAd(e)}},{regex:/c\.betrad/,action:function(t){r.appendScriptAd(r.interpolateDimensions(t))}},{regex:/choices\.truste/,action:function(t){r.appendScriptAd(r.interpolateDimensions(t))}},{regex:/ybp\.yahoo/,action:function(t){r.appendScriptAd(t.replace("TLVIEW_ID",r.getViewabilityID()))}},{regex:/fk\.unicornengine/,action:function(t){r.appendScriptAd(t.replace("TLVIEW_ID",r.getViewabilityID()).replace("PLACEMENT_ID",r.placement.id).replace("TIMESTAMP",Date.now()))}},{regex:/q\.adrta/,action:function(t){r.appendScriptAd(t.replace("[DIV_ID]",r.getViewabilityID()))}},{regex:/j\.adlooxtracking/,action:function(t){r.appendScriptAd(t.replace("[TLVIEW_ID]",r.getViewabilityID()))}}]}},{key:"addViewabilityTestJS",value:function(t,e){var n=this.creative.getParams(),r=n.viewability||{},i={pid:this.placement.id,unid:n.additional_data.unid||0};if(this.creative.isAutoplay()){for(var a in r)r[a]&&(i.vid=B[a],i.sr=r[a],this.firePix.fireEB(g.i,i));return t}var o="https:"===e.location.protocol;if(r.moat){var s=o?"https://z.":"http://js.",c=Object(U.a)().makeZParamsString(this.creative,this.tacticDetails);t.push("".concat(s,"moatads.com/triplelift879988051105/moatad.js")+"#moatClientLevel1=_PUBLISHER_&moatClientLevel2=_PLACEMENT_ID_&moatClientLevel3=_CREATIVE_&moatClientLevel4=_FORMAT_&moatClientSlicer1=[DSP]&moatClientSlicer2=[BRAND]&tlview_id=[TLVIEW_ID]"+"&zMoatTactic=[TACTIC]&zMoatPixelParams=".concat(c)),i.vid=B.moat,i.sr=r.moat,this.firePix.fireEB(g.i,i)}if(r.ias){var u=o?"https:":"http:";t.push("".concat(u,"//pixel.adsafeprotected.com/jload?anId=8617&advId=$!{ADVERTISER_ID}&")+"campId=$!{INSERTION_ORDER_ID}&pubId=$!{INVENTORY_SOURCE_ID}&chanId=$!{PACKAGE_ID}&placementId=$!{AD_ID}&adsafe_url=$!{SITE_URL}&adsafe_type=v"),i.vid=B.ias,i.sr=r.ias,this.firePix.fireEB(g.i,i)}if(r.dv){var l=o?"https:":"http:";t.push("".concat(l,"//cdn.doubleverify.com/dvtp_src.js?ctx=2334102&")+"cmp=2334104&sid=triplelift&plc=[DV_PLACEMENT_ID]&num=&adid=&advid=2334103&adsrv=0&region=30&btreg=INSERT_BTREG&btadsrv=INSERT_BTADSRV&crt=&crtname=&chnl=&unit=&pid=&uid=&tagtype=&dvtagver=6.1.src&findclass=1"),i.vid=B.dv,i.sr=r.dv,this.firePix.fireEB(g.i,i)}if(r.fk){var d=o?"https:":"http:";t.push("".concat(d,"//fk.unicornengine.net/ada/117/205667136/")+"viewid=TLVIEW_ID;pid=PLACEMENT_ID/TIMESTAMP/"),i.vid=B.fk,i.sr=r.fk,this.firePix.fireEB(g.i,i)}if(r.apx){var f=o?"https:":"http:";t.push("".concat(f,"//cdn.adnxs.com/v/s/112/trk.js#v;tv=native-test;native=1;dom_id=")+"%native_dom_id%;st=0;d=1x1;vc=iab;vid_ccr=1;an_sdk=1;tag_id=12350495;cb=http%3A%2F%2Ffra1-ib.adnxs.com%2Fvevent%3Fe%3DwqT_3QL5BqB5AwAAAwDWAAUBCJmth9MFEOG_loLBiueEIxiamLHqnKPMylkqNgkAAAECCAhAEQEHEAAACEAZCQkI8D8hCQkICEApEQkAMQkJsAAAMJ_o8QU4zhJAzhJIAlC994knWNSeH2AAaN7dGHjtyASAAQGKAQNVU0SSAQEG8FCYAQGgAQGoAQGwAQC4AQDAAQTIAQLQAQDYAQDgAQDwAQCKAjp1ZignYScsIDM5MzgwMSwgMTUxNjM2MTM2OSk7dWYoJ3InLCA4MTk1MTY3NywyHgDwnJIC-QEhNHpYcWVBaUVnTmtDRUwzM2lTY1lBQ0RVbmg4d0FEZ0FRQVJJemhKUW4tanhCVmdBWU1vSGFBQndDbmo0bVFHQUFiSURpQUZva0FFQm1BRUJvQUVCcUFFRHNBRUF1UUctMEV6RkFBQUlRTUVCdnRCTXhRQUFDRURKQVFSTHpPUll5OVFfMlFFQUFBQUFBQUR3UC1BQkFQVUIFDyhKZ0NBS0FDQUxVQwUQBEwwCQjwTE1BQ0FNZ0NBT0FDQU9nQ0FQZ0NBSUFEQVpBREFKZ0RBYWdEaElEWkFyb0RFV1JsWm1GMWJIUWpSbEpCTVRvek56QTSaAjkhdWdzcTl3NvwA9FQBMUo0ZklBUW9BRG9SWkdWbVlYVnNkQ05HVWtFeE9qTTNNRGcu2AKfCeACjKYO6gIzaHR0cDovL3Rlc3RwYWdlcy5tY2FyLW1hYy5hbGVudHkuZnIvMDFfYmFzaWNfc2luZ2xlgAMAiAMBkAMAmAMXoAMBqgMAwAOQHMgDANIDLAgCEigwMjhkZjRlMzY0MzdlOThmOWU5M2MzYWUwZjlmOTllNTEyYTI4Y2Vl0gMkCAQSIDg3NDdhOTk1OTQzODIyZjc4NzU0ZDIwNTg3ZjdiNGY32AMA4AMA6AMA-AMCgAQAkgQGL3V0L3YzmAQAogQKMTAuMi4xMi4xMagEvZNwsgQQCAAQARisAiD6ASgAMAA4ArgEAMAEAMgEANIEEWRlZmF1bHQjRlJBMTozNzA42gQCCAHgBADwBL33iSeIBQGYBQCgBf___________wHABQDJBQBF_xTwP9IFCQkFC1QAAADYBQHgBQHwBQH6BQQIABAAkAYA%26s%3D4604caf2bd786775fa256dca81881be0f0bb9312%26referrer%3D;ts=1516361369;cet=0;cecb="),i.vid=B.apx,i.sr=r.apx,this.firePix.fireEB(g.i,i)}if(r.pix){var h=o?"https:":"http:";t.push("".concat(h,"//q.adrta.com/s/tpl/aa.js?cb=[CACHEBUSTER]#tpl;paid=ss;")+"avid=[ADVERTISER_ID];caid=[CAMPAIGN_ID];publisherId=[PUBLISHER_ID];kv24=[SUPPLY_TYPE];divid=[DIV_ID]"),i.vid=B.pix,i.sr=r.pix,this.firePix.fireEB(g.i,i)}if(r.adl){var p=o?"https:":"http:";t.push("".concat(p,"//j.adlooxtracking.com/ads/js/tfav_adl_321.js#platform=159")+"&scriptname=adl_321&tagid=874&typejs=tvaf&fwtype=2&creatype=2&targetelt=tlview_id=[TLVIEW_ID]&custom2area=0&custom2sec=0&id1=tlview_id=[TLVIEW_ID]&id2=&id3=&id4=&id5="),i.vid=B.adl,i.sr=r.adl,this.firePix.fireEB("tpvpx",i)}return t}}]),d}(),H=0,Q=1,G=2,Y=3,Z=4,J=6,qt=function(){function c(t,e){var n=t.docInfo,r=t.placement,i=e.creative,a=e.auctionIFRAMEWriterOverride,o=e.firePix,s=e.errorHandler;z()(this,c),p()(this,"firePix",void 0),p()(this,"auctionIFRAMEWriterOverride",void 0),p()(this,"macros",void 0),p()(this,"docInfo",void 0),p()(this,"placement",void 0),p()(this,"errorHandler",void 0),p()(this,"creative",void 0),p()(this,"creativeParams",void 0),p()(this,"shouldWaitForPassthru",!0),p()(this,"passthruClickTracker",null),p()(this,"passthruTimer",null),p()(this,"thirdPartyJS",null),p()(this,"hasBilled",!1),p()(this,"isCachedAppendJsEvent",!1),p()(this,"numClicks",0),p()(this,"cachedTrackers",[]),this.docInfo=n,this.placement=r,this.creative=i,this.creativeParams=i.getParams(),this.firePix=o,this.auctionIFRAMEWriterOverride=a,this.errorHandler=s}return v()(c,[{key:"passthru",value:function(t,e){this.shouldWaitForPassthru&&(this.shouldWaitForPassthru=!1,clearTimeout(this.passthruTimer),this.passthruClickTracker=t,this.macros="string"==typeof e?JSON.parse(e):e,this.fireAllCachedTrackers(),this.expandAllClickThroughMacros(),this.creativeParams.nob_passthru&&this.creative.getVastTag()&&this.macros&&this.expandVastMacros())}},{key:"expandTracker",value:function(t,e){if(e.__cdata){var n=e;return n.__cdata=this._expandMacros(t,e.toString()),n}return this._expandMacros(t,e)}},{key:"expandVastMacros",value:function(){var e=this,n=this.creative.getVastTag(),r=this.macros;try{var i={impressions:n.getImpressionTrackers()||[],mediaFiles:n.getVastMediaFiles()||[],clickTrackers:n.getVideoClickTrackers()||[],clickthrough:n.getVastClickThroughUrl()||[],assortedTrackers:n.getAssortedTrackers()||[]};Object.keys(i).forEach(function(t){Array.isArray(i[t])?i[t]=i[t].map(function(t){return e.expandTracker(r,t)}):i[t]=e.expandTracker(r,i[t])})}catch(t){this.firePix.fireDyn({long1:457,string2:JSON.stringify(n.getVastWrapperBreadcrumbs())}),this.errorHandler.fireError(t,Et.a.ERROR_LEVELS.ERROR)}}},{key:"fireAllCachedTrackers",value:function(){this.firePreviousClicks(),this.fireCachedTrackers(),this.fireCachedJs()}},{key:"expandAllClickThroughMacros",value:function(){var t,e=this,n="clickthrough_url";this.creativeParams=It()({},this.creativeParams,(t={},p()(t,n,this.expandClickThroughMacro(this.creativeParams)),p()(t,"allImages",this.creativeParams.allImages.map(function(t){return It()({},t,p()({},n,e.expandClickThroughMacro(t)))})),t))}},{key:"expandClickThroughMacro",value:function(t){var e=this._expandMacros(this.macros,t.origClickThroughUrl);return this.creative.expandAndRedirectClickThrough(t,e)}},{key:"fireCachedTrackers",value:function(){var e=this;this.cachedTrackers.map(function(t){return e._expandMacros(e.macros,t)}).forEach(function(t){return e.firePix.fire(t)})}},{key:"fireCachedJs",value:function(){this.isCachedAppendJsEvent&&this.appendJs()}},{key:"firePreviousClicks",value:function(){for(var t=this._expandMacros(this.macros,this.passthruClickTracker),e=0;e<this.numClicks;e++)this.firePix.fire(t)}},{key:"billOrWait",value:function(){var t=this.creativeParams.billable_event;t&&t!==H&&t!==Q||this.bill()}},{key:"bill",value:function(){this.hasBilled||(this.hasBilled=!0,this.creativeParams.billable_pixel&&this.firePix.fire(this.creativeParams.billable_pixel),this.creativeParams.nob_passthru?this._startPassthruTimer():(this.shouldWaitForPassthru=!1,this.fireAllCachedTrackers()),this.creativeParams.ad_markup&&this.auctionIFRAMEWriterOverride.newWriter(this.creativeParams.ad_markup))}},{key:"fire3pTracker",value:function(t){this.shouldWaitForPassthru?this.cacheTracker(t):this.firePix.fire(this._expandMacros(this.macros,t))}},{key:"cacheTracker",value:function(t){this.cachedTrackers.push(t)}},{key:"fireImpression",value:function(){var e=this;this.creativeParams.thirdPartyTrackers.impressionPixels.forEach(function(t){return e.fire3pTracker(t)})}},{key:"fireClick",value:function(t){this.numClicks++;var e=(void 0===t?this.creativeParams:this.creativeParams.allImages[t]).thirdPartyTrackers.clickPixels;this.passthruClickTracker&&(e=e.concat([this.passthruClickTracker])),this.creativeParams.billable_event===Z&&this.bill(),e.forEach(this.fire3pTracker.bind(this))}},{key:"fireViewable",value:function(){this.creativeParams.billable_event===G&&this.bill(),this.creativeParams.thirdPartyTrackers.viewabilityPixels.forEach(this.fire3pTracker.bind(this))}},{key:"fireOnePxViewable",value:function(){this.creativeParams.billable_event===J&&this.bill()}},{key:"firePlay",value:function(){this.creativeParams.billable_event===Y&&this.bill()}},{key:"appendJsOnPassthru",value:function(t,e){this.thirdPartyJS=new W({docInfo:this.docInfo,placement:this.placement,mainImage:e,adDIV:t,tacticDetails:this.creativeParams.additional_data,formatId:this.creativeParams.format_id},{creative:this.creative,firePix:this.firePix}),this.shouldWaitForPassthru?this.isCachedAppendJsEvent=!0:this.appendJs()}},{key:"appendJs",value:function(){var e=this,t=this.creativeParams.thirdPartyTrackers.jsTrackers||[];this.thirdPartyJS.appendTags(t.map(function(t){return e._expandMacros(e.macros,t)}))}},{key:"_expandMacros",value:function(t,e){if(!t||!e)return e;var r=e;return Zt.a.forEachObj(t,function(t,e){var n=t;n="%"===t[0]&&"{"===t[1]?"$".concat(t.slice(1)):"%"===t[0]&&"["===t[1]?"{".concat(t.slice(2,t.length-1),"}"):t[0]+t.slice(3,t.length),n=new RegExp(Zt.a.escapeRegExp(n),"g"),r=r.replace(n,e)}),r}},{key:"_startPassthruTimer",value:function(){var t=this;this.passthruTimer=setTimeout(function(){t.errorHandler.fireError("Passthru invocation timed out",Et.a.ERROR_LEVELS.ERROR)},8e3)}}]),c}(),q={},Xt=function(){function t(){z()(this,t),this.allRenderedAssets=q}return v()(t,[{key:"dispatchIfUnique",value:function(t,e,n,r){var i=t.adRendered,a=t.defaultCode,o=t.docInfo,s=t.firePix,c=t.hook,u=t.pageInfo,l=t.userSync,d=t.serveDefault,f=!1;if(this.allRenderedAssets[n]=this.allRenderedAssets[n]||[],this._areAssetsUnique(n,r))e(),this._trackAssets(n,r);else{var h={adRendered:i,defaultCode:a,docInfo:o,firePix:s,hook:c,pageInfo:u,userSync:l};f=d.serve(h,"redundant_asset")}return f}},{key:"_areAssetsUnique",value:function(e,t){var n=this;return t.every(function(t){return n._isAssetUnique(e,t)})}},{key:"_isAssetUnique",value:function(t,e){return!this.allRenderedAssets[t][e]}},{key:"_trackAssets",value:function(e,t){var n=this;t.forEach(function(t){return n._trackAsset(e,t)})}},{key:"_trackAsset",value:function(t,e){this.allRenderedAssets[t][e]=!0}}]),t}(),Kt=function(){function c(t,e){var n=t.docInfo,r=t.placement,i=t.environment,a=e.urlParams,o=e.util,s=e.gdprVendorConsentData;z()(this,c),this.window=n.topWindow,this.debugFlag=a.debugFlag,this.placement=r,this.environment=i,this.util=o,this.gdprVendorConsentData=s,this.tlSyncDone=!1,this.window._tlTagsPending=(this.window._tlTagsPending||0)+1,this.placement.customOptions.userSyncsDisabled&&(this.tlSyncDone=!0)}return v()(c,[{key:"doSync",value:function(){if(!this.tlSyncDone){this.tlSyncDone=!0;var t={},e=this.placement.customOptions.maxUserSyncs;e&&(t.max=e),this.debugFlag&&(t.debug=1),this.gdprVendorConsentData&&(t.gdpr=this.gdprVendorConsentData.gdprApplies,null!==this.gdprVendorConsentData.consentData&&(t.cmp_cs=this.gdprVendorConsentData.consentData));var n=Object(bt.k)(this.environment.ebPath,"sync",t),r=document.createElement("iframe");this.util.iframeHide(r),r.src=n,document.body.appendChild(r)}}},{key:"doSyncIfAllDone",value:function(){if(0==--this.window._tlTagsPending)if("complete"===this.window.document.readyState)this.doSync();else{var t=this;this.window.addEventListener("load",function(){t.doSync()},!1)}}}]),c}(),$t=function(){function o(t){var e=t.docInfo,n=t.positionService,r=t.hook,i=t.errorHandler,a=t.placement;z()(this,o),this.document=e.document,this.window=e.window,this.positionService=n,this.placement=a,this.hook=r,this.errorHandler=i}return v()(o,[{key:"getVbasElement",value:function(t){var e,n=this.placement.customOptions.vbasSelector;return n&&(e=this.getVbasElementBySelector(n)),e||(e=this.getVbasElementByDefault(t)),e}},{key:"getVbasElementBySelector",value:function(t){var e,n=t.slice(0,1),r=t.slice(1);if("."===n?e=document.getElementsByClassName(r)[0]:"#"===n&&(e=document.getElementById(r)),!e){var i='element matching vbasSelector "'.concat(t,'" not found');this.errorHandler.fireError(i,Et.a.ERROR_LEVELS.WARNING)}return e}},{key:"getVbasElementByDefault",value:function(t){for(var e=t;!e.offsetTop&&(e.previousElementSibling||e.parentElement);)e=e.previousElementSibling||e.parentElement;return e}},{key:"vbasStart",value:function(t){var e=this.getVbasElement(this.hook);this.listenForNearView(e,t)}},{key:"listenForNearView",value:function(r,i){var a=this;!function t(){var e=a.positionService.getClientDims().height;var n=a.positionService.getBoundingRect(r);n.top<=e+200?i():setTimeout(t,300)}()}},{key:"listenForPercentageAdViewability",value:function(t,i){var a=this,o=this.getRequiredPct(t),s=0;!function t(){var e=Date.now(),n=0!==s;if(n&&1e3<=e-s)i();else{var r=a.positionService.getAdPctInView();o<=r?n||(s=e):s=0,setTimeout(t,100)}}()}},{key:"listenForOnePxAdViewability",value:function(e){var n=this;!function t(){0<n.positionService.getAdPctInView()?e():setTimeout(t,100)}()}},{key:"getRequiredPct",value:function(t){return 242500<=t.clientWidth*t.clientHeight?.3:.5}}]),o}(),te=function(){function s(t,e){var n=t.ttjStartTime,r=void 0===n?0:n,i=t.revision,a=t.isTestEnv,o=e.firePix;z()(this,s),this.ttjStartTime=r,this.revision=i,this.firePix=o,this.formatId=null,this.isHeaderBidding=!1,this.shouldLog=0<r&&!a&&Math.random()<=.01}return v()(s,[{key:"log",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Date.now();if(this.shouldLog){var n=e-this.ttjStartTime,r={string2:this.revision,string3:this.isHeaderBidding?"header".concat(t.replace(/^./,function(t){return t.toUpperCase()})):t,long1:60003,long2:n,long3:this.formatId};this.firePix.fireDyn(r)}}},{key:"setFormatId",value:function(t){this.formatId=t}},{key:"setIsHeaderBidding",value:function(t){this.isHeaderBidding=t}}]),s}();p()(te,"BUNDLE_LOAD_TIME","bundleLoadTime"),p()(te,"AUCTION_START","auctionStart"),p()(te,"AUCTION_RESPONSE","auctionResponse"),p()(te,"RENDER","render"),p()(te,"AD_ON_PAGE","adOnPage");var X=function(t,e){var n=parseInt(e,10),r=t;if(!t||!n||n<3)return t;var i,a,o,s,c,u,l,d,f=t.match(/(.*)(<a.*>)(.*)(<\/a>)(.*)/);return f?(a=n,o=(i=f)[1],s=i[2],c=i[3],u=i[4],l=i[5],(d=o.length+c.length+l.length-a+3)<=3||(l=d<=l.length?"".concat(l.substr(0,l.length-d),"..."):d<=l.length+c.length?(d-=l.length,c="".concat(c.substr(0,c.length-d),"..."),""):(d-=l.length+c.length,o="".concat(o.substr(0,o.length-d),"..."),u=c=s="")),o+s+c+u+l):(n<t.length&&(r="".concat(t.substr(0,n-3),"...")),r)},K=function(t,e,n){return n&&t&&t.toLowerCase()===e?n:t},$=function(){function l(t){var e=t.creativePayload,n=t.environment,r=t.placement,i=t.pageInfo,a=t.isSmallScreen,o=t.clickTrackerDTJ,s=t.debug,c=t.templateDetail,u=t.tlImageId;z()(this,l),p()(this,"params",null),p()(this,"creativePayload",null),p()(this,"formatId",null),p()(this,"environment",null),p()(this,"placement",null),p()(this,"isSmallScreen",null),p()(this,"clickTrackerDTJ",null),p()(this,"pageInfo",null),p()(this,"debug",!1),this.creativePayload=e,this.formatId=e.settings.format_id,this.environment=n,this.placement=r,this.isSmallScreen=a,this.clickTrackerDTJ=o,this.pageInfo=i,this.debug=s,this.templateDetail=c,this.tlImageId=u,this.params=null,this.initParams()}return v()(l,[{key:"initParams",value:function(){var e=this,t=this.creativePayload.assets;t=(t=(t=t.map(function(t){return e.processClickThroughUrl(t)})).map(function(t){return e._appendThirdPartyTrackers(t)})).map(function(t){return function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100,r={caption:X(t.caption,e),heading:X(t.heading,n)};return Object.assign({},t,r)}(t,e.placement.captionCharacterLimit,e.placement.headingCharacterLimit)}),this.params=this.makeParams(t)}},{key:"makeParams",value:function(t){var e,n,r,i,a,o,s,c,u,l=(n=t,(r=this.tlImageId)&&n.find(function(t){return r===t.image_id})||null||(e=t)[Math.floor(Math.random()*e.length)]),d=It()({},this.creativePayload.settings,l);d.allImages=t,d.heading=this._getHeading(d),d.caption=this._getCaption(d),d.isCSR=(i=d.client_side_render,a=d.image_id,i||+a<0),d.adchoices_url=(o=d.adchoices_url,s=Et.a.DEFAULT_ADCHOICES_URL,Object(bt.h)(o)||s),d.logo_image_url=(u=(c=d).logo_image_url||c.light_logo_url,Object(bt.h)(u)),d.render_options_bm=d.render_options_bm||0,d.orig_image_url=d.image_url;var f=this._getProcessedImageUrlAndSrcSet(d,this.templateDetail),h=f.processedImageUrl,p=f.srcSet;return d.image_url=h,d.image_srcset_2x=p,d}},{key:"_getHeading",value:function(t){var e=this.placement.customOptions.defaultHeadingOverride;return K(t.heading,"sponsored video",e)}},{key:"_getCaption",value:function(t){var e=this.placement.customOptions.defaultCaptionOverride;return K(t.caption,"watch to learn more",e)}},{key:"doesFormatUseTemplateImgTag",value:function(){return-1<[this.environment.formats.image,this.environment.formats.video].indexOf(this.formatId)}},{key:"_getProcessedImageUrlAndSrcSet",value:function(t,e){var n=null,r=null;if(this.formatId===this.environment.formats.cinemagraph)n=this._determineAnimatedUrl(t);else if(t.image_url&&this.doesFormatUseTemplateImgTag())if(t.isCSR)n=t.image_url;else{var i={url:t.orig_image_url,imgServerParams:t.img_server_params,tlImgAddr:this.environment.tlImageAddr,placementWidth:this.placement.imageWidth,placementHeight:this.placement.imageHeight,logoBlackList:this.placement.logoBlackList,noLogo:t.customization&&t.customization.reveal,templateDetail:e};n=this.createDynamicImageURL(i),r=this._createImageSrcset(It()({},i,{placementWidth:2*this.placement.imageWidth,placementHeight:2*this.placement.imageHeight}))}else n=Et.a.TINY_IMG_DATA;return{processedImageUrl:n,srcSet:r}}},{key:"expandAndRedirectClickThrough",value:function(t){var e=t.origClickThroughUrl;if(!e)return e;var n,r,i,a,o,s=t.asset_id||this.creativePayload.settings.asset_id,c=this.creativePayload.settings.additional_data.tid,u=this.creativePayload.settings.additional_data.uid,l=this.expandFirstPartyMacros(c,s,this.clickTrackerDTJ);return e=this.expandFirstPartyMacros(c,s,e),r=e,e=(n=l)?decodeURIComponent(n)+encodeURIComponent(r):r,i=u,a=this.environment.ebPath,o=["tl_clickthrough=true","redir=".concat(encodeURIComponent(e))],i&&o.push("tluid=".concat(encodeURIComponent(i))),e=Object(bt.a)("//".concat(a,"/pass?").concat(o.join("&")))}},{key:"processClickThroughUrl",value:function(t){var e=t,n=e.clickthrough_url||this.creativePayload.settings.clickthrough_url;return(e.origClickThroughUrl=n)&&(e.clickthrough_url=this.expandAndRedirectClickThrough(e)),e}},{key:"expandFirstPartyMacros",value:function(t,e,n){if(!n)return null;var r=n,i=this.pageInfo.get().ref,a=Object(bt.p)(i).host;return r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace(/\[domain]/gi,a)).replace(/\[placement_id]/gi,this.placement.id)).replace(/\[campaign]/gi,t)).replace(/\[ad]/gi,e)).replace(/\[timestamp]/gi,(new Date).getTime())).replace(/%time%/gi,(new Date).getTime())).replace(/\[cachebuster]/gi,Object(bt.r)(1e10))).replace(/\[random_number]/gi,Object(bt.r)(1e10))).replace(/\${cachebuster}/gi,Object(bt.r)(1e10))).replace(/{isfallback}/gi,this.creativePayload.settings.isFallbackAssets)}},{key:"createDynamicImageURL",value:function(t){var e=t.url,n=t.tlImgAddr,r=t.placementWidth,i=t.placementHeight,a=t.imgServerParams||"",o=t.logoBlackList||"";t.noLogo&&(a=Zt.a.removeQueryStringParam(a,"lp"),o="NW,NE,SE,SW");var s=[],c=this.templateDetail.width||("0"===r?NaN:r),u=this.templateDetail.height||("0"===i?NaN:i);return s.push("width=".concat(c)),s.push("height=".concat(u)),s.push("url=".concat(encodeURIComponent(e))),s.push("logo_exclude=".concat(o)),Object(bt.a)("//".concat(n,"/?").concat(s.join("&"),"&").concat(a))}},{key:"createAllDynamicImageURLS",value:function(e){var n=this,r=this.placement.imageWidth,i=this.placement.imageHeight;return this.params.allImages.map(function(t){return n.createDynamicImageURL({url:t.image_url,imgServerParams:t.img_server_params,noLogo:e,tlImgAddr:n.environment.tlImageAddr,placementHeight:i,placementWidth:r,logoBlackList:"SE,SW,NW"})})}},{key:"isBanner",value:function(){return this.formatId===this.environment.formats.header_direct_banner}},{key:"isCarousel",value:function(){return this.formatId===this.environment.formats.carousel}},{key:"isImage",value:function(){return this.formatId===this.environment.formats.image}},{key:"isCinemagraph",value:function(){return this.formatId===this.environment.formats.cinemagraph}},{key:"isScroll",value:function(){return this.formatId===this.environment.formats.scroll}},{key:"isWindow",value:function(){return this.formatId===this.environment.formats.skylight}},{key:"isPharma",value:function(){return this.formatId===this.environment.formats.pharma}},{key:"isVast",value:function(){return!1}},{key:"isAutoplay",value:function(){return!1}},{key:"isAdChoicesOptOut",value:function(){var t=this.params.render_options_bm,e=this.environment.renderOptionsMap;return!!Object(bt.d)(t,e.adchoices_opt_out)}},{key:"shouldVideoPauseOutOfView",value:function(){var t=this.params.render_options_bm,e=this.environment.renderOptionsMap,n=this.placement.customOptions.disableOutstreamVideoBehavior,r=Object(bt.d)(t,e.video_pause_out_view);return n||r}},{key:"getParams",value:function(){return this.params}},{key:"getBaseZIndex",value:function(){return Et.a.BASE_Z_INDEX}},{key:"getVastTag",value:function(){return null}},{key:"needsViewabilityAwareness",value:function(){return this.isScroll()||this.isWindow()}},{key:"hasClickThrough",value:function(){return!!this.params.clickthrough_url}},{key:"_appendThirdPartyTrackers",value:function(t){var e=this.creativePayload.settings,n=t.clickthrough_pixels||e.clickthrough_pixels||[],r=t.viewability_pixels||e.viewability_pixels||[],i=t.js_trackers||e.js_trackers||[],a=t.impression_pixels||e.impression_pixels||[],o=this._getClickTracker(t);o&&n.push(o);var s=t.third_party_duplicate_rate||e.third_party_duplicate_rate;s&&Math.random()<s&&(a=function(t){if(!t)return[];for(var e=t.slice(),n=0;n<e.length;n++)-1<e[n].indexOf("?")?e[n]+="&tlcb=${CACHEBUSTER}":e[n]+="?tlcb=${CACHEBUSTER}";return t.concat(e)}(a));var c=e.additional_data.tid,u=t.asset_id||e.asset_id,l=this.expandFirstPartyMacros.bind(this,c,u),d={impressionPixels:a.map(l),clickPixels:n.map(l),viewabilityPixels:r.map(l),jsTrackers:i.map(l)};return Object.assign(t,{thirdPartyTrackers:d})}},{key:"_determineAnimatedUrl",value:function(t){if(!t.animation_variants||!t.animation_variants.length||this.debug)return t.image_url;var e,n=t.animation_variants,r=100*Math.round((this.placement.imageWidth+100)/100),i=r&&-1<n.indexOf(r);if(!i&&this.isSmallScreen&&(r=Math.max.apply(null,n),i=!0),i){var a=Math.round(t.image_height/t.image_width*r);Object.assign(t,{focal_box:function(t,e,n){var r=t.focalBox,i={};if(!r)return null;var a=function(t,e,n){return Math.round(t/e*n)};return i.x1=a(r.x1,t.image_width,e),i.x2=a(r.x2,t.image_width,e),i.y1=a(r.y1,t.image_height,n),i.y2=a(r.y2,t.image_height,n),i}(t,r,a)},{image_width:r,image_height:a}),e=t.image_url.replace(".gif","_a".concat(r,".gif"))}else e=t.image_url;return e}},{key:"_createImageSrcset",value:function(t){return"".concat(this.createDynamicImageURL(t)," 2x")}},{key:"_getClickTracker",value:function(t){var e,n;return(n=t.click_tracker_url?(e=t.click_tracker_encoding_level,t.click_tracker_url):(e=this.creativePayload.settings.click_tracker_encoding_level,this.creativePayload.settings.click_tracker_url))?function(t,e){var n=parseInt(e,10),r=t;for(isNaN(n)&&(n=1);n--;)r=encodeURIComponent(r);return r}(n,e):n}}]),l}(),tt=u(46),et=u.n(tt),nt=u(26),rt=u.n(nt),it=u(63),at=u.n(it),ot=u(47),st=u.n(ot),ct=function(t){function e(){return z()(this,e),et()(this,rt()(e).apply(this,arguments))}return st()(e,t),v()(e,[{key:"initParams",value:function(){at()(rt()(e.prototype),"initParams",this).call(this),this._setAllImages()}},{key:"getAllImages",value:function(){return this.allImages}},{key:"getAllDynamicImageURLS",value:function(e){var n=this,r=this.placement.imageWidth,i=this.placement.imageHeight;return this.allImages.map(function(t){return n.createDynamicImageURL({url:t.image_url,imgServerParams:t.img_server_params,noLogo:e,tlImgAddr:n.environment.tlImageAddr,placementHeight:i,placementWidth:r,logoBlackList:"SE,SW,NW"})})}},{key:"_setAllImages",value:function(){this.allImages=Zt.a.chooseN(this.params.allImages,10)}}]),e}($),ut=u(86),lt=function(t){function n(t){var e;return z()(this,n),(e=et()(this,rt()(n).call(this,t))).vastTag=null,e}return st()(n,t),v()(n,[{key:"getVastTag",value:function(){return this.vastTag}},{key:"setVastTag",value:function(t){this.vastTag=t}},{key:"isVast",value:function(){return!0}},{key:"isAutoplay",value:function(){var t=this.environment.formats;return+this.formatId==+t.autoplay||+this.formatId==+t.outstream_video}},{key:"getBaseZIndex",value:function(){return this.placement.customOptions.videoZIndexOverride||ut.b.componentZIndex}},{key:"needsViewabilityAwareness",value:function(){return this.isAutoplay()}},{key:"allowVpaidToHandleClicks",value:function(){return!(!this.vastTag.isVpaid()||!this.isAutoplay()||this.hasClickThrough())}},{key:"hasClickThrough",value:function(){return!(!at()(rt()(n.prototype),"hasClickThrough",this).call(this)&&!this.vastTag.getVastClickThroughUrl())}}]),n}($),ee=function(){function t(){z()(this,t)}return v()(t,null,[{key:"create",value:function(t){var e=t.creativePayload,n=t.environment,r=e.settings.format_id,i=n.formats,a=[i.video,i.autoplay,i.outstream_video];return r===i.carousel?new ct(t):a.includes(r)?new lt(t):new $(t)}}]),t}(),dt={assets:[{asset_id:0,image_id:0,image_url:"https://images.3lift.com/5333898.jpg",image_w_over_h:1.7778,clickthrough_url:"http://www.doubleverify.com",heading:"",caption:"",cv_version:1,img_server_params:"v=0&cv_version=1"}],settings:{format_id:1,tactic_id:0,line_item_id:0,insertion_order_id:0,creative_library_id:0,advertiser_name:"Sponsor",additional_data:{clid:0,ioid:0,liid:0,tid:0,advid:0,bmid:0,aid:1}}},ft="allowCreative",ht="blockCreative",ne=function(){function r(t,e){var n=e.errorHandler;z()(this,r),this.creativePayload=t,this.iframe=this._makeIframe(),this.errorHandler=n}return v()(r,[{key:"callDV",value:function(){var e=this,t=this._makeScriptsString();return this.iframe.contentWindow.document.open(),this.iframe.contentWindow.document.write(t),this.iframe.contentWindow.document.close(),this._handler().catch(function(t){return e._onError(t,Et.a.ERROR_LEVELS.ERROR),e._overwriteCreativePayloadWithPSA()})}},{key:"_handler",value:function(){var n=this;return new Promise(function(t,e){n.iframe.contentWindow.onerror=function(t){e(t)},setTimeout(function(){e(new Ct.a("DoubleVerify timeout"))},1e4),n.iframe.contentWindow[ht]=function(){n._overwriteCreativePayloadWithPSA(),t()},n.iframe.contentWindow[ft]=t})}},{key:"_onError",value:function(t,e){this.errorHandler.fireError(t,e)}},{key:"_overwriteCreativePayloadWithPSA",value:function(){this.creativePayload.settings=dt.settings,this.creativePayload.assets=dt.assets}},{key:"_makeIframe",value:function(){var t=document.createElement("iframe");return t.style.display="none",document.body.appendChild(t),t}},{key:"_makeScriptsString",value:function(){var t=this.creativePayload.settings.dco_tag_url;return'\n      <script type="text/adtag"><script type="text/javascript">'.concat(ft,'();</scr+ipt><\/script>\n      <script type="text/passback"><script type="text/javascript">').concat(ht,'();</scr+ipt><\/script>\n      <script onerror="(function(el){el.onerror=\'this._onerror})(this)" type="text/javascript" src="').concat(t,'"><\/script>\n    ')}}]),r}(),pt="getConsentData",re=function(){function e(t){z()(this,e),this.win=t,this.handleGetConsentDataResponse=this.handleGetConsentDataResponse.bind(this),this.getConsentDataFromCmp=this.getConsentDataFromCmp.bind(this),this.handleTimeout=this.handleTimeout.bind(this),this.isVendorConsentDataValid=this.isVendorConsentDataValid.bind(this),this.getConsentData=this.getConsentData.bind(this)}var t,n;return v()(e,[{key:"getConsentData",value:(n=wt()(At.a.mark(function t(){return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof this.win.__cmp)throw new Ct.a("There is no available __cmp api",Et.a.ERROR_LEVELS.LOG);t.next=2;break;case 2:return t.abrupt("return",this.getConsentDataFromCmp());case 3:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})},{key:"getConsentDataFromCmp",value:(t=wt()(At.a.mark(function t(){var n,r=this;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise(function(t,e){n=setTimeout(function(){return r.handleTimeout(e)},1e3),r.win.__cmp(pt,null,r.handleGetConsentDataResponse(t))});case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new Ct.a("There was an error in the publisher __cmp API: ".concat(t.t0.message?t.t0.message:t.t0),Et.a.ERROR_LEVELS.LOG);case 9:return t.prev=9,clearTimeout(n),t.finish(9);case 12:case"end":return t.stop()}},t,null,[[0,6,9,12]])})),function(){return t.apply(this,arguments)})},{key:"handleGetConsentDataResponse",value:function(e){var n=this;return function(t){if(!n.isVendorConsentDataValid(t))throw new Ct.a("__cmp ".concat(pt," command did not return a valid vendorConsent object"),Et.a.ERROR_LEVELS.LOG);return e(t)}}},{key:"handleTimeout",value:function(t){t(new Ct.a("__cmp ".concat(pt," timeout"),Et.a.ERROR_LEVELS.LOG))}},{key:"isVendorConsentDataValid",value:function(t){return"object"===y()(t)&&"boolean"==typeof t.gdprApplies&&("string"==typeof t.consentData||null===t.consentData)}}]),e}(),gt=(u(154),0),vt=1,mt=2,yt=3,_t=4,ie=5,ae=6,oe=7,se=[gt,oe,vt,_t,ae,yt],ce=[gt,vt,oe],ue=[gt,oe,vt,_t,ae,ie,yt],le=[ie,mt,_t,ae,yt],de=function(){function r(t){var e=t.docInfo,n=t.placement;z()(this,r),this.docInfo=e,this.placement=n,this.cachedApis={},this.cachedPageInfo=null,this.cachedFrameType=null}return v()(r,[{key:"get",value:function(){return this.cachedPageInfo||(this.docInfo.canAccessTop?(e="undefined"===(e=Object(bt.p)(this.docInfo.topDocument.referrer).host)?"":e,t=this.docInfo.topDocument.URL):(e="can't access top document",this.placement.customOptions.isAmp?t=this.getAmpReferrer():(t=this.docInfo.document.referrer,(n=this.placement.customOptions.referrerOverride)&&0<=n.indexOf(Object(bt.p)(t).host)&&(t=document.URL))),t=Zt.a.truncateUrl(t,600),this.cachedPageInfo={domain:this.docInfo.document.domain,ref:t,pr:e||"un"}),this.cachedPageInfo;var t,e,n}},{key:"getAmpReferrer",value:function(){var e,t=Object(bt.p)(this.docInfo.document.URL);try{e=JSON.parse(t.anchor)}catch(t){e={}}var n=Object(bt.p)(this.docInfo.document.referrer),r=Zt.a.objMerge(t.queryKey,n.queryKey);return(r=Zt.a.objMerge(r,e)).url?decodeURIComponent(r.url):r._context&&r._context.canonicalUrl?r._context.canonicalUrl:r.top?decodeURIComponent(r.top):r.loc?decodeURIComponent(r.loc):r.iu?decodeURIComponent(r.iu):this.docInfo.document.referrer}},{key:"getFrameType",value:function(){return null!==this.cachedFrameType||(this.cachedFrameType=this._determineFrameType()),this.cachedFrameType}},{key:"_determineFrameType",value:function(){return this.getAmpApi()?_t:this.getMraidApi()?ae:this.getSafeFrameApi()?ie:Object(bt.i)()?yt:this.docInfo.canAccessTop?this.docInfo.document===this.docInfo.topWindow.document?gt:this.placement.customOptions.friendlyIframeRender?oe:vt:mt}},{key:"isNoFrame",value:function(){return this.getFrameType()===gt}},{key:"isUnfriendlyFrame",value:function(){return this.getFrameType()===mt}},{key:"isFriendlyFrame",value:function(){return this.getFrameType()===vt}},{key:"isFriendlyFrameRender",value:function(){return this.getFrameType()===oe}},{key:"isClientAware",value:function(){return-1<se.indexOf(this.getFrameType())}},{key:"isPositionAware",value:function(){return-1<ce.indexOf(this.getFrameType())}},{key:"isViewabilityAware",value:function(){return-1<ue.indexOf(this.getFrameType())}},{key:"isSandboxed",value:function(){return-1<le.indexOf(this.getFrameType())}},{key:"isAmp",value:function(){return this.getFrameType()===_t}},{key:"isWebview",value:function(){return this.getFrameType()===yt}},{key:"isMraid",value:function(){return this.getFrameType()===ae}},{key:"isSafeFrame",value:function(){return this.getFrameType()===ie}},{key:"getSafeFrameApi",value:function(){var t=this._getApi("$sf");return t&&t.ext?t:null}},{key:"getAmpApi",value:function(){var t=this._getApi("context");return t&&t.observeIntersection?t:null}},{key:"getMraidApi",value:function(){return this._getApi("mraid")}},{key:"_getApi",value:function(t){return void 0===this.cachedApis[t]&&(this.cachedApis[t]=this._findApi(t,this.docInfo.window)),this.cachedApis[t]}},{key:"_findApi",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(5<=n)return null;try{if(e[t])return e[t]}catch(t){return null}return this._findApi(t,e.parent,n+1)}}]),r}(),fe=function(e,t){return e=e||{},{setAdContainer:function(t){e.adContainer=t},getElDims:function(t){if(!t)throw new Ct.a("getElDims: no element present");var e=t.getBoundingClientRect();return{width:e.width,height:e.height}},_publishUpdate:function(){t.publish(St.x)}}};var he={getRectPctInView:function(t,e){var n=e.width,r=e.height,i=t.width,a=t.height,o=i*a,s=i+Math.min(0,t.left)+Math.min(0,n-t.right),c=a+Math.min(0,t.top)+Math.min(0,r-t.bottom),u=s*c;return Math.max(0,u/o)},getDefaultBoundingClientRect:function(){return{width:0,height:0,x:0,y:0,top:0,bottom:0,left:0,right:0}},sumRects:function(t,e){return{width:t.width,height:t.height,x:t.x+e.x,y:t.y+e.y,top:t.top+e.top,bottom:t.bottom+e.top,left:t.left+e.left,right:t.right+e.left}}};var pe=function(t,e){var n={getAdBoundingRect:i,getBoundingRect:a,getClientDims:o,getAdPctInView:function(){return he.getRectPctInView(i(),o())},getElPctInView:function(t){return he.getRectPctInView(a(t),o())}},r=fe(n,e);return t.util.addScrollListener(t.win,r._publishUpdate),Object(bt.c)({},r,n);function i(){return n.adContainer.getBoundingClientRect()}function a(t){return t.getBoundingClientRect()}function o(){return{width:t.win.innerWidth,height:t.win.innerHeight}}};var ge=function(){var n={width:0,height:0},r=he.getDefaultBoundingClientRect();return{getAdBoundingRect:t,getBoundingRect:e,getClientDims:i,getAdPctInView:function(){return he.getRectPctInView(t(),i())},getElPctInView:function(t){return he.getRectPctInView(e(t),i())},_update:function(t,e){r=t,n=e}};function t(){return r}function e(t){var e=t.getBoundingClientRect();return r?he.sumRects(e,r):e}function i(){return n}};var ve=function(t,e){var o=fe({},e),s=ge();return t.win._tlWebViewUpdatePosition=function(t,e){var n,r,i,a;(r=e,(n=t)&&r&&(a=s.getAdBoundingRect(),!c(me,a,n)||(i=s.getClientDims(),!c(ye,i,r))))&&(s._update(t,e),o._publishUpdate())},Object(bt.c)({},o,s);function c(t,e,n){return!t.some(function(t){return e[t]!==n[t]})}},me=["width","height","x","y","top","bottom","left","right"],ye=["width","height"];var _e=function(t,e){var n=fe({},e),r=ge();return t.pageInfo.getAmpApi().observeIntersection(function(t){t.forEach(function(t){var e={width:t.rootBounds.width,height:t.rootBounds.height};r._update(t.boundingClientRect,e),n._publishUpdate()})}),Object(bt.c)({},n,r)};var Ie=function(t){var h=t.pageInfo.getMraidApi(),p=t.errorHandler;return Object.keys(Ae).reduce(function(t,e){var n=h[e],r=Ae[e];r.validator&&(i=h,a=n,o=r.validator,n=function(){var t=a.apply(i,arguments),e=o(t);if(!e)throw new Ct.a("validation failed");return t});var i,a,o;return s=h,c=n,u=e,l=r.defaultReturn,d=Object(bt.f)(p.fireError,p),f="mraid api error. function: ".concat(u,", e: "),n=function(){var e;try{e=c.apply(s,arguments)}catch(t){d(f+t,"mraid"),e=l}return e},t[e]=n,t;var s,c,u,l,d,f},{})},Ae={getState:{validator:function(t){return"string"==typeof t},defaultReturn:"default"},isViewable:{validator:function(t){return"boolean"==typeof t},defaultReturn:!1},getCurrentPosition:{validator:function(t){return"number"==typeof t.width&&"number"==typeof t.height&&"number"==typeof t.x&&"number"==typeof t.y},defaultReturn:{width:0,height:0,x:0,y:0}},getScreenSize:{validator:function(t){return"number"==typeof t.width&&"number"==typeof t.height},defaultReturn:{width:0,height:0}},addEventListener:{}};var we=function(t,e){var n,r=Ie(t),i=fe({},e),a=ge();"loading"===r.getState()?r.addEventListener("ready",o):o();return Object(bt.c)({},i,a);function o(){r.addEventListener("viewableChange",s)}function s(t){c(),t?n=setInterval(c,be):clearInterval(n)}function c(){var t=r.getCurrentPosition(),e=r.getScreenSize(),n={width:t.width,height:t.height,x:t.x,y:t.y,top:t.y,bottom:t.y+t.height,left:t.x,right:t.x+t.width};a._update(n,e),i._publishUpdate()}},be=200;var Ee=function(t,e){var n=t.pageInfo,r=t.placement,i=n.getSafeFrameApi(),a={getAdBoundingRect:function(){throw new Ct.a("getAdBoundingRect is not supported in a safeFrame environment")},getBoundingRect:function(){throw new Ct.a("getBoundingRect is not supported in a safeFrame environment")},getClientDims:function(){throw new Ct.a("getClientDims is not supported in a safeFrame environment")},getAdPctInView:function(){return i.ext.inViewPercentage()/100},getElPctInView:function(){throw new Ct.a("getElPctInView is not supported in a safeFrame environment")}},o=fe(a,e),s=i.ext.geom();i.ext.register(s.self.w,s.self.h,function(t){"geom-update"===t&&o._publishUpdate()}),4913===r.publisherId&&setInterval(function(){o._publishUpdate()},1e3);return Object(bt.c)({},o,a)};var ke=function(t,e){var n=t.util,r=t.win,i={getAdBoundingRect:o,getBoundingRect:s,getClientDims:c,getAdPctInView:function(){return he.getRectPctInView(o(),c())},getElPctInView:function(t){return he.getRectPctInView(s(t),c())}},a=fe(i,e);return n.addScrollListener(r.top,a._publishUpdate),Object(bt.c)({},a,i);function o(){var t=i.adContainer.ownerDocument.defaultView?i.adContainer.ownerDocument.defaultView.frameElement:null;return t?t.getBoundingClientRect():he.getDefaultBoundingClientRect()}function s(t){var e=t.getBoundingClientRect(),n=o();return he.sumRects(e,n)}function c(){var t=r.top;return{width:t.innerWidth,height:t.innerHeight}}};var Me=function(t,e){var n,r=t.pageInfo;n=r.isMraid()?we(t,e):r.isWebview()?ve(t,e):r.isAmp()?_e(t,e):r.isSafeFrame()?Ee(t,e):r.isFriendlyFrameRender()?ke(t,e):pe(t,e);var i=Object(bt.n)(Object.keys(n),Se);if(0<i.length)throw new Ct.a("positionService invalid. Unmatched keys: ".concat(i.join(", ")));return n},Se=["getAdBoundingRect","getAdPctInView","getBoundingRect","getClientDims","getElDims","getElPctInView","setAdContainer"];u(65);var Te=u(42),xe=u(54),Ce=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=(1<arguments.length?arguments[1]:void 0).placement,t={render:function(t){r.render&&r.render(t);var e=t.domRefs.mainImage,n=e&&(e.complete||0<e.naturalWidth);i.customOptions.dontWaitForImageLoad&&(n=!0);e&&"IMG"===e.tagName&&!n&&t.promises.push(new Promise(function(t){e.addEventListener("load",t)}))}};return Object.assign({},r,t)};var Le=u(53),De=u(96),Oe=function(){var e,i,a,o,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,r=t.creative,s=t.docInfo,c=t.eventController;return Object.assign({},n,{render:function(t){i=(e=t).state,a=r.getParams(),function(){var t=s.document;if(a&&a.image_height&&a.image_width)o={width:a.image_width,height:a.image_height};else{var e=t.createElement("img");e.src=a.image_url,o={width:e.naturalWidth,height:e.naturalHeight}}}(),c.on(St.h,u),n.render&&n.render(e)}});function u(t){if(a.isCSR){var e=Object(De.b)(t,o),n=e.x,r=e.y;i.logoOffsetX=n,i.logoOffsetY=r}else i.logoOffsetX=Ne,i.logoOffsetY=Ne}},Ne=0;var je=u(41),Re=function(t,e){var n=e.analytics,r=e.browserInfo,i=e.util;return t.addInit(function(t){i.listen(t.domRefs.mainClickTarget,"click",a,!1,!0)}),{};function a(){n.click(),r.isFacebook?setTimeout(function(){t.doClickThrough()},500):t.doClickThrough()}};var Pe={create:function(o){return new Te.a({renderers:function(){var t=o.creative,e=o.placement,n=t.getParams(),r=n.customization&&n.customization.reveal||n.isCSR,i=r&&!e.customOptions.is3pAdPreview,a=[xe.a,Ce];r&&a.push(Le.a);i&&a.push(Oe);return a}(),eventManagers:[je.a,Re],initState:{},supportedDomRefs:[]},o)}};var Ve={name:"imageRendererFactoryLoader",isSupported:function(t){return t.isImage()},load:function(){return new Promise(function(t){t({default:Pe})})}};var Fe=function(){var c,u,l,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=t.creative,r=t.eventController,d=n.getParams();return Object.assign({},e,{render:function(t){c=t,e.render&&e.render(c);r.on(St.h,i)},_getZoomValues:f});function i(t){var e,n=Object(bt.p)("?".concat(d.img_server_params)).queryKey.noCrop,r=d.focal_box;if(n||!r)e=c.domRefs.mainImageCsrDiv,C.a.setStyle(e,"background-position","center"),C.a.setStyle(e,"background-size","contain"),C.a.setStyle(e,"background-repeat","no-repeat"),C.a.setStyle(e,"text-align","left"),C.a.setStyle(e,"background-color","#FFFFFF");else{var i=t.width,a=t.height,o=d.image_width,s=d.image_height;!function(t,e,n,r,i,a){if(e===u&&n===l)return;var o=f(u=e,l=n,r,i,a);C.a.setStyle(t,"background-repeat","no-repeat"),C.a.setStyle(t,"background-size","".concat(o.scaledImgWidth,"px")),C.a.setStyle(t,"background-position","".concat(o.offsetX,"px ").concat(o.offsetY,"px"));var s=c.state;s.visibleImageWidth=Object(bt.l)(o.scaledImgWidth,e),s.visibleImageHeight=Object(bt.l)(o.scaledImgHeight,n),s.imageBoxingOffsetX=Math.max(Math.floor((e-s.visibleImageWidth)/2),0),s.imageBoxingOffsetY=Math.max(Math.floor((n-s.visibleImageHeight)/2),0)}(c.domRefs.mainImageCsrDiv,i,a,o,s,r)}}function f(t,e,n,r,i){var a,o,s,c,u,l,d,f,h,p=i.x2-i.x1,g=i.y2-i.y1,v=(o=(a={adWidth:t,adHeight:e,imgWidth:n,imgHeight:r,focalWidth:p,focalHeight:g}).adWidth,s=a.adHeight,c=a.imgWidth,u=a.imgHeight,l=a.focalWidth,d=a.focalHeight,f=Math.max(o/c,s/u),h=Math.min(o/l,s/d),Math.min(f,h)),m=Math.ceil(v*n),y=Math.ceil(v*r),_={};Object.keys(i).forEach(function(t){var e=i[t];_[t]=Math.floor(v*e)});var I=w(t,m,_.x1,_.x2),A=w(e,y,_.y1,_.y2);return{scaledImgWidth:m,scaledImgHeight:y,offsetX:I,offsetY:A}}function w(t,e,n,r){if(e<t)return Math.round((t-e)/2);var i=Math.round((t-n-r)/2);return 0<i?0:i+e<t?t-e:i}};var Ue={create:function(t){var e=[xe.a,Fe,Le.a],n=[je.a,Re],r=t.creative.params;!Object(bt.p)("?".concat(r.img_server_params)).queryKey.noCrop&&r.focal_box||e.push(Oe);return new Te.a({renderers:e,eventManagers:n,initState:{},supportedDomRefs:[]},t)}};var Be={name:"cinemagraphRendererFactoryLoader",isSupported:function(t){return t.isCinemagraph()},load:function(){return new Promise(function(t){t({default:Ue})})}};var We={name:"carouselRendererFactoryLoader",isSupported:function(t){return t.isCarousel()},load:function(){return u.e(3).then(u.bind(null,174))}};u(85);var He=function(){function u(){z()(this,u)}return v()(u,null,[{key:"getAdAspectRatio",value:function(t){return parseFloat((t.width/t.height).toFixed(2))}},{key:"sortByAspectRatio",value:function(t,e,n){var r=u.getAdAspectRatio(n),i=function(t){return r===t},a=u.parsedAspectRatio(t),o=u.parsedAspectRatio(e),s=i(a),c=i(o);return s&&c?u.sortByClosestDims(t,e,n):s&&!c?-1:c&&!s?1:u.sortByAspectRatioDistance(t,e,n)}},{key:"sortByAspectRatioDistance",value:function(t,e,n){var r=u.getAdAspectRatio(n),i=u.parsedAspectRatio(t),a=u.parsedAspectRatio(e),o=function(t){return Math.abs(t-r)},s=o(i),c=o(a);return s<c?-1:c<s?1:u.sortByClosestDims(t,e,n)}},{key:"sortMediaBySize",value:function(t,e,n){var r={width:n.imageWidth,height:n.imageHeight},i=u.dimsLessThanPlacement(t,r),a=u.dimsLessThanPlacement(e,r);return!i&&a?-1:i&&!a?1:u.sortByAspectRatio(t,e,r)}},{key:"orderBestMediaFiles",value:function(t){var e=[],n=[],r=[],i=[];return t.forEach(function(t){t._bitrate?400<=t._bitrate&&t._bitrate<1200?e.push(t):t._bitrate<1200?n.push(t):i.push(t):r.push(t)}),Zt.a.sortArrOfObjectsByKey(n,"_bitrate","desc"),Zt.a.sortArrOfObjectsByKey(i,"_bitrate"),[].concat(e,n,i,r)}},{key:"dimsLessThanPlacement",value:function(t,e){return t._width<e.width||t._height<e.height}},{key:"parsedAspectRatio",value:function(t){return t._height?parseFloat((t._width/t._height).toFixed(2)):0}},{key:"distanceByDims",value:function(t,e){return{width:Math.abs(t._width-e.width),height:Math.abs(t._height-e.height)}}},{key:"sortByClosestDims",value:function(t,e,n){var r=u.distanceByDims(t,n),i=u.distanceByDims(e,n),a=r.width<i.width&&r.height<i.height,o=r.width>i.width&&r.height>i.height;return a?-1:o?1:u.sortByBestDeskTopBitRate(t,e)}},{key:"sortByBestDeskTopBitRate",value:function(t,e){if(t._bitrate&&e._bitrate){var n=400<=t._bitrate&&t._bitrate<1200,r=400<=e._bitrate&&e._bitrate<1200;return n&&!r?-1:!n&&r?1:e._bitrate-t._bitrate}return t._bitrate?1:-1}},{key:"byBestBitrateMobile",value:function(t,e,n){var r=function(t){return Math.abs(t._bitrate-750)};return t._bitrate===e._bitrate?u.sortMediaBySize(t,e,n):!t._bitrate&&e._bitrate?1:!e._bitrate&&t._bitrate?-1:r(t)-r(e)}}]),u}(),ze=u(111),Qe=u.n(ze),Ge=function(){function t(){z()(this,t),p()(this,"fileSizeBits",0),p()(this,"downloadTimeMs",0),p()(this,"startTime",0)}return v()(t,[{key:"addFileSizeBytes",value:function(t){this.fileSizeBits+=8*t}},{key:"addDownloadTimeSeconds",value:function(t){this.downloadTimeMs+=t}},{key:"getBitrateEstimate",value:function(){return Math.floor(this.fileSizeBits/this.downloadTimeMs)}},{key:"update",value:function(t){var e=((new Date).getTime()-this.startTime)/1e3;this.addFileSizeBytes(t),this.addDownloadTimeSeconds(e)}},{key:"start",value:function(){this.startTime=new Date}}],[{key:"getBrowserBitrateEstimate",value:function(){return navigator&&navigator.connection?1e3*navigator.connection.downlink*1e3*8:null}},{key:"getNetworkEffectiveType",value:function(){return navigator&&navigator.connection?navigator.connection.effectiveType:null}}]),t}(),Ye=u(32);var Ze=new function(l){l=l||{},void 0===l.escapeMode&&(l.escapeMode=!0),l.attributePrefix=l.attributePrefix||"_",l.arrayAccessForm=l.arrayAccessForm||"none",l.emptyNodeForm=l.emptyNodeForm||"text",void 0===l.enableToStringFunc&&(l.enableToStringFunc=!0),l.arrayAccessFormPaths=l.arrayAccessFormPaths||[],void 0===l.skipEmptyTextNodesForObj&&(l.skipEmptyTextNodesForObj=!0),void 0===l.stripWhitespaces&&(l.stripWhitespaces=!0),l.datetimeAccessFormPaths=l.datetimeAccessFormPaths||[],function(){function t(t){var e=String(t);return 1===e.length&&(e="0"+e),e}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var d={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function f(t){var e=t.localName;return null==e&&(e=t.baseName),null!=e&&""!=e||(e=t.nodeName),e}function c(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):t}function h(t,e,n){switch(l.arrayAccessForm){case"property":t[e]instanceof Array?t[e+"_asArray"]=t[e]:t[e+"_asArray"]=[t[e]]}if(!(t[e]instanceof Array)&&0<l.arrayAccessFormPaths.length){for(var r=0;r<l.arrayAccessFormPaths.length;r++){var i=l.arrayAccessFormPaths[r];if("string"==typeof i){if(i==n)break}else if(i instanceof RegExp){if(i.test(n))break}else if("function"==typeof i&&i(t,e,n))break}r!=l.arrayAccessFormPaths.length&&(t[e]=[t[e]])}}function p(t){var e=t.split(/[-T:+Z]/g),n=new Date(e[0],e[1]-1,e[2]),r=e[5].split(".");if(n.setHours(e[3],e[4],r[0]),1<r.length&&n.setMilliseconds(r[1]),e[6]&&e[7]){var i=60*e[6]+Number(e[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(t)?"-":"+")?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else-1!==t.indexOf("Z",t.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function g(t,e){if(t.nodeType==d.DOCUMENT_NODE){for(var n=new Object,r=t.childNodes,i=0;i<r.length;i++)(a=r.item(i)).nodeType==d.ELEMENT_NODE&&(n[o=f(a)]=g(a,o));return n}if(t.nodeType==d.ELEMENT_NODE){for((n=new Object).__cnt=0,r=t.childNodes,i=0;i<r.length;i++){var a,o=f(a=r.item(i));a.nodeType!=d.COMMENT_NODE&&(n.__cnt++,null==n[o]?(n[o]=g(a,e+"."+o),h(n,o,e+"."+o)):(null!=n[o]&&(n[o]instanceof Array||(n[o]=[n[o]],h(n,o,e+"."+o))),n[o][n[o].length]=g(a,e+"."+o)))}for(var s=0;s<t.attributes.length;s++){var c=t.attributes.item(s);n.__cnt++,n[l.attributePrefix+c.name]=c.value}var u=t.prefix;return null!=u&&""!=u&&(n.__cnt++,n.__prefix=u),null!=n["#text"]&&(n.__text=n["#text"],n.__text instanceof Array&&(n.__text=n.__text.join("\n")),l.escapeMode&&(n.__text=n.__text.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")),l.stripWhitespaces&&(n.__text=n.__text.trim()),delete n["#text"],"property"==l.arrayAccessForm&&delete n["#text_asArray"],n.__text=function(t,e,n){if(0<l.datetimeAccessFormPaths.length){for(var r=n.split(".#")[0],i=0;i<l.datetimeAccessFormPaths.length;i++){var a=l.datetimeAccessFormPaths[i];if("string"==typeof a){if(a==r)break}else if(a instanceof RegExp){if(a.test(r))break}else if("function"==typeof a&&a(obj,e,r))break}return i!=l.datetimeAccessFormPaths.length?p(t):t}return t}(n.__text,o,e+"."+o)),null!=n["#cdata-section"]&&(n.__cdata=n["#cdata-section"],delete n["#cdata-section"],"property"==l.arrayAccessForm&&delete n["#cdata-section_asArray"]),1==n.__cnt&&null!=n.__text?n=n.__text:0==n.__cnt&&"text"==l.emptyNodeForm?n="":1<n.__cnt&&null!=n.__text&&l.skipEmptyTextNodesForObj&&(l.stripWhitespaces&&""==n.__text||""==n.__text.trim())&&delete n.__text,delete n.__cnt,!l.enableToStringFunc||null==n.__text&&null==n.__cdata||(n.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),n}if(t.nodeType==d.TEXT_NODE||t.nodeType==d.CDATA_SECTION_NODE)return t.nodeValue}function a(t,e,n,r){var i="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+e;if(null!=n)for(var a=0;a<n.length;a++){var o=n[a],s=t[o];l.escapeMode&&(s=c(s)),i+=" "+o.substr(l.attributePrefix.length)+"='"+s+"'"}return i+=r?"/>":">"}function o(t,e){return"</"+(null!=t.__prefix?t.__prefix+":":"")+e+">"}function s(t,e){return"property"==l.arrayAccessForm&&(n=e.toString(),r="_asArray",-1!==n.indexOf(r,n.length-r.length))||0==e.toString().indexOf(l.attributePrefix)||0==e.toString().indexOf("__")||t[e]instanceof Function;var n,r}function u(t){var e=0;if(t instanceof Object)for(var n in t)s(t,n)||e++;return e}function v(t){var e=[];if(t instanceof Object)for(var n in t)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(l.attributePrefix)&&e.push(n);return e}function m(t){var e,n,r="";return t instanceof Object?r+=(n="",null!=(e=t).__cdata&&(n+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(l.escapeMode?n+=c(e.__text):n+=e.__text),n):null!=t&&(l.escapeMode?r+=c(t):r+=t),r}function y(t,e,n){var r="";if(0==t.length)r+=a(t,e,n,!0);else for(var i=0;i<t.length;i++)r+=a(t[i],e,v(t[i]),!1),r+=_(t[i]),r+=o(t[i],e);return r}function _(t){var e="";if(0<u(t))for(var n in t)if(!s(t,n)){var r=t[n],i=v(r);null==r||null==r?e+=a(r,n,i,!0):r instanceof Object?r instanceof Array?e+=y(r,n,i):r instanceof Date?(e+=a(r,n,i,!1),e+=r.toISOString(),e+=o(r,n)):0<u(r)||null!=r.__text||null!=r.__cdata?(e+=a(r,n,i,!1),e+=_(r),e+=o(r,n)):e+=a(r,n,i,!0):(e+=a(r,n,i,!1),e+=m(r),e+=o(r,n))}return e+=m(t)}this.parseXmlString=function(t){var e,n=window.ActiveXObject||"ActiveXObject"in window;if(void 0===t)return null;if(window.DOMParser){var r=new window.DOMParser,i=null;if(!n)try{i=r.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(t){i=null}try{e=r.parseFromString(t,"text/xml"),null!=i&&0<e.getElementsByTagNameNS(i,"parsererror").length&&(e=null)}catch(t){e=null}}else 0==t.indexOf("<?")&&(t=t.substr(t.indexOf("?>")+2)),(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t);return e},this.asArray=function(t){return t instanceof Array?t:[t]},this.toXmlDateTime=function(t){return t instanceof Date?t.toISOString():"number"==typeof t?new Date(t).toISOString():null},this.asDateTime=function(t){return"string"==typeof t?p(t):t},this.xml2json=function(t){return g(t)},this.xml_str2json=function(t){var e=this.parseXmlString(t);return null!=e?this.xml2json(e):null},this.json2xml_str=function(t){return _(t)},this.json2xml=function(t){var e=this.json2xml_str(t);return this.parseXmlString(e)},this.getVersion=function(){return"1.1.5"},this.isXml=function(t){var e=this.xml_str2json(t);return e&&!e.parsererror}},Je=Ze.asArray.bind(Ze),qe=Ze.xml_str2json.bind(Ze),Xe=Ze.isXml.bind(Ze),Ke=function(){function s(t){var e=t.eventController,n=t.firePix;z()(this,s),p()(this,"timeoutID",void 0),p()(this,"vastWrapperBreadcrumbs",[]),p()(this,"impressionTrackers",[]),p()(this,"assortedTrackers",[]),p()(this,"videoClickTrackers",[]),p()(this,"expandMacros",void 0),this.speedTest=new Ge,this.eventController=e,this.firePix=n}var e,n,r;return v()(s,[{key:"getVastJson",value:(r=wt()(At.a.mark(function t(e){var n,r,i,a;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.expandMacros=function(t){return e.expandFirstPartyMacros(e.params.additional_data.tid,e.params.asset_id,t)},n=this.speedTest.getBitrateEstimate(),r=Ge.getBrowserBitrateEstimate(),i=Ge.getNetworkEffectiveType(),this.firePix.fireDyn({long1:9680,long2:n,long3:r,string1:i}),a=e.params.vast_xml,t.abrupt("return",Xe(a)?this.parseVastContent(a):this.fetchVast(a));case 7:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})},{key:"fetchVast",value:(n=wt()(At.a.mark(function t(e){var n,r,i,a,o,s,c,u;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.expandMacros(e),this.vastWrapperBreadcrumbs.push({url:e,expandedUrl:n}),this.startRedirectTimeout(),r=[n,location.href].map(function(t){return Object(bt.p)(t).protocol}),i=Qe()(r,2),a=i[0],o=i[1],s=a!==o,this.speedTest.start(),t.prev=6,t.next=9,Object(bt.b)(n,"GET");case 9:c=t.sent,this.clearRedirectTimeout(),s&&this.logProtocolMismatch(a,o),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),s&&(this.logErrorProtocolMismatch(a,o),this.clearRedirectTimeout());case 17:return this.speedTest.update(c.loaded),u=c.target.responseText,t.abrupt("return",this.parseVastContent(u));case 20:case"end":return t.stop()}},t,this,[[6,14]])})),function(t){return n.apply(this,arguments)})},{key:"parseVastContent",value:(e=wt()(At.a.mark(function t(e){var n,r,i,a,o;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new Promise(function(){}),r=qe(e),t.prev=2,s.validateVastJson(r),t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(2),this.eventController.publish(St.E,Ye.a.VAST_ERROR_VAST_SCHEMA,{message:t.t0.message}),t.abrupt("return",n);case 10:if(t.prev=10,i=Je(r.VAST.Ad)[0],a=i.InLine,o=i.Wrapper,this.collectImpressionTrackers(a||o),!o){t.next=20;break}if(this.collectCreativeTrackers(o),this.hasExceededRedirectLimit())return t.abrupt("return",n);t.next=17;break;case 17:return t.next=19,this.fetchVast(o.VASTAdTagURI.toString());case 19:return t.abrupt("return",t.sent);case 20:if(a)return t.abrupt("return",r);t.next=22;break;case 22:t.next=27;break;case 24:t.prev=24,t.t1=t.catch(10),this.eventController.publish(St.E,Ye.a.VAST_WRAPPER_ERROR);case 27:return t.abrupt("return",n);case 28:case"end":return t.stop()}},t,this,[[2,6],[10,24]])})),function(t){return e.apply(this,arguments)})},{key:"collectImpressionTrackers",value:function(t){var e=t.Impression,n=void 0===e?[]:e;this.impressionTrackers=[].concat(x()(this.impressionTrackers),x()(Je(n)))}},{key:"collectCreativeTrackers",value:function(t){var e=s.getLinearCreative(t);this.assortedTrackers=[].concat(x()(this.assortedTrackers),x()(s.getTracking(e,"TrackingEvents","Tracking"))),this.videoClickTrackers=[].concat(x()(this.videoClickTrackers),x()(s.getTracking(e,"VideoClicks","ClickTracking")))}},{key:"getImpressionTrackers",value:function(){return this.impressionTrackers}},{key:"getVideoClickTrackers",value:function(t){return[].concat(x()(s.getTracking(t,"VideoClicks","ClickTracking")),x()(this.videoClickTrackers))}},{key:"getAssortedTrackers",value:function(t){return[].concat(x()(s.getTracking(t,"TrackingEvents","Tracking")),x()(this.assortedTrackers))}},{key:"getBreadcrumbs",value:function(){return this.vastWrapperBreadcrumbs}},{key:"startRedirectTimeout",value:function(){var t=this;this.timeoutID=setTimeout(function(){t.eventController.publish(St.E,Ye.a.VAST_WRAPPER_TIMEOUT)},5e3)}},{key:"clearRedirectTimeout",value:function(){clearTimeout(this.timeoutID)}},{key:"hasExceededRedirectLimit",value:function(){return 10<=this.getBreadcrumbs().length&&(this.eventController.publish(St.E,Ye.a.VAST_TOO_MANY_REDIRECTS),!0)}},{key:"logProtocolMismatch",value:function(){this.firePix.fireDyn({long1:9791,string2:JSON.stringify(this.vastWrapperBreadcrumbs)})}},{key:"logErrorProtocolMismatch",value:function(t,e){this.eventController.publish(St.E,Ye.a.VAST_WRAPPER_TIMEOUT,{message:"Serving ".concat(t," assets onto ").concat(e," page."),diagnosticContext:It()({},this.vastWrapperBreadcrumbs)})}}],[{key:"getTracking",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,r=t.Linear;return r&&r[e]&&r[e][n]?Je(r[e][n]):[]}},{key:"getLinearCreatives",value:function(t){return Je(t.Creatives&&t.Creatives.Creative).filter(function(t){return t&&void 0!==t.Linear})}},{key:"getLinearCreative",value:function(t){return s.getLinearCreatives(t)[0]}},{key:"isVpaid",value:function(t){var e=s.getLinearCreative(t.InLine),n=Je(e.Linear.MediaFiles.MediaFile);return!!n.length&&n.every(function(t){return"VPAID"===t._apiFramework})}},{key:"validateVastJson",value:function(t){if(!t)throw new Ct.a("Missing vastJson");if(!t.VAST)throw new Ct.a("Missing VAST element");if(!t.VAST.Ad)throw new Ct.a("Missing Ad element");var e=Je(t.VAST.Ad)[0];if(e.Wrapper)s.validateAdWrapper(e.Wrapper);else{if(!e.InLine)throw new Ct.a("Missing InLine or Wrapper element");s.validateAdInLine(e.InLine)}}},{key:"validateAdWrapper",value:function(t){if(!t.VASTAdTagURI)throw new Ct.a("Missing VASTAdTagURI element")}},{key:"validateAdInLine",value:function(t){if(!t.Creatives)throw new Ct.a("Missing Creatives element");var e=Je(t.Creatives)[0];if(!e.Creative)throw new Ct.a("Missing Creative element(s)");if(!Je(e.Creative).some(function(t){return!!t.Linear}))throw new Ct.a("Missing Linear element(s)")}},{key:"isJavascriptVpaid",value:function(t){var e="VPAID"===t._apiFramework,n="application/x-javascript"===t._type||"application/javascript"===t._type;return e&&n}}]),s}(),$e={"video/mp4":!0},tn=function(){function c(t,e){var n=t.placement,r=t.environment.renderOptionsMap,i=e.creative,a=e.firePix,o=e.util,s=e.eventController;z()(this,c),p()(this,"vastJson",void 0),this.placement=n,this.renderOptionsMap=r,this.creative=i,this.util=o,this.vastParser=new Ke({eventController:s,firePix:a})}var t;return v()(c,[{key:"getVastJson",value:(t=wt()(At.a.mark(function t(){var e;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vastParser.getVastJson(this.creative);case 2:return this.vastJson=t.sent,e=this.getVastCreatives(),this.setVastCreative(e[0]),t.abrupt("return",this.vastJson);case 6:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})},{key:"isVpaid",value:function(){if(void 0===this.isVpaidCached){var t=this.getVastAd();this.isVpaidCached=Ke.isVpaid(t)}return this.isVpaidCached}},{key:"chooseBestMediaFiles",value:function(){var n=this,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).useBitrate,e=void 0!==t&&t,r=this.getVastMediaFiles(),i=this.isVpaid()?this.getJavascriptVpaid(r):this.getSupportedMediaFiles(r);if(!i.length)return r;if(e)return i.sort(function(t,e){return He.byBestBitrateMobile(t,e,n.placement)}).slice(0,1);var a=i.slice().sort(function(t,e){return He.sortMediaBySize(t,e,n.placement)});return He.orderBestMediaFiles(a)}},{key:"getSupportedMediaFiles",value:function(t){return t.filter(function(t){return $e[t._type]})}},{key:"getJavascriptVpaid",value:function(t){return t.filter(Ke.isJavascriptVpaid)}},{key:"getAdParameters",value:function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getVastCreative()).Linear.AdParameters;return t?t.__cdata||t:null}},{key:"is360",value:function(){var t=this.creative.params.render_options_bm,e=this.renderOptionsMap;return Object(bt.d)(t,e["360_video"])}},{key:"isDAR360",value:function(){return this.is360()&&this.doesPlacementSupportDAR()&&"disabled"!==this.getVastCreative().Linear.DAR360}},{key:"doesPlacementSupportDAR",value:function(){var t=this.placement.imageWidth/this.placement.imageHeight;return 9/16<=t&&t<=2}},{key:"getAdSystem",value:function(){return this.getVastAd().InLine.AdSystem||null}},{key:"getDuration",value:function(){var t=this.getVastCreative().Linear.Duration;return t.__cdata||t}},{key:"getDurationMS",value:function(){var t=this.getDuration();return this.util.timeToMS(t)}},{key:"getVastAd",value:function(){return Je(this.vastJson.VAST.Ad)[0]}},{key:"getVastCreative",value:function(){return this.vastCreative}},{key:"getVastCreatives",value:function(){var t=this.getVastAd().InLine;return Ke.getLinearCreatives(t)}},{key:"setVastCreative",value:function(t){this.vastCreative=t}},{key:"getNextVpaidCreative",value:function(){var t=this.getVastCreatives(),e=this.getVastCreative(),n=t.indexOf(e);return t.slice(n+1).find(this.creativeHasVpaid.bind(this))}},{key:"setNextVpaidCreative",value:function(){var t=this.getNextVpaidCreative();return t&&this.setVastCreative(t),t}},{key:"creativeHasVpaid",value:function(t){return this.getVastMediaFiles(t).some(Ke.isJavascriptVpaid)}},{key:"getVastMediaFiles",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getVastCreative();return Je(t.Linear.MediaFiles.MediaFile)}},{key:"getVastClickThroughUrl",value:function(){var t=this.getVastCreative().Linear.VideoClicks;return t&&t.ClickThrough?t.ClickThrough:null}},{key:"getImpressionTrackers",value:function(){return this.vastParser.getImpressionTrackers()}},{key:"getVideoClickTrackers",value:function(){var t=this.getVastCreative();return this.vastParser.getVideoClickTrackers(t)}},{key:"getAssortedTrackers",value:function(){var t=this.getVastCreative();return this.vastParser.getAssortedTrackers(t)}},{key:"getVastWrapperBreadcrumbs",value:function(){return this.vastParser.getBreadcrumbs()}}]),c}(),en={name:"videoRendererFactoryLoader",isSupported:function(t){return t.isVast()},load:function(t){var e=t.placement,n=t.environment,r=t.creative,i=t.firePix,a=t.errorHandler,o=t.eventController,s=t.util,c=new tn({placement:e,environment:n},{creative:r,errorHandler:a,eventController:o,firePix:i,util:s});return r.setVastTag(c),this.errorListener=new Ye.a({errorHandler:a,eventController:o}),c.getVastJson().then(function(){return c.is360()?Promise.all([u.e(2),u.e(0),u.e(7)]).then(u.bind(null,171)):u.e(0).then(u.bind(null,170))})}};var nn={name:"scrollRendererFactoryLoader",isSupported:function(t){return t.isScroll()},load:function(){return u.e(6).then(u.bind(null,172))}};var rn={name:"windowRendererFactoryLoader",isSupported:function(t){return t.isWindow()},load:function(){return u.e(8).then(u.bind(null,173))}};var an=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,n=e.creative,o=e.pageInfo,s=e.eventController,r=n.params,c=r.banner_markup,u=r.banner_height,l=r.banner_width;return Object.assign({},t,{render:function(t){var e,n=t.domRefs;e=o.isSandboxed()?((a=document.createElement("div")).innerHTML=c,a):(r=document.createElement("iframe"),i="<!DOCTYPE html><html><head></head><body>".concat(c,"</body></html>"),r.className=on,r.height=u,r.width=l,r.frameBorder="0",r.scrolling="no",r.marginHeight="0",r.marginWidth="0",r.tabIndex=-1,r.setAttribute("allowtransparency","true"),r.setAttribute("hidefocus","true"),s.on(St.a,function(){var t=r.contentWindow.document;t.open(),t.write(i),t.close()}),r);var r,i;var a;return n.adWrapper=e,n.adWrapperWithDims=e,n}})},on="".concat(Et.a.TL_CLASS_PREFIX,"iframe");var sn={create:function(t){return new Te.a({renderers:[an],eventManagers:[je.a],initState:{},supportedDomRefs:[]},t)}};var cn={load:function(t){var e=t.placement,n=t.environment,r=t.creative,i=t.firePix,a=t.errorHandler,o=t.eventController,s=t.util,c=function(t,e){var n=t.filter(function(t){return t.isSupported(e)});0===n.length?function(){throw new Ct.a("Supported renderer factory not found.")}():1<n.length&&function(t){var e=t.map(function(t){return t.name});throw new Ct.a("".concat(e.length," renderer factories are supported: ").concat(e.join(", "),". Only one renderer factory may be supported for each impression."))}(n);return n[0]}(un,r),u=(d=ln,f=r,d.filter(function(t){return t.isSupported(f)})).map(function(t){return t.load()}),l=c.load({placement:e,environment:n,creative:r,firePix:i,errorHandler:a,eventController:o,util:s});var d,f;return u.unshift(l),Promise.all(u)}},un=[Ve,Be,We,en,nn,{name:"pharmaRendererFactoryLoader",isSupported:function(t){return t.isPharma()},load:function(){return u.e(5).then(u.bind(null,175))}},rn,{name:"bannerRendererFactoryLoader",isSupported:function(t){return t.isBanner()},load:function(){return new Promise(function(t){t({default:sn})})}}],ln=[{name:"revealConfigFactoryLoader",isSupported:function(t){return t.params.customization&&t.params.customization.reveal},load:function(){return u.e(4).then(u.bind(null,176))}}];var dn,fn=function(){function p(t){var e=t.topWindow;z()(this,p);var n=e.document,r=[n.URL,n.referrer,window.document.URL,window.document.referrer].find(p.isTripleLiftTest);if(this.debugFlag=!!r,r){var i=Object(bt.p)(r).queryKey,a=i.tl_image_id,o=i.tl_template_id,s=i.tl_dyn_id,c=i.tl_scu_id,u=i.tl_preview_id,l=i.tp_preview_id,d=i.tl_debug_log,f=i.view_type,h=i.tlBidUrl;Object.assign(this,{tlImageId:a,tlTemplateId:o,debugLog:!!d,tlBidUrl:!!h&&decodeURIComponent(h),forceBidUrl:!(!u&&!l),adPreview:!!(u||l||f),thirdPartyAdPreview:!!l,tlDynId:s||c})}}return v()(p,null,[{key:"isTripleLiftTest",value:function(t){return"string"==typeof t&&t.toLowerCase().includes("triplelifttest=true")}}]),p}(),hn={run:(dn=wt()(At.a.mark(function t(){var e,n=arguments;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,yn.apply(void 0,n);case 3:t.next=10;break;case 5:t.prev=5,t.t0=t.catch(0),e=encodeURIComponent("Fatal: ".concat(t.t0.message||t.t0)),document.createElement("IMG").src="//eb2.3lift.com/sce?lvl=1&block=unknown&e=".concat(e);case 10:case"end":return t.stop()}},t,null,[[0,5]])})),function(){return dn.apply(this,arguments)})},pn=Et.a.ERROR_LEVELS,gn=pn.ERROR,vn=pn.WARNING,mn=pn.LOG;function yn(t){return _n.apply(this,arguments)}function _n(){return(_n=wt()(At.a.mark(function t(e){var n,r,i,f,a,o,h,s,c,p,g,v,u,m,l,d,y,_,I,A,w,b,E,k,M,S,T,x,C,L,D,O,N,j,R,P,V,F,U,B,W,H,z,Q,G,Y,Z,J,q,X,K,$,tt,et,nt,rt,it,at,ot,st,ct,ut,lt,dt,ft,ht,pt,gt,vt,mt,yt,_t;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return _t=function(t,e){try{return t()}catch(t){return e}},yt=function(t){var e={e:"Critical: ".concat(t.message||t),lvl:1};e.inv_code=_t(function(){return g.invCode},null),e.aid=_t(function(){return v.auctionId},null),e.rev_hash=_t(function(){return o},null),e.block=_t(function(){return a.getPhase()},"unknown"),console.error("tl: ".concat(t.stack||t),e);var n=_t(function(){return h.topDocument},document),r=_t(function(){return p.ebPath},"eb2.3lift.com");n.createElement("IMG").src=Object(bt.k)(r,"sce",e)},mt=function(t){var e=t.assets,n=t.settings;return new Lt({assets:e,settings:n,frame:R},{errorHandler:_})},vt=function(){return new Mt({placement:g,environment:p,pageInfo:A,document:h.document,specifiedTacticId:M,isAdserving:T,rev:o,gdprVendorConsentData:w},{util:Zt.a,urlParams:s})},gt=function(t,e){var n={};return e.urlParams.adPreview&&(n.friendlyIframeRender=!0),new zt(It()({},t,{customOptions:It()({},t.customOptions,n,{is3pAdPreview:e.urlParams.thirdPartyAdPreview})}))},pt=function(){var t={docInfo:h,adRendered:U,browserInfo:L,placement:g,pageInfo:A,hook:b,isAdserving:T},e={errorHandler:_,serveDefault:E,firePix:v,userSync:S,util:Zt.a,eventController:f};return new Tt(t,e)},ht=function(){var t={contentWindow:R.contentWindow,docInfo:h,hook:b,pageInfo:A,placement:g,uniquenessController:y},e={errorDecorator:I,eventController:f,firePix:v,Render:Qt,serveDefault:E,userSync:S,util:Zt.a,viewabilityController:O},n=new Ft(t,e);return n.registerAuctionListeners(),n},ft=function(){return{hook:b,docInfo:h,defaultCode:g.defaultCode,pageInfo:A,firePix:v,userSync:S,adRendered:U}},dt=function(){return new Ut({placement:g,docInfo:h,ttjHostName:l,invCode:g.invCode},{firePix:v,errorHandler:_})},lt=function(){return new jt({debugMessenger:u,firePix:v,urlParams:s,lifecycleManager:a})},ut=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Pt(It()({docInfo:h,rev:o,placement:g,debugFlag:c,ebPath:p.ebPath},t),{eventController:f})},ct=function(){return g.customOptions.uniqueBrands||g.customOptions.uniqueCreatives},st=function(){if(W.isVast()&&Math.random()<=.01){var t=V.settings.additional_data,e=t.aid,n=t.uid;setTimeout(function(){N.run(j.buildSequentialAuctionPath(e,n))},5e3)}},n=Date.now(),r=e.revision,i=e.scriptWindow,f=new Rt,a=new Ht({eventController:f}),o=r.slice(0,7),h=new Ot({scriptWindow:i}),s=new fn({topWindow:h.topWindow}),c=s.debugFlag,p=new Nt(e.environment),g=gt(e.placement,{urlParams:s}),v=ut(),u=new Dt({environment:p,bundleStartTime:n},{eventController:f,urlParams:s}),m=new te({ttjStartTime:e.ttjStartTime,revision:o,isTestEnv:!!s.tlBidUrl},{firePix:v}),G=function(){if(m.log(te.BUNDLE_LOAD_TIME,n),l=p.ttjHostName,ct()&&(y=new Xt),A=new de({docInfo:h,placement:g}),_=lt(),I=_.decorate.bind(_),Zt.a.setErrorDecorator(I),d=dt(),Bt.needsBusting(g,h.window)){var t=d.getTLScript();Bt.bust(h.document,t.src)}},Y=function(t){var e=t.split("/");return"dtj"===e[1]?e[3]:void 0},Z=function(){var t=g.replaceParent;if(b=d.getHook(t)){var e=d.getScriptPath(),n=Y(e);T=!!n,M=s.tlDynId||n;var r=d.getAuctionResponsePseudoId();r&&(C=!0,k=h.window["tl_auction_response_".concat(r)]),E=new Yt(Zt.a),T||(g.demandEnabled||c||C?Object(bt.i)()||(S=new Kt({docInfo:h,placement:g,environment:p},{urlParams:s,util:Zt.a,gdprVendorConsentData:w})):x=E.serve(ft(),"demand_disabled"))}},J=function(){var t=h.window.navigator;if(!t)throw new Ct.a("setBrowserInfo failed: no window.navigator");var e=new xt(t.userAgent);L=e.getBrowserInfo()},q=function(){D=Me({win:h.topWindow,pageInfo:A,placement:g,util:Zt.a,errorHandler:_},f),O=new $t({docInfo:h,positionService:D,hook:b,errorHandler:_,placement:g})},X=function(){var t=wt()(At.a.mark(function t(){var e;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("function"==typeof h.topWindow.__cmp)return t.prev=1,e=new re(h.topWindow),t.next=5,e.getConsentData();t.next=11;break;case 5:w=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),_.fireError("Error getting gdpr vendorConsentData: ".concat(t.t0.message),mn);case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(){return t.apply(this,arguments)}}(),K=function(){var t=1.5*g.timeoutDuration;return Zt.a.timeoutWrap(function(){x=E.serve(ft(),"global_timeout")},t),N=pt(),R=N.auctionIFRAME,(F=new Vt({contentWindow:R.contentWindow},{util:Zt.a,errorDecorator:I})).setListeners(),P=ht(),new Promise(function(){var e=wt()(At.a.mark(function t(n){return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m.log(te.AUCTION_START),f.once(St.c,function(t){var e=t.payload;m.log(te.AUCTION_RESPONSE),C&&m.setIsHeaderBidding(!0),V=e,m.setFormatId(V.settings.format_id),n()}),C)return R.contentWindow.dynamicCreativeRender(k),t.abrupt("return");t.next=5;break;case 5:j=vt(),N.run(j.buildAuctionPath()).catch(function(t){_.fireError(t.message?t.message:"error running auction",gn)});case 7:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}())},$=function(){var t=wt()(At.a.mark(function t(){var e,n,r,i,a,o;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=V.settings,n=e.dco_tag_url,r=e.dco_protocol,n&&r===Et.a.DCO_PROTOCOLS.DV_BLOCKING)return i=new ne(V,{errorHandler:_}),t.next=5,i.callDV();t.next=6;break;case 5:return t.abrupt("return");case 6:if(n)return a=mt(V),t.prev=8,t.next=11,a.getOptimizedAsset();t.next=19;break;case 11:o=t.sent,V.assets=[o.asset],V.settings.isFallbackAssets=o.isFallback,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),x=E.serve(ft(),"dco_error");case 19:case"end":return t.stop()}},t,null,[[8,16]])}));return function(){return t.apply(this,arguments)}}(),tt=function(){if(!x){if(!Jt.hasMacro(g.templateCode)&&V.settings.format_id!==p.formats.header_direct_banner)throw new Ct.a("Format not HDX and placement template code is not valid.");U=!0;var t=(B=new Jt(_)).getAltTemplate(g.templates,V.settings.template_id,d.getTagTemplateId(),s.tlTemplateId);Object.assign(g,t),B.parse(g.templateCode)}},et=function(){var t=d.script,e=t&&Object(bt.p)(t.src).queryKey.ct;W=ee.create({environment:p,placement:g,pageInfo:A,isSmallScreen:L.isSmallScreen,clickTrackerDTJ:e,debug:c,creativePayload:V,templateDetail:B.templateDetail,tlImageId:s.tlImageId}),z=new qt({docInfo:h,placement:g},{creative:W,auctionIFRAMEWriterOverride:F,firePix:v,errorHandler:_}),H=new kt({pageInfo:A,environment:p,rev:o},{creative:W,lifecycleManager:a,thirdPartyAnalytics:z,firePix:v,errorHandler:_,util:Zt.a}),!A.isViewabilityAware()&&W.needsViewabilityAwareness()&&_.fireError("Position aware format served to unfriendly frame",vn),P.setAnalytics(H)},nt=function(){m.log(te.RENDER),H.render(),i.onbeforeunload=null,S&&S.doSyncIfAllDone()},rt=function(){var t=wt()(At.a.mark(function t(){var e,n,r,i,a,o,s,c,u,l,d;return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ut.hideHook(b),e={placement:g,environment:p,creative:W,firePix:v,errorHandler:_,eventController:f,util:Zt.a},t.next=4,cn.load(e);case 4:return n=t.sent,r=n[0].default,i=Zt.a.pluck(n.slice(1),"default"),a=i.map(function(t){return t.create()}),o={creative:W,placement:g,environment:p,browserInfo:L,pageInfo:A,docInfo:h,analytics:H,util:Zt.a,templateCode:B,positionService:D,firePix:v,errorHandler:_,eventController:f,featureConfigs:a},s=r.create(o),t.next=12,s.render();case 12:for(c=t.sent,Q=c.domRefs,B.chosenTemplate.appendChild(Q.adWrapper),u=B.templateWrapEl.childNodes,l=0;l<u.length;l++)1===(d=u[l]).nodeType&&Qt.insertAd(d,b);Zt.a.triggerEvent(h.topWindow,"resize",document),m.log(te.AD_ON_PAGE),f.publish(St.a),kt.sendAdReadySignal();case 21:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),it=function(){var t=Q.mainImageCsrDiv||Q.mainImage,e=Q.adWrapperWithDims;H.appendThirdPartyJs(e,t),st(),A.isViewabilityAware()&&(O.listenForPercentageAdViewability(e,H.viewable.bind(H)),O.listenForOnePxAdViewability(H.onePxViewable.bind(H))),Math.random()<.01&&Gt({adWrapperWithDims:e,mainContent:t,positionService:D,pageInfo:A,bundleStartTime:n,firePix:v,errorHandler:_})},at=function(){(new Wt).layout(b)},ot=function(){var t=wt()(At.a.mark(function t(){return At.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return G(),t.next=3,X();case 3:return Z(),J(),q(),t.next=8,K();case 8:return t.next=10,$();case 10:return tt(),et(),nt(),t.next=15,rt();case 15:it(),at();case 17:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.prev=41,t.next=44,ot();case 44:t.next=49;break;case 46:if(t.prev=46,t.t0=t.catch(41),_)try{_.fireError(t.t0,gn)}catch(t){yt(t)}else yt(t.t0);case 49:case"end":return t.stop()}},t,null,[[41,46]])}))).apply(this,arguments)}var In=window._tlImpressionBusLoader;u.p=In.getPublicPath(),In.onload(hn)}]);